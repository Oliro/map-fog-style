(self.webpackChunkmap_fog_style=self.webpackChunkmap_fog_style||[]).push([[179],{476:(Dt,vt,A)=>{"use strict";function U(t){return"function"==typeof t}function $(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ct=$(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ut(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class _t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(U(r))try{r()}catch(s){e=s instanceof ct?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{xt(s)}catch(u){e=e??[],u instanceof ct?e=[...e,...u.errors]:e.push(u)}}if(e)throw new ct(e)}}add(e){var n;if(e&&e!==this)if(this.closed)xt(e);else{if(e instanceof _t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ut(n,e)}remove(e){const{_finalizers:n}=this;n&&ut(n,e),e instanceof _t&&e._removeParent(this)}}_t.EMPTY=(()=>{const t=new _t;return t.closed=!0,t})();const J=_t.EMPTY;function wt(t){return t instanceof _t||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function xt(t){U(t)?t():t.unsubscribe()}const Pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ut={setTimeout(t,e,...n){const{delegate:r}=Ut;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ut;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Rt(t){Ut.setTimeout(()=>{const{onUnhandledError:e}=Pt;if(!e)throw t;e(t)})}function It(){}const bt=Z("C",void 0,void 0);function Z(t,e,n){return{kind:t,value:e,error:n}}let R=null;function H(t){if(Pt.useDeprecatedSynchronousErrorHandling){const e=!R;if(e&&(R={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=R;if(R=null,n)throw r}}else t()}class nt extends _t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wt(e)&&e.add(this)):this.destination=W}static create(e,n,r){return new T(e,n,r)}next(e){this.isStopped?lt(function B(t){return Z("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?lt(function Yt(t){return Z("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lt(bt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const V=Function.prototype.bind;function j(t,e){return V.call(t,e)}class Y{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ct(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ct(r)}else Ct(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ct(n)}}}class T extends nt{constructor(e,n,r){let i;if(super(),U(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Pt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&j(e.next,s),error:e.error&&j(e.error,s),complete:e.complete&&j(e.complete,s)}):i=e}this.destination=new Y(i)}}function Ct(t){Pt.useDeprecatedSynchronousErrorHandling?function F(t){Pt.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=t)}(t):Rt(t)}function lt(t,e){const{onStoppedNotification:n}=Pt;n&&Ut.setTimeout(()=>n(t,e))}const W={closed:!0,next:It,error:function rt(t){throw t},complete:It},Xt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Bt(t){return t}function gt(t){return 0===t.length?Bt:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let it=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function X(t){return t&&t instanceof nt||function ht(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}(t)&&wt(t)}(n)?n:new T(n,r,i);return H(()=>{const{operator:u,source:f}=this;s.add(u?u.call(s,f):f?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ot(r))((i,s)=>{const u=new T({next:f=>{try{n(f)}catch(d){s(d),u.unsubscribe()}},error:s,complete:i});this.subscribe(u)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Xt](){return this}pipe(...n){return gt(n)(this)}toPromise(n){return new(n=ot(n))((r,i)=>{let s;this.subscribe(u=>s=u,u=>i(u),()=>r(s))})}}return t.create=e=>new t(e),t})();function ot(t){var e;return null!==(e=t??Pt.Promise)&&void 0!==e?e:Promise}const Lt=$(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Mt=(()=>{class t extends it{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new $t(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Lt}next(n){H(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){H(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){H(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?J:(this.currentObservers=null,s.push(n),new _t(()=>{this.currentObservers=null,ut(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new it;return n.source=this,n}}return t.create=(e,n)=>new $t(e,n),t})();class $t extends Mt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:J}}function St(t){return U(t?.lift)}function te(t){return e=>{if(St(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,e,n,r,i){return new De(t,e,n,r,i)}class De extends nt{constructor(e,n,r,i,s,u){super(e),this.onFinalize=s,this.shouldUnsubscribe=u,this._next=n?function(f){try{n(f)}catch(d){e.error(d)}}:super._next,this._error=i?function(f){try{i(f)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(f){e.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function re(t,e){return te((n,r)=>{let i=0;n.subscribe(oe(r,s=>{r.next(t.call(e,s,i++))}))})}function di(t){return this instanceof di?(this.v=t,this):new di(t)}function O(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function cr(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(u){return new Promise(function(f,d){!function i(s,u,f,d){Promise.resolve(d).then(function(p){s({value:p,done:f})},u)}(f,d,(u=t[s](u)).done,u.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const se=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ge(t){return U(t?.then)}function mn(t){return U(t[Xt])}function Ke(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function lr(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Gr=function Hi(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Oi(t){return U(t?.[Gr])}function Sn(t){return function Nt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(w){r[w]&&(i[w]=function(C){return new Promise(function(b,P){s.push([w,C,b,P])>1||f(w,C)})})}function f(w,C){try{!function d(w){w.value instanceof di?Promise.resolve(w.value.v).then(p,y):v(s[0][2],w)}(r[w](C))}catch(b){v(s[0][3],b)}}function p(w){f("next",w)}function y(w){f("throw",w)}function v(w,C){w(C),s.shift(),s.length&&f(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield di(n.read());if(i)return yield di(void 0);yield yield di(r)}}finally{n.releaseLock()}})}function ve(t){return U(t?.getReader)}function rr(t){if(t instanceof it)return t;if(null!=t){if(mn(t))return function gi(t){return new it(e=>{const n=t[Xt]();if(U(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(se(t))return function Je(t){return new it(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Ge(t))return function Fr(t){return new it(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Rt)})}(t);if(Ke(t))return jr(t);if(Oi(t))return function kr(t){return new it(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ve(t))return function wr(t){return jr(Sn(t))}(t)}throw lr(t)}function jr(t){return new it(e=>{(function hs(t,e){var n,r,i,s;return function ur(t,e,n,r){return new(n||(n=Promise))(function(s,u){function f(y){try{p(r.next(y))}catch(v){u(v)}}function d(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?s(y.value):function i(s){return s instanceof n?s:new n(function(u){u(s)})}(y.value).then(f,d)}p((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=O(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(u){i={error:u}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Yr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function gr(t,e,n=1/0){return U(e)?gr((r,i)=>re((s,u)=>e(r,s,i,u))(rr(t(r,i))),n):("number"==typeof e&&(n=e),te((r,i)=>function Ua(t,e,n,r,i,s,u,f){const d=[];let p=0,y=0,v=!1;const w=()=>{v&&!d.length&&!p&&e.complete()},C=P=>p<r?b(P):d.push(P),b=P=>{s&&e.next(P),p++;let K=!1;rr(n(P,y++)).subscribe(oe(e,G=>{i?.(G),s?C(G):e.next(G)},()=>{K=!0},void 0,()=>{if(K)try{for(p--;d.length&&p<r;){const G=d.shift();u?Yr(e,u,()=>b(G)):b(G)}w()}catch(G){e.error(G)}}))};return t.subscribe(oe(e,C,()=>{v=!0,w()})),()=>{f?.()}}(r,i,t,n)))}function ca(t=1/0){return gr(Bt,t)}const Nn=new it(t=>t.complete());function ds(t){return t[t.length-1]}function Xr(t){return U(ds(t))?t.pop():void 0}function Ns(t){return function ro(t){return t&&U(t.schedule)}(ds(t))?t.pop():void 0}function So(t,e=0){return te((n,r)=>{n.subscribe(oe(r,i=>Yr(r,t,()=>r.next(i),e),()=>Yr(r,t,()=>r.complete(),e),i=>Yr(r,t,()=>r.error(i),e)))})}function Ri(t,e=0){return te((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function nn(t,e){if(!t)throw new Error("Iterable cannot be null");return new it(n=>{Yr(n,e,()=>{const r=t[Symbol.asyncIterator]();Yr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $r(t,e){return e?function io(t,e){if(null!=t){if(mn(t))return function mu(t,e){return rr(t).pipe(Ri(e),So(e))}(t,e);if(se(t))return function $s(t,e){return new it(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Ge(t))return function Ga(t,e){return rr(t).pipe(Ri(e),So(e))}(t,e);if(Ke(t))return nn(t,e);if(Oi(t))return function Pn(t,e){return new it(n=>{let r;return Yr(n,e,()=>{r=t[Gr](),Yr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(u){return void n.error(u)}s?n.complete():n.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}(t,e);if(ve(t))return function yu(t,e){return nn(Sn(t),e)}(t,e)}throw lr(t)}(t,e):rr(t)}class fe extends Mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function be(...t){return $r(t,Ns(t))}function ho(t={}){const{connector:e=(()=>new Mt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let u,f,d,p=0,y=!1,v=!1;const w=()=>{f?.unsubscribe(),f=void 0},C=()=>{w(),u=d=void 0,y=v=!1},b=()=>{const P=u;C(),P?.unsubscribe()};return te((P,K)=>{p++,!v&&!y&&w();const G=d=d??e();K.add(()=>{p--,0===p&&!v&&!y&&(f=ha(b,i))}),G.subscribe(K),!u&&p>0&&(u=new T({next:M=>G.next(M),error:M=>{v=!0,w(),f=ha(C,n,M),G.error(M)},complete:()=>{y=!0,w(),f=ha(C,r),G.complete()}}),rr(P).subscribe(u))})(s)}}function ha(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new T({next:()=>{r.unsubscribe(),t()}});return rr(e(...n)).subscribe(r)}function Ne(t,e){return te((n,r)=>{let i=null,s=0,u=!1;const f=()=>u&&!i&&r.complete();n.subscribe(oe(r,d=>{i?.unsubscribe();let p=0;const y=s++;rr(t(d,y)).subscribe(i=oe(r,v=>r.next(e?e(d,v,y,p++):v),()=>{i=null,f()}))},()=>{u=!0,f()}))})}function zu(t,e){return t===e}function xn(t){for(let e in t)if(t[e]===xn)return e;throw Error("Could not find renamed property on target object.")}function ir(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function or(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(or).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function qs(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ja=xn({__forward_ref__:xn});function Wt(t){return t.__forward_ref__=Wt,t.toString=function(){return or(this())},t}function We(t){return oo(t)?t():t}function oo(t){return"function"==typeof t&&t.hasOwnProperty(ja)&&t.__forward_ref__===Wt}function Mo(t){return t&&!!t.\u0275providers}class Zt extends Error{constructor(e,n){super(function gn(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ie(t){return"string"==typeof t?t:null==t?"":String(t)}function _n(t,e){throw new Zt(-201,!1)}function po(t,e){null==t&&function Oe(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Re(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Uo(t){return{providers:t.providers||[],imports:t.imports||[]}}function vu(t){return Ts(t,Po)||Ts(t,Br)}function Ts(t,e){return t.hasOwnProperty(e)?t[e]:null}function As(t){return t&&(t.hasOwnProperty(Ys)||t.hasOwnProperty(_e))?t[Ys]:null}const Po=xn({\u0275prov:xn}),Ys=xn({\u0275inj:xn}),Br=xn({ngInjectableDef:xn}),_e=xn({ngInjectorDef:xn});var Dn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Dn||{});let da;function Vr(t){const e=da;return da=t,e}function Ls(t,e,n){const r=vu(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Dn.Optional?null:void 0!==e?e:void _n(or(t))}const br=globalThis;class Ee{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Re({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Go={},wn="__NG_DI_FLAG__",Vi="ngTempTokenPath",ms=/\n/gm,_i="__source";let Za;function wi(t){const e=Za;return Za=t,e}function jo(t,e=Dn.Default){if(void 0===Za)throw new Zt(-203,!1);return null===Za?Ls(t,void 0,e):Za.get(t,e&Dn.Optional?null:void 0,e)}function Me(t,e=Dn.Default){return(function Kr(){return da}()||jo)(We(t),e)}function pe(t,e=Dn.Default){return Me(t,No(e))}function No(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function To(t){const e=[];for(let n=0;n<t.length;n++){const r=We(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Zt(900,!1);let i,s=Dn.Default;for(let u=0;u<r.length;u++){const f=r[u],d=ri(f);"number"==typeof d?-1===d?i=f.token:s|=d:i=f}e.push(Me(i,s))}else e.push(Me(r))}return e}function mo(t,e){return t[wn]=e,t.prototype[wn]=e,t}function ri(t){return t[wn]}function Er(t){return{toString:t}.toString()}var Jo=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Jo||{}),Jr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jr||{});const vs={},Ve=[],wu=xn({\u0275cmp:xn}),ts=xn({\u0275dir:xn}),ga=xn({\u0275pipe:xn}),_s=xn({\u0275mod:xn}),Ho=xn({\u0275fac:xn}),es=xn({__NG_ELEMENT_ID__:xn}),Ao=xn({__NG_ENV_ID__:xn});function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Os(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],u=n[r++],f=n[r++];t.setAttribute(e,u,f,s)}else{const s=i,u=n[++r];Ki(s)?t.setProperty(e,s,u):t.setAttribute(e,s,u),r++}}return r}function ai(t){return 3===t||4===t||6===t}function Ki(t){return 64===t.charCodeAt(0)}function yo(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Wa(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Wa(t,e,n,r,i){let s=0,u=t.length;if(-1===e)u=-1;else for(;s<t.length;){const f=t[s++];if("number"==typeof f){if(f===e){u=-1;break}if(f>e){u=s-1;break}}}for(;s<t.length;){const f=t[s];if("number"==typeof f)break;if(f===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==u&&(t.splice(u,0,e),s=u+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Qs="ng-template";function Ks(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const u=t[r++];if(n&&"class"===s&&-1!==ti(u.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Lo(t){return 4===t.type&&t.value!==Qs}function Mi(t,e,n){return e===(4!==t.type||n?t.value:Qs)}function Oo(t,e,n){let r=4;const i=t.attrs||[],s=function ii(t){for(let e=0;e<t.length;e++)if(ai(t[e]))return e;return t.length}(i);let u=!1;for(let f=0;f<e.length;f++){const d=e[f];if("number"!=typeof d){if(!u)if(4&r){if(r=2|1&r,""!==d&&!Mi(t,d,n)||""===d&&1===e.length){if(Mr(r))return!1;u=!0}}else{const p=8&r?d:e[++f];if(8&r&&null!==t.attrs){if(!Ks(t.attrs,p,n)){if(Mr(r))return!1;u=!0}continue}const v=hl(8&r?"class":d,i,Lo(t),n);if(-1===v){if(Mr(r))return!1;u=!0;continue}if(""!==p){let w;w=v>s?"":i[v+1].toLowerCase();const C=8&r?w:null;if(C&&-1!==ti(C,p,0)||2&r&&p!==w){if(Mr(r))return!1;u=!0}}}}else{if(!u&&!Mr(r)&&!Mr(d))return!1;if(u&&Mr(d))continue;u=!1,r=d|1&r}}return Mr(r)||u}function Mr(t){return 0==(1&t)}function hl(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const u=e[i];if(u===t)return i;if(3===u||6===u)s=!0;else{if(1===u||2===u){let f=e[++i];for(;"string"==typeof f;)f=e[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=s?1:2}return-1}return function zi(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Rs(t,e,n=!1){for(let r=0;r<e.length;r++)if(Oo(t,e[r],n))return!0;return!1}function _o(t,e){return t?":not("+e.trim()+")":e}function ju(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let u=t[n];if("string"==typeof u)if(2&r){const f=t[++n];i+="["+u+(f.length>0?'="'+f+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""!==i&&!Mr(u)&&(e+=_o(s,i),i=""),r=u,s=s||!Mr(r);n++}return""!==i&&(e+=_o(s,i)),e}function Zi(t){return Er(()=>{const e=dl(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Jo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jr.Emulated,styles:t.styles||Ve,_:null,schemas:t.schemas||null,tView:null,id:""};$u(n);const r=t.dependencies;return n.directiveDefs=ui(r,!1),n.pipeDefs=ui(r,!0),n.id=function qu(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Ei(t){return an(t)||zr(t)}function Hu(t){return null!==t}function Ci(t){return Er(()=>({type:t.type,bootstrap:t.bootstrap||Ve,declarations:t.declarations||Ve,imports:t.imports||Ve,exports:t.exports||Ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function wo(t,e){if(null==t)return vs;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function He(t){return Er(()=>{const e=dl(t);return $u(e),e})}function ei(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function an(t){return t[wu]||null}function zr(t){return t[ts]||null}function Tn(t){return t[ga]||null}function In(t,e){const n=t[_s]||null;if(!n&&!0===e)throw new Error(`Type ${or(t)} does not have '\u0275mod' property.`);return n}function dl(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||vs,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wo(t.inputs,e),outputs:wo(t.outputs)}}function $u(t){t.features?.forEach(e=>e(t))}function ui(t,e){if(!t)return null;const n=e?Tn:Ei;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Hu)}const xr=0,ge=1,Te=2,hn=3,Eo=4,l=5,g=6,_=7,x=8,I=9,z=10,st=11,Ot=12,jt=13,Jt=14,ne=15,ke=16,rn=17,Ur=18,Tr=19,Pi=20,qr=21,Ui=22,ns=23,$e=24,un=25,ks=1,to=2,mr=7,Dr=9,Di=11;function a(t){return Array.isArray(t)&&"object"==typeof t[ks]}function c(t){return Array.isArray(t)&&!0===t[ks]}function h(t){return 0!=(4&t.flags)}function m(t){return t.componentOffset>-1}function E(t){return 1==(1&t.flags)}function D(t){return!!t.template}function N(t){return 0!=(512&t[Te])}function pl(t,e){return t.hasOwnProperty(Ho)?t[Ho]:null}let qo=null,Uh=!1;function va(t){const e=qo;return qo=t,e}const W0={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function X0(t){if(!nf(t)||t.dirty){if(!t.producerMustRecompute(t)&&!J0(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function K0(t){t.dirty=!0,function Q0(t){if(void 0===t.liveConsumerNode)return;const e=Uh;Uh=!0;try{for(const n of t.liveConsumerNode)n.dirty||K0(n)}finally{Uh=e}}(t),t.consumerMarkedDirty?.(t)}function Vg(t){return t&&(t.nextProducerIndex=0),va(t)}function zg(t,e){if(va(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(nf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Gh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function J0(t){zl(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(X0(n),r!==n.version))return!0}return!1}function t1(t){if(zl(t),nf(t))for(let e=0;e<t.producerNode.length;e++)Gh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Gh(t,e){if(function n1(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),zl(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Gh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];zl(i),i.producerIndexOfThis[r]=e}}function nf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function zl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let r1=null;const a1=()=>{},ET=(()=>({...W0,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:a1}))();class CT{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function _a(){return u1}function u1(t){return t.type.prototype.ngOnChanges&&(t.setInput=DT),xT}function xT(){const t=c1(this),e=t?.current;if(e){const n=t.previous;if(n===vs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function DT(t,e,n,r){const i=this.declaredInputs[n],s=c1(t)||function IT(t,e){return t[l1]=e}(t,{previous:vs,current:null}),u=s.current||(s.current={}),f=s.previous,d=f[i];u[i]=new CT(d&&d.currentValue,e,f===vs),t[r]=e}_a.ngInherit=!0;const l1="__ngSimpleChanges__";function c1(t){return t[l1]||null}const Ka=function(t,e,n){};function li(t){for(;Array.isArray(t);)t=t[xr];return t}function jh(t,e){return li(e[t])}function Bs(t,e){return li(e[t.index])}function d1(t,e){return t.data[e]}function Js(t,e){const n=e[t];return a(n)?n:n[xr]}function Wu(t,e){return null==e?null:t[e]}function p1(t){t[rn]=0}function TT(t){1024&t[Te]||(t[Te]|=1024,m1(t,1))}function g1(t){1024&t[Te]&&(t[Te]&=-1025,m1(t,-1))}function m1(t,e){let n=t[hn];if(null===n)return;n[l]+=e;let r=n;for(n=n[hn];null!==n&&(1===e&&1===r[l]||-1===e&&0===r[l]);)n[l]+=e,r=n,n=n[hn]}const ln={lFrame:S1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _1(){return ln.bindingsEnabled}function ee(){return ln.lFrame.lView}function yr(){return ln.lFrame.tView}function Zo(){let t=w1();for(;null!==t&&64===t.type;)t=t.parent;return t}function w1(){return ln.lFrame.currentTNode}function Ja(t,e){const n=ln.lFrame;n.currentTNode=t,n.isParent=e}function $g(){return ln.lFrame.isParent}function jl(){return ln.lFrame.bindingIndex++}function $T(t,e){const n=ln.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zg(e)}function Zg(t){ln.lFrame.currentDirectiveIndex=t}function Yg(t){ln.lFrame.currentQueryIndex=t}function ZT(t){const e=t[ge];return 2===e.type?e.declTNode:1===e.type?t[g]:null}function I1(t,e,n){if(n&Dn.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Dn.Host||(i=ZT(s),null===i||(s=s[Jt],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ln.lFrame=b1();return r.currentTNode=e,r.lView=t,!0}function Xg(t){const e=b1(),n=t[ge];ln.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function b1(){const t=ln.lFrame,e=null===t?null:t.child;return null===e?S1(t):e}function S1(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function M1(){const t=ln.lFrame;return ln.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const P1=M1;function Qg(){const t=M1();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Es(){return ln.lFrame.selectedIndex}function gl(t){ln.lFrame.selectedIndex=t}let T1=!0;function Hh(){return T1}function Yu(t){T1=t}function $h(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:f,ngAfterViewInit:d,ngAfterViewChecked:p,ngOnDestroy:y}=s;u&&(t.contentHooks??=[]).push(-n,u),f&&((t.contentHooks??=[]).push(n,f),(t.contentCheckHooks??=[]).push(n,f)),d&&(t.viewHooks??=[]).push(-n,d),p&&((t.viewHooks??=[]).push(n,p),(t.viewCheckHooks??=[]).push(n,p)),null!=y&&(t.destroyHooks??=[]).push(n,y)}}function qh(t,e,n){A1(t,e,3,n)}function Zh(t,e,n,r){(3&t[Te])===n&&A1(t,e,n,r)}function Kg(t,e){let n=t[Te];(3&n)===e&&(n&=8191,n+=1,t[Te]=n)}function A1(t,e,n,r){const s=r??-1,u=e.length-1;let f=0;for(let d=void 0!==r?65535&t[rn]:0;d<u;d++)if("number"==typeof e[d+1]){if(f=e[d],null!=r&&f>=r)break}else e[d]<0&&(t[rn]+=65536),(f<s||-1==s)&&(eA(t,n,e,d),t[rn]=(4294901760&t[rn])+d+2),d++}function L1(t,e){Ka(4,t,e);const n=va(null);try{e.call(t)}finally{va(n),Ka(5,t,e)}}function eA(t,e,n,r){const i=n[r]<0,s=n[r+1],f=t[i?-n[r]:n[r]];i?t[Te]>>13<t[rn]>>16&&(3&t[Te])===e&&(t[Te]+=8192,L1(f,s)):L1(f,s)}const Hl=-1;class sf{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function tm(t){return t!==Hl}function af(t){return 32767&t}function uf(t,e){let n=function oA(t){return t>>16}(t),r=e;for(;n>0;)r=r[Jt],n--;return r}let em=!0;function Wh(t){const e=em;return em=t,e}const O1=255,R1=5;let sA=0;const tu={};function Yh(t,e){const n=F1(t,e);if(-1!==n)return n;const r=e[ge];r.firstCreatePass&&(t.injectorIndex=e.length,nm(r.data,t),nm(e,null),nm(r.blueprint,null));const i=Xh(t,e),s=t.injectorIndex;if(tm(i)){const u=af(i),f=uf(i,e),d=f[ge].data;for(let p=0;p<8;p++)e[s+p]=f[u+p]|d[u+p]}return e[s+8]=i,s}function nm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function F1(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Xh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=j1(i),null===r)return Hl;if(n++,i=i[Jt],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Hl}function rm(t,e,n){!function aA(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(es)&&(r=n[es]),null==r&&(r=n[es]=sA++);const i=r&O1;e.data[t+(i>>R1)]|=1<<i}(t,e,n)}function k1(t,e,n){if(n&Dn.Optional||void 0!==t)return t;_n()}function B1(t,e,n,r){if(n&Dn.Optional&&void 0===r&&(r=null),!(n&(Dn.Self|Dn.Host))){const i=t[I],s=Vr(void 0);try{return i?i.get(e,r,n&Dn.Optional):Ls(e,r,n&Dn.Optional)}finally{Vr(s)}}return k1(r,0,n)}function V1(t,e,n,r=Dn.Default,i){if(null!==t){if(2048&e[Te]&&!(r&Dn.Self)){const u=function dA(t,e,n,r,i){let s=t,u=e;for(;null!==s&&null!==u&&2048&u[Te]&&!(512&u[Te]);){const f=z1(s,u,n,r|Dn.Self,tu);if(f!==tu)return f;let d=s.parent;if(!d){const p=u[Pi];if(p){const y=p.get(n,tu,r);if(y!==tu)return y}d=j1(u),u=u[Jt]}s=d}return i}(t,e,n,r,tu);if(u!==tu)return u}const s=z1(t,e,n,r,tu);if(s!==tu)return s}return B1(e,n,r,i)}function z1(t,e,n,r,i){const s=function cA(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(es)?t[es]:void 0;return"number"==typeof e?e>=0?e&O1:hA:e}(n);if("function"==typeof s){if(!I1(e,t,r))return r&Dn.Host?k1(i,0,r):B1(e,n,r,i);try{let u;if(u=s(r),null!=u||r&Dn.Optional)return u;_n()}finally{P1()}}else if("number"==typeof s){let u=null,f=F1(t,e),d=Hl,p=r&Dn.Host?e[ne][g]:null;for((-1===f||r&Dn.SkipSelf)&&(d=-1===f?Xh(t,e):e[f+8],d!==Hl&&G1(r,!1)?(u=e[ge],f=af(d),e=uf(d,e)):f=-1);-1!==f;){const y=e[ge];if(U1(s,f,y.data)){const v=lA(f,e,n,u,r,p);if(v!==tu)return v}d=e[f+8],d!==Hl&&G1(r,e[ge].data[f+8]===p)&&U1(s,f,e)?(u=y,f=af(d),e=uf(d,e)):f=-1}}return i}function lA(t,e,n,r,i,s){const u=e[ge],f=u.data[t+8],y=function Qh(t,e,n,r,i){const s=t.providerIndexes,u=e.data,f=1048575&s,d=t.directiveStart,y=s>>20,w=i?f+y:t.directiveEnd;for(let C=r?f:f+y;C<w;C++){const b=u[C];if(C<d&&n===b||C>=d&&b.type===n)return C}if(i){const C=u[d];if(C&&D(C)&&C.type===n)return d}return null}(f,u,n,null==r?m(f)&&em:r!=u&&0!=(3&f.type),i&Dn.Host&&s===f);return null!==y?ml(e,u,y,f):tu}function ml(t,e,n,r){let i=t[n];const s=e.data;if(function nA(t){return t instanceof sf}(i)){const u=i;u.resolving&&function ef(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Zt(-200,`Circular dependency in DI detected for ${t}${n}`)}(function fr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ie(t)}(s[n]));const f=Wh(u.canSeeViewProviders);u.resolving=!0;const p=u.injectImpl?Vr(u.injectImpl):null;I1(t,r,Dn.Default);try{i=t[n]=u.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function tA(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const u=u1(e);(n.preOrderHooks??=[]).push(t,u),(n.preOrderCheckHooks??=[]).push(t,u)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==p&&Vr(p),Wh(f),u.resolving=!1,P1()}}return i}function U1(t,e,n){return!!(n[e+(t>>R1)]&1<<t)}function G1(t,e){return!(t&Dn.Self||t&Dn.Host&&e)}class Cs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return V1(this._tNode,this._lView,e,No(r),n)}}function hA(){return new Cs(Zo(),ee())}function Wo(t){return Er(()=>{const e=t.prototype.constructor,n=e[Ho]||im(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ho]||im(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function im(t){return oo(t)?()=>{const e=im(We(t));return e&&e()}:pl(t)}function j1(t){const e=t[ge],n=e.type;return 2===n?e.declTNode:1===n?t[g]:null}const ql="__parameters__";function Wl(t,e,n){return Er(()=>{const r=function om(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const u=new i(...s);return f.annotation=u,f;function f(d,p,y){const v=d.hasOwnProperty(ql)?d[ql]:Object.defineProperty(d,ql,{value:[]})[ql];for(;v.length<=y;)v.push(null);return(v[y]=v[y]||[]).push(u),d}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Xl(t,e){t.forEach(n=>Array.isArray(n)?Xl(n,e):e(n))}function $1(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ta(t,e,n){let r=Ql(t,e);return r>=0?t[1|r]=n:(r=~r,function wA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function sm(t,e){const n=Ql(t,e);if(n>=0)return t[1|n]}function Ql(t,e){return function q1(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),u=t[s<<n];if(e===u)return s<<n;u>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const ed=mo(Wl("Optional"),8),nd=mo(Wl("SkipSelf"),4);function ad(t){return 128==(128&t.flags)}var Xu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xu||{});const fm=new Map;let HA=0;const dm="__ngContext__";function rs(t,e){a(e)?(t[dm]=e[Tr],function qA(t){fm.set(t[Tr],t)}(e)):t[dm]=e}let pm;function gm(t,e){return pm(t,e)}function pf(t){const e=t[hn];return c(e)?e[hn]:e}function hw(t){return pw(t[Ot])}function dw(t){return pw(t[Eo])}function pw(t){for(;null!==t&&!c(t);)t=t[Eo];return t}function tc(t,e,n,r,i){if(null!=r){let s,u=!1;c(r)?s=r:a(r)&&(u=!0,r=r[xr]);const f=li(r);0===t&&null!==n?null==i?vw(e,n,f):yl(e,n,f,i||null,!0):1===t&&null!==n?yl(e,n,f,i||null,!0):2===t?function pd(t,e,n){const r=hd(t,e);r&&function fL(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,f,u):3===t&&e.destroyNode(f),null!=s&&function pL(t,e,n,r,i){const s=n[mr];s!==li(n)&&tc(e,t,r,s,i);for(let f=Di;f<n.length;f++){const d=n[f];mf(d[ge],d,t,e,r,s)}}(e,t,s,n,i)}}function cd(t,e,n){return t.createElement(e,n)}function mw(t,e){const n=t[Dr],r=n.indexOf(e);g1(e),n.splice(r,1)}function fd(t,e){if(t.length<=Di)return;const n=Di+e,r=t[n];if(r){const i=r[ke];null!==i&&i!==t&&mw(i,r),e>0&&(t[n-1][Eo]=r[Eo]);const s=Jh(t,Di+e);!function rL(t,e){mf(t,e,e[st],2,null,null),e[xr]=null,e[g]=null}(r[ge],r);const u=s[Ur];null!==u&&u.detachView(s[ge]),r[hn]=null,r[Eo]=null,r[Te]&=-129}return r}function ym(t,e){if(!(256&e[Te])){const n=e[st];e[ns]&&t1(e[ns]),e[$e]&&t1(e[$e]),n.destroyNode&&mf(t,e,n,3,null,null),function sL(t){let e=t[Ot];if(!e)return vm(t[ge],t);for(;e;){let n=null;if(a(e))n=e[Ot];else{const r=e[Di];r&&(n=r)}if(!n){for(;e&&!e[Eo]&&e!==t;)a(e)&&vm(e[ge],e),e=e[hn];null===e&&(e=t),a(e)&&vm(e[ge],e),n=e&&e[Eo]}e=n}}(e)}}function vm(t,e){if(!(256&e[Te])){e[Te]&=-129,e[Te]|=256,function cL(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof sf)){const s=n[r+1];if(Array.isArray(s))for(let u=0;u<s.length;u+=2){const f=i[s[u]],d=s[u+1];Ka(4,f,d);try{d.call(f)}finally{Ka(5,f,d)}}else{Ka(4,i,s);try{s.call(i)}finally{Ka(5,i,s)}}}}}(t,e),function lL(t,e){const n=t.cleanup,r=e[_];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const u=n[s+3];u>=0?r[u]():r[-u].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[_]=null);const i=e[qr];if(null!==i){e[qr]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[ge].type&&e[st].destroy();const n=e[ke];if(null!==n&&c(e[hn])){n!==e[hn]&&mw(n,e);const r=e[Ur];null!==r&&r.detachView(t)}!function ZA(t){fm.delete(t[Tr])}(e)}}function _m(t,e,n){return function yw(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[xr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Jr.None||s===Jr.Emulated)return null}return Bs(r,n)}}(t,e.parent,n)}function yl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function vw(t,e,n){t.appendChild(e,n)}function _w(t,e,n,r,i){null!==r?yl(t,e,n,r,i):vw(t,e,n)}function hd(t,e){return t.parentNode(e)}let wm,Dm,Cw=function Ew(t,e,n){return 40&t.type?Bs(t,n):null};function dd(t,e,n,r){const i=_m(t,r,e),s=e[st],f=function ww(t,e,n){return Cw(t,e,n)}(r.parent||e[g],r,e);if(null!=i)if(Array.isArray(n))for(let d=0;d<n.length;d++)_w(s,i,n[d],f,!1);else _w(s,i,n,f,!1);void 0!==wm&&wm(s,r,e,n,i)}function gf(t,e){if(null!==e){const n=e.type;if(3&n)return Bs(e,t);if(4&n)return Em(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return gf(t,r);{const i=t[e.index];return c(i)?Em(-1,i):li(i)}}if(32&n)return gm(e,t)()||li(t[e.index]);{const r=Dw(t,e);return null!==r?Array.isArray(r)?r[0]:gf(pf(t[ne]),r):gf(t,e.next)}}return null}function Dw(t,e){return null!==e?t[ne][g].projection[e.projection]:null}function Em(t,e){const n=Di+t+1;if(n<e.length){const r=e[n],i=r[ge].firstChild;if(null!==i)return gf(r,i)}return e[mr]}function Cm(t,e,n,r,i,s,u){for(;null!=n;){const f=r[n.index],d=n.type;if(u&&0===e&&(f&&rs(li(f),r),n.flags|=2),32!=(32&n.flags))if(8&d)Cm(t,e,n.child,r,i,s,!1),tc(e,t,i,f,s);else if(32&d){const p=gm(n,r);let y;for(;y=p();)tc(e,t,i,y,s);tc(e,t,i,f,s)}else 16&d?bw(t,e,r,n,i,s):tc(e,t,i,f,s);n=u?n.projectionNext:n.next}}function mf(t,e,n,r,i,s){Cm(n,r,t.firstChild,e,i,s,!1)}function bw(t,e,n,r,i,s){const u=n[ne],d=u[g].projection[r.projection];if(Array.isArray(d))for(let p=0;p<d.length;p++)tc(e,t,i,d[p],s);else{let p=d;const y=u[hn];ad(r)&&(p.flags|=128),Cm(t,e,p,y,i,s,!0)}}function Sw(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Mw(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Os(t,e,r),null!==i&&Sw(t,e,i),null!==s&&function mL(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class Aw{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const wf=new Ee("ENVIRONMENT_INITIALIZER"),Gw=new Ee("INJECTOR",-1),jw=new Ee("INJECTOR_DEF_TYPES");class Nm{get(e,n=Go){if(n===Go){const r=new Error(`NullInjectorError: No provider for ${or(e)}!`);throw r.name="NullInjectorError",r}return n}}function jL(...t){return{\u0275providers:$w(0,t),\u0275fromNgModule:!0}}function $w(t,...e){const n=[],r=new Set;let i;const s=u=>{n.push(u)};return Xl(e,u=>{const f=u;vd(f,s,[],r)&&(i||=[],i.push(f))}),void 0!==i&&qw(i,s),n}function qw(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Tm(i,s=>{e(s,r)})}}function vd(t,e,n,r){if(!(t=We(t)))return!1;let i=null,s=As(t);const u=!s&&an(t);if(s||u){if(u&&!u.standalone)return!1;i=t}else{const d=t.ngModule;if(s=As(d),!s)return!1;i=d}const f=r.has(i);if(u){if(f)return!1;if(r.add(i),u.dependencies){const d="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const p of d)vd(p,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!f){let p;r.add(i);try{Xl(s.imports,y=>{vd(y,e,n,r)&&(p||=[],p.push(y))})}finally{}void 0!==p&&qw(p,e)}if(!f){const p=pl(i)||(()=>new i);e({provide:i,useFactory:p,deps:Ve},i),e({provide:jw,useValue:i,multi:!0},i),e({provide:wf,useValue:()=>Me(i),multi:!0},i)}const d=s.providers;if(null!=d&&!f){const p=t;Tm(d,y=>{e(y,p)})}}}return i!==t&&void 0!==t.providers}function Tm(t,e){for(let n of t)Mo(n)&&(n=n.\u0275providers),Array.isArray(n)?Tm(n,e):e(n)}const HL=xn({provide:String,useValue:xn});function Am(t){return null!==t&&"object"==typeof t&&HL in t}function vl(t){return"function"==typeof t}const Lm=new Ee("Set Injector scope."),_d={},qL={};let Om;function wd(){return void 0===Om&&(Om=new Nm),Om}class Ea{}class ic extends Ea{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fm(e,u=>this.processProvider(u)),this.records.set(Gw,oc(void 0,this)),i.has("environment")&&this.records.set(Ea,oc(void 0,this));const s=this.records.get(Lm);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(jw.multi,Ve,Dn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=wi(this),r=Vr(void 0);try{return e()}finally{wi(n),Vr(r)}}get(e,n=Go,r=Dn.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ao))return e[Ao](this);r=No(r);const s=wi(this),u=Vr(void 0);try{if(!(r&Dn.SkipSelf)){let d=this.records.get(e);if(void 0===d){const p=function QL(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ee}(e)&&vu(e);d=p&&this.injectableDefInScope(p)?oc(Rm(e),_d):null,this.records.set(e,d)}if(null!=d)return this.hydrate(e,d)}return(r&Dn.Self?wd():this.parent).get(e,n=r&Dn.Optional&&n===Go?null:n)}catch(f){if("NullInjectorError"===f.name){if((f[Vi]=f[Vi]||[]).unshift(or(e)),s)throw f;return function Vl(t,e,n,r){const i=t[Vi];throw e[_i]&&i.unshift(e[_i]),t.message=function ys(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=or(e);if(Array.isArray(e))i=e.map(or).join(" -> ");else if("object"==typeof e){let s=[];for(let u in e)if(e.hasOwnProperty(u)){let f=e[u];s.push(u+":"+("string"==typeof f?JSON.stringify(f):or(f)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ms,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Vi]=null,t}(f,e,"R3InjectorError",this.source)}throw f}finally{Vr(u),wi(s)}}resolveInjectorInitializers(){const e=wi(this),n=Vr(void 0);try{const i=this.get(wf.multi,Ve,Dn.Self);for(const s of i)s()}finally{wi(e),Vr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(or(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Zt(205,!1)}processProvider(e){let n=vl(e=We(e))?e:We(e&&e.provide);const r=function WL(t){return Am(t)?oc(void 0,t.useValue):oc(Yw(t),_d)}(e);if(vl(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=oc(void 0,_d,!0),i.factory=()=>To(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===_d&&(n.value=qL,n.value=n.factory()),"object"==typeof n.value&&n.value&&function XL(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=We(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Rm(t){const e=vu(t),n=null!==e?e.factory:pl(t);if(null!==n)return n;if(t instanceof Ee)throw new Zt(204,!1);if(t instanceof Function)return function ZL(t){const e=t.length;if(e>0)throw function ff(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new Zt(204,!1);const n=function Bi(t){return t&&(t[Po]||t[Br])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Zt(204,!1)}function Yw(t,e,n){let r;if(vl(t)){const i=We(t);return pl(i)||Rm(i)}if(Am(t))r=()=>We(t.useValue);else if(function Ww(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...To(t.deps||[]));else if(function Zw(t){return!(!t||!t.useExisting)}(t))r=()=>Me(We(t.useExisting));else{const i=We(t&&(t.useClass||t.provide));if(!function YL(t){return!!t.deps}(t))return pl(i)||Rm(i);r=()=>new i(...To(t.deps))}return r}function oc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Fm(t,e){for(const n of t)Array.isArray(n)?Fm(n,e):n&&Mo(n)?Fm(n.\u0275providers,e):e(n)}const Ed=new Ee("AppId",{providedIn:"root",factory:()=>KL}),KL="ng",Xw=new Ee("Platform Initializer"),sc=new Ee("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qw=new Ee("CSP nonce",{providedIn:"root",factory:()=>function nc(){if(void 0!==Dm)return Dm;if(typeof document<"u")return document;throw new Zt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kw=(t,e,n)=>null;function Hm(t,e,n=!1){return Kw(t,e,n)}class uO{}class eE{}class cO{resolveComponentFactory(e){throw function lO(t){const e=Error(`No component factory found for ${or(t)}.`);return e.ngComponent=t,e}(e)}}let Sd=(()=>{class t{static#t=this.NULL=new cO}return t})();function fO(){return lc(Zo(),ee())}function lc(t,e){return new ea(Bs(t,e))}let ea=(()=>{class t{constructor(n){this.nativeElement=n}static#t=this.__NG_ELEMENT_ID__=fO}return t})();class rE{}let Du=(()=>{class t{constructor(){this.destroyNode=null}static#t=this.__NG_ELEMENT_ID__=()=>function dO(){const t=ee(),n=Js(Zo().index,t);return(a(n)?n:t)[st]}()}return t})(),pO=(()=>{class t{static#t=this.\u0275prov=Re({token:t,providedIn:"root",factory:()=>null})}return t})();class xf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const gO=new xf("16.2.12"),Zm={};function aE(t,e=null,n=null,r){const i=uE(t,e,n,r);return i.resolveInjectorInitializers(),i}function uE(t,e=null,n=null,r,i=new Set){const s=[n||Ve,jL(t)];return r=r||("object"==typeof t?void 0:or(t)),new ic(s,e||wd(),r||null,i)}let na=(()=>{class t{static#t=this.THROW_IF_NOT_FOUND=Go;static#e=this.NULL=new Nm;static create(n,r){if(Array.isArray(n))return aE({name:""},r,n,"");{const i=n.name??"";return aE({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Re({token:t,providedIn:"any",factory:()=>Me(Gw)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Ym(t){return t.ngOriginalError}class Iu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ym(e);for(;n&&Ym(n);)n=Ym(n);return n||null}}function Qm(t){return e=>{setTimeout(t,void 0,e)}}const Wi=class CO extends Mt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),u=r;if(e&&"object"==typeof e){const d=e;i=d.next?.bind(d),s=d.error?.bind(d),u=d.complete?.bind(d)}this.__isAsync&&(s=Qm(s),i&&(i=Qm(i)),u&&(u=Qm(u)));const f=super.subscribe({next:i,error:s,complete:u});return e instanceof _t&&e.add(f),f}};function cE(...t){}class ci{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wi(!1),this.onMicrotaskEmpty=new Wi(!1),this.onStable=new Wi(!1),this.onError=new Wi(!1),typeof Zone>"u")throw new Zt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function xO(){const t="function"==typeof br.requestAnimationFrame;let e=br[t?"requestAnimationFrame":"setTimeout"],n=br[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function bO(t){const e=()=>{!function IO(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(br,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Jm(t),t.isCheckStableRunning=!0,Km(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Jm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,u,f)=>{if(function MO(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(f))return n.invokeTask(i,s,u,f);try{return fE(t),n.invokeTask(i,s,u,f)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),hE(t)}},onInvoke:(n,r,i,s,u,f,d)=>{try{return fE(t),n.invoke(i,s,u,f,d)}finally{t.shouldCoalesceRunChangeDetection&&e(),hE(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Jm(t),Km(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ci.isInAngularZone())throw new Zt(909,!1)}static assertNotInAngularZone(){if(ci.isInAngularZone())throw new Zt(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,u=s.scheduleEventTask("NgZoneEvent: "+i,e,DO,cE,cE);try{return s.runTask(u,n,r)}finally{s.cancelTask(u)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const DO={};function Km(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function fE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hE(t){t._nesting--,Km(t)}class SO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wi,this.onMicrotaskEmpty=new Wi,this.onStable=new Wi,this.onError=new Wi}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const dE=new Ee("",{providedIn:"root",factory:pE});function pE(){const t=pe(ci);let e=!0;return function Vu(...t){const e=Ns(t),n=function ps(t,e){return"number"==typeof ds(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?rr(r[0]):ca(n)($r(r,e)):Nn}(new it(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new it(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ci.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const u=t.onUnstable.subscribe(()=>{ci.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),u.unsubscribe()}}).pipe(ho()))}function bu(t){return t instanceof Function?t():t}let ty=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#t=this.\u0275prov=Re({token:t,providedIn:"root",factory:()=>new t})}return t})();function Df(t){for(;t;){t[Te]|=64;const e=pf(t);if(N(t)&&!e)return t;t=e}return null}const _E=new Ee("",{providedIn:"root",factory:()=>!1});let Pd=null;function xE(t,e){return t[e]??bE()}function DE(t,e){const n=bE();n.producerNode?.length&&(t[e]=Pd,n.lView=t,Pd=IE())}const BO={...W0,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Df(t.lView)},lView:null};function IE(){return Object.create(BO)}function bE(){return Pd??=IE(),Pd}const yn={};function Ku(t){SE(yr(),ee(),Es()+t,!1)}function SE(t,e,n,r){if(!r)if(3==(3&e[Te])){const s=t.preOrderCheckHooks;null!==s&&qh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Zh(e,s,0,n)}gl(n)}function ie(t,e=Dn.Default){const n=ee();return null===n?Me(t,e):V1(Zo(),n,We(t),e)}function Nd(t,e,n,r,i,s,u,f,d,p,y){const v=e.blueprint.slice();return v[xr]=i,v[Te]=140|r,(null!==p||t&&2048&t[Te])&&(v[Te]|=2048),p1(v),v[hn]=v[Jt]=t,v[x]=n,v[z]=u||t&&t[z],v[st]=f||t&&t[st],v[I]=d||t&&t[I]||null,v[g]=s,v[Tr]=function $A(){return HA++}(),v[Ui]=y,v[Pi]=p,v[ne]=2==e.type?t[ne]:v,v}function hc(t,e,n,r,i){let s=t.data[e];if(null===s)s=function ey(t,e,n,r,i){const s=w1(),u=$g(),d=t.data[e]=function qO(t,e,n,r,i,s){let u=e?e.injectorIndex:-1,f=0;return function Gl(){return null!==ln.skipHydrationRootTNode}()&&(f|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:f,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=d),null!==s&&(u?null==s.child&&null!==d.parent&&(s.child=d):null===s.next&&(s.next=d,d.prev=s)),d}(t,e,n,r,i),function HT(){return ln.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const u=function rf(){const t=ln.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===u?-1:u.injectorIndex}return Ja(s,!0),s}function If(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function PE(t,e,n,r,i){const s=xE(e,ns),u=Es(),f=2&r;try{gl(-1),f&&e.length>un&&SE(t,e,un,!1),Ka(f?2:0,i);const p=f?s:null,y=Vg(p);try{null!==p&&(p.dirty=!1),n(r,i)}finally{zg(p,y)}}finally{f&&null===e[ns]&&DE(e,ns),gl(u),Ka(f?3:1,i)}}function ny(t,e,n){if(h(e)){const r=va(null);try{const s=e.directiveEnd;for(let u=e.directiveStart;u<s;u++){const f=t.data[u];f.contentQueries&&f.contentQueries(1,n[u],u)}}finally{va(r)}}}function NE(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=oy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function oy(t,e,n,r,i,s,u,f,d,p,y){const v=un+r,w=v+i,C=function zO(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:yn);return n}(v,w),b="function"==typeof p?p():p;return C[ge]={type:t,blueprint:C,template:n,queries:null,viewQuery:f,declTNode:e,data:C.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:d,consts:b,incompleteFirstPass:!1,ssrId:y}}let TE=t=>null;function AE(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?LE(n,e,i,s):r.hasOwnProperty(i)&&LE(n,e,r[i],s)}return n}function LE(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function OE(t,e,n,r,i,s){for(let p=0;p<r.length;p++)rm(Yh(n,e),t,r[p].type);!function iR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let p=0;p<r.length;p++){const y=r[p];y.providersResolver&&y.providersResolver(y)}let u=!1,f=!1,d=If(t,e,r.length,null);for(let p=0;p<r.length;p++){const y=r[p];n.mergedAttrs=yo(n.mergedAttrs,y.hostAttrs),oR(t,n,e,d,y),rR(d,y,i),null!==y.contentQueries&&(n.flags|=4),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(n.flags|=64);const v=y.type.prototype;!u&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!f&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),d++}!function ZO(t,e,n){const i=e.directiveEnd,s=t.data,u=e.attrs,f=[];let d=null,p=null;for(let y=e.directiveStart;y<i;y++){const v=s[y],w=n?n.get(v):null,b=w?w.outputs:null;d=AE(v.inputs,y,d,w?w.inputs:null),p=AE(v.outputs,y,p,b);const P=null===d||null===u||Lo(e)?null:uR(d,y,u);f.push(P)}null!==d&&(d.hasOwnProperty("class")&&(e.flags|=8),d.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=f,e.inputs=d,e.outputs=p}(t,n,s)}function RE(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,u=function qT(){return ln.lFrame.currentDirectiveIndex}();try{gl(s);for(let f=r;f<i;f++){const d=t.data[f],p=e[f];Zg(f),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&tR(d,p)}}finally{gl(-1),Zg(u)}}function tR(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ay(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function rR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;D(e)&&(n[""]=t)}}function oR(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=pl(i.type)),u=new sf(s,D(i),ie);t.blueprint[r]=u,n[r]=u,function QO(t,e,n,r,i){const s=i.hostBindings;if(s){let u=t.hostBindingOpCodes;null===u&&(u=t.hostBindingOpCodes=[]);const f=~e.index;(function KO(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(u)!=f&&u.push(f),u.push(n,r,s)}}(t,e,r,If(t,n,i.hostVars,yn),i)}function aR(t,e,n,r,i,s){const u=s[e];if(null!==u)for(let f=0;f<u.length;)FE(r,n,u[f++],u[f++],u[f++])}function FE(t,e,n,r,i){const s=va(null);try{const u=t.inputTransforms;null!==u&&u.hasOwnProperty(r)&&(i=u[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{va(s)}}function uR(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const u=t[s];for(let f=0;f<u.length;f+=2)if(u[f]===e){r.push(s,u[f+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function BE(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const u=t.data[s];Yg(n[r]),u.contentQueries(2,e[s],s)}}}function Td(t,e){return t[Ot]?t[jt][Eo]=e:t[Ot]=e,t[jt]=e,e}function ly(t,e,n){Yg(0);const r=va(null);try{e(t,n)}finally{va(r)}}function GE(t,e){const n=t[I],r=n?n.get(Iu,null):null;r&&r.handleError(e)}function cy(t,e,n,r,i){for(let s=0;s<n.length;){const u=n[s++],f=n[s++];FE(t.data[u],e[u],r,f,i)}}function lR(t,e){const n=Js(e,t),r=n[ge];!function cR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[xr];null!==i&&null===n[Ui]&&(n[Ui]=Hm(i,n[I])),fy(r,n,n[x])}function fy(t,e,n){Xg(e);try{const r=t.viewQuery;null!==r&&ly(1,r,n);const i=t.template;null!==i&&PE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&BE(t,e),t.staticViewQueries&&ly(2,t.viewQuery,n);const s=t.components;null!==s&&function fR(t,e){for(let n=0;n<e.length;n++)lR(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Te]&=-5,Qg()}}let jE=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,u=function wT(t,e,n){const r=Object.create(ET);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=u=>{r.cleanupFn=u};return r.ref={notify:()=>K0(r),run:()=>{if(r.dirty=!1,r.hasRun&&!J0(r))return;r.hasRun=!0;const u=Vg(r);try{r.cleanupFn(),r.cleanupFn=a1,r.fn(i)}finally{zg(r,u)}},cleanup:()=>r.cleanupFn()},r.ref}(n,p=>{this.all.has(p)&&this.queue.set(p,s)},i);let f;this.all.add(u),u.notify();const d=()=>{u.cleanup(),f?.(),this.all.delete(u),this.queue.delete(u)};return f=r?.onDestroy(d),{destroy:d}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#t=this.\u0275prov=Re({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ad(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let u=0;u<e.length;u++){const f=e[u];"number"==typeof f?s=f:1==s?i=qs(i,f):2==s&&(r=qs(r,f+": "+e[++u]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function bf(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(li(s)),c(s)&&HE(s,r);const u=n.type;if(8&u)bf(t,e,n.child,r);else if(32&u){const f=gm(n,e);let d;for(;d=f();)r.push(d)}else if(16&u){const f=Dw(e,n);if(Array.isArray(f))r.push(...f);else{const d=pf(e[ne]);bf(d[ge],d,f,r,!0)}}n=i?n.projectionNext:n.next}return r}function HE(t,e){for(let n=Di;n<t.length;n++){const r=t[n],i=r[ge].firstChild;null!==i&&bf(r[ge],r,i,e)}t[mr]!==t[xr]&&e.push(t[mr])}function Ld(t,e,n,r=!0){const i=e[z],s=i.rendererFactory,u=i.afterRenderEventManager;s.begin?.(),u?.begin();try{$E(t,e,t.template,n)}catch(d){throw r&&GE(e,d),d}finally{s.end?.(),i.effectManager?.flush(),u?.end()}}function $E(t,e,n,r){const i=e[Te];if(256!=(256&i)){e[z].effectManager?.flush(),Xg(e);try{p1(e),function C1(t){return ln.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&PE(t,e,n,2,r);const u=3==(3&i);if(u){const p=t.preOrderCheckHooks;null!==p&&qh(e,p,null)}else{const p=t.preOrderHooks;null!==p&&Zh(e,p,0,null),Kg(e,0)}if(function pR(t){for(let e=hw(t);null!==e;e=dw(e)){if(!e[to])continue;const n=e[Dr];for(let r=0;r<n.length;r++){TT(n[r])}}}(e),qE(e,2),null!==t.contentQueries&&BE(t,e),u){const p=t.contentCheckHooks;null!==p&&qh(e,p)}else{const p=t.contentHooks;null!==p&&Zh(e,p,1),Kg(e,1)}!function VO(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=xE(e,$e);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)gl(~s);else{const u=s,f=n[++i],d=n[++i];$T(f,u),r.dirty=!1;const p=Vg(r);try{d(2,e[u])}finally{zg(r,p)}}}}finally{null===e[$e]&&DE(e,$e),gl(-1)}}(t,e);const f=t.components;null!==f&&WE(e,f,0);const d=t.viewQuery;if(null!==d&&ly(2,d,r),u){const p=t.viewCheckHooks;null!==p&&qh(e,p)}else{const p=t.viewHooks;null!==p&&Zh(e,p,2),Kg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Te]&=-73,g1(e)}finally{Qg()}}}function qE(t,e){for(let n=hw(t);null!==n;n=dw(n))for(let r=Di;r<n.length;r++)ZE(n[r],e)}function gR(t,e,n){ZE(Js(e,t),n)}function ZE(t,e){if(!function PT(t){return 128==(128&t[Te])}(t))return;const n=t[ge],r=t[Te];if(80&r&&0===e||1024&r||2===e)$E(n,t,n.template,t[x]);else if(t[l]>0){qE(t,1);const i=n.components;null!==i&&WE(t,i,1)}}function WE(t,e,n){for(let r=0;r<e.length;r++)gR(t,e[r],n)}class Sf{get rootNodes(){const e=this._lView,n=e[ge];return bf(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[x]}set context(e){this._lView[x]=e}get destroyed(){return 256==(256&this._lView[Te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[hn];if(c(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(fd(e,r),Jh(n,r))}this._attachedToViewContainer=!1}ym(this._lView[ge],this._lView)}onDestroy(e){!function y1(t,e){if(256==(256&t[Te]))throw new Zt(911,!1);null===t[qr]&&(t[qr]=[]),t[qr].push(e)}(this._lView,e)}markForCheck(){Df(this._cdRefInjectingView||this._lView)}detach(){this._lView[Te]&=-129}reattach(){this._lView[Te]|=128}detectChanges(){Ld(this._lView[ge],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Zt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oL(t,e){mf(t,e,e[st],2,null,null)}(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Zt(902,!1);this._appRef=e}}class mR extends Sf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ld(e[ge],e,e[x],!1)}checkNoChanges(){}get context(){return null}}class YE extends Sd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=an(e);return new Mf(n,this.ngModule)}}function XE(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class vR{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=No(r);const i=this.injector.get(e,Zm,r);return i!==Zm||n===Zm?i:this.parentInjector.get(e,n,r)}}class Mf extends eE{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=XE(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return XE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Aa(t){return t.map(ju).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ea?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const u=s?new vR(e,s):e,f=u.get(rE,null);if(null===f)throw new Zt(407,!1);const v={rendererFactory:f,sanitizer:u.get(pO,null),effectManager:u.get(jE,null),afterRenderEventManager:u.get(ty,null)},w=f.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",b=r?function UO(t,e,n,r){const s=r.get(_E,!1)||n===Jr.ShadowDom,u=t.selectRootElement(e,s);return function GO(t){TE(t)}(u),u}(w,r,this.componentDef.encapsulation,u):cd(w,C,function yR(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(C)),G=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let M=null;null!==b&&(M=Hm(b,u,!0));const q=oy(0,null,null,1,0,null,null,null,null,null,null),pt=Nd(null,q,null,G,null,null,v,w,u,null,M);let yt,At;Xg(pt);try{const Tt=this.componentDef;let Ft,dt=null;Tt.findHostDirectiveDefs?(Ft=[],dt=new Map,Tt.findHostDirectiveDefs(Tt,Ft,dt),Ft.push(Tt)):Ft=[Tt];const Ze=function wR(t,e){const n=t[ge],r=un;return t[r]=e,hc(n,r,2,"#host",null)}(pt,b),we=function ER(t,e,n,r,i,s,u){const f=i[ge];!function CR(t,e,n,r){for(const i of t)e.mergedAttrs=yo(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ad(e,e.mergedAttrs,!0),null!==n&&Mw(r,n,e))}(r,t,e,u);let d=null;null!==e&&(d=Hm(e,i[I]));const p=s.rendererFactory.createRenderer(e,n);let y=16;n.signals?y=4096:n.onPush&&(y=64);const v=Nd(i,NE(n),null,y,i[t.index],t,s,p,null,null,d);return f.firstCreatePass&&ay(f,t,r.length-1),Td(i,v),i[t.index]=v}(Ze,b,Tt,Ft,pt,v,w);At=d1(q,un),b&&function DR(t,e,n,r){if(r)Os(t,n,["ng-version",gO.full]);else{const{attrs:i,classes:s}=function $o(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Mr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Os(t,n,i),s&&s.length>0&&Sw(t,n,s.join(" "))}}(w,Tt,b,r),void 0!==n&&function IR(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(At,this.ngContentSelectors,n),yt=function xR(t,e,n,r,i,s){const u=Zo(),f=i[ge],d=Bs(u,i);OE(f,i,u,n,null,r);for(let y=0;y<n.length;y++)rs(ml(i,f,u.directiveStart+y,u),i);RE(f,i,u),d&&rs(d,i);const p=ml(i,f,u.directiveStart+u.componentOffset,u);if(t[x]=i[x]=p,null!==s)for(const y of s)y(p,e);return ny(f,u,t),p}(we,Tt,Ft,dt,pt,[bR]),fy(q,pt,null)}finally{Qg()}return new _R(this.componentType,yt,lc(At,pt),pt,At)}}class _R extends uO{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new mR(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;cy(s[ge],s,i,e,n),this.previousInputValues.set(e,n),Df(Js(this._tNode.index,s))}}get injector(){return new Cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bR(){const t=Zo();$h(ee()[ge],t)}function Zr(t){let e=function QE(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(D(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Zt(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const u=t;u.inputs=Od(t.inputs),u.inputTransforms=Od(t.inputTransforms),u.declaredInputs=Od(t.declaredInputs),u.outputs=Od(t.outputs);const f=i.hostBindings;f&&NR(t,f);const d=i.viewQuery,p=i.contentQueries;if(d&&MR(t,d),p&&PR(t,p),ir(t.inputs,i.inputs),ir(t.declaredInputs,i.declaredInputs),ir(t.outputs,i.outputs),null!==i.inputTransforms&&(null===u.inputTransforms&&(u.inputTransforms={}),ir(u.inputTransforms,i.inputTransforms)),D(i)&&i.data.animation){const y=t.data;y.animation=(y.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let u=0;u<s.length;u++){const f=s[u];f&&f.ngInherit&&f(t),f===Zr&&(n=!1)}}e=Object.getPrototypeOf(e)}!function SR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=yo(i.hostAttrs,n=yo(n,i.hostAttrs))}}(r)}function Od(t){return t===vs?{}:t===Ve?[]:t}function MR(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function PR(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function NR(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function is(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Cc(t,e,n){const r=ee();return is(r,jl(),e)&&function ra(t,e,n,r,i,s,u,f){const d=Bs(e,n);let y,p=e.inputs;!f&&null!=p&&(y=p[r])?(cy(t,n,y,r,i),m(e)&&function YO(t,e){const n=Js(e,t);16&n[Te]||(n[Te]|=64)}(n,e.index)):3&e.type&&(r=function WO(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=u?u(i,e.value||"",r):i,s.setProperty(d,r,i))}(yr(),function Gi(){const t=ln.lFrame;return d1(t.tView,t.selectedIndex)}(),r,t,e,r[st],n,!1),Cc}function vy(t,e,n,r,i){const u=i?"class":"style";cy(t,n,e.inputs[u],u,r)}function Do(t,e,n,r){const i=ee(),s=yr(),u=un+t,f=i[st],d=s.firstCreatePass?function a2(t,e,n,r,i,s){const u=e.consts,d=hc(e,t,2,r,Wu(u,i));return function sy(t,e,n,r){if(_1()){const i=null===r?null:{"":-1},s=function eR(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const u=n[s];if(Rs(e,u.selectors,!1))if(r||(r=[]),D(u))if(null!==u.findHostDirectiveDefs){const f=[];i=i||new Map,u.findHostDirectiveDefs(u,f,i),r.unshift(...f,u),ay(t,e,f.length)}else r.unshift(u),ay(t,e,0);else i=i||new Map,u.findHostDirectiveDefs?.(u,r,i),r.push(u)}return null===r?null:[r,i]}(t,n);let u,f;null===s?u=f=null:[u,f]=s,null!==u&&OE(t,e,n,u,i,f),i&&function nR(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new Zt(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=yo(n.mergedAttrs,n.attrs)}(e,n,d,Wu(u,s)),null!==d.attrs&&Ad(d,d.attrs,!1),null!==d.mergedAttrs&&Ad(d,d.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,d),d}(u,s,i,e,n,r):s.data[u],p=mC(s,i,d,f,e,t);i[u]=p;const y=E(d);return Ja(d,!0),Mw(f,p,d),32!=(32&d.flags)&&Hh()&&dd(s,i,p,d),0===function LT(){return ln.lFrame.elementDepthCount}()&&rs(p,i),function OT(){ln.lFrame.elementDepthCount++}(),y&&(function ry(t,e,n){_1()&&(function JO(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;m(n)&&function sR(t,e,n){const r=Bs(e,t),i=NE(n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const f=Td(t,Nd(t,i,null,u,r,e,null,t[z].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=f}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Yh(n,e),rs(r,e);const u=n.initialInputs;for(let f=i;f<s;f++){const d=t.data[f],p=ml(e,t,f,n);rs(p,e),null!==u&&aR(0,f-i,p,d,0,u),D(d)&&(Js(n.index,e)[x]=ml(e,t,f,n))}}(t,e,n,Bs(n,e)),64==(64&n.flags)&&RE(t,e,n))}(s,i,d),ny(s,d,i)),null!==r&&function iy(t,e,n=Bs){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const u=r[s+1],f=-1===u?n(e,t):t[u];t[i++]=f}}}(i,d),Do}function Ro(){let t=Zo();$g()?function qg(){ln.lFrame.isParent=!1}():(t=t.parent,Ja(t,!1));const e=t;(function FT(t){return ln.skipHydrationRootTNode===t})(e)&&function zT(){ln.skipHydrationRootTNode=null}(),function RT(){ln.lFrame.elementDepthCount--}();const n=yr();return n.firstCreatePass&&($h(n,t),h(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function rA(t){return 0!=(8&t.flags)}(e)&&vy(n,e,ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function iA(t){return 0!=(16&t.flags)}(e)&&vy(n,e,ee(),e.stylesWithoutHost,!1),Ro}function os(t,e,n,r){return Do(t,e,n,r),Ro(),os}let mC=(t,e,n,r,i,s)=>(Yu(!0),cd(r,i,function N1(){return ln.lFrame.currentNamespace}()));function Lf(t){return!!t&&"function"==typeof t.then}function _C(t){return!!t&&"function"==typeof t.subscribe}function Fo(t,e,n,r){const i=ee(),s=yr(),u=Zo();return function EC(t,e,n,r,i,s,u){const f=E(r),p=t.firstCreatePass&&function zE(t){return t.cleanup||(t.cleanup=[])}(t),y=e[x],v=function VE(t){return t[_]||(t[_]=[])}(e);let w=!0;if(3&r.type||u){const P=Bs(r,e),K=u?u(P):P,G=v.length,M=u?pt=>u(li(pt[r.index])):r.index;let q=null;if(!u&&f&&(q=function p2(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const u=i[s];if(u===n&&i[s+1]===r){const f=e[_],d=i[s+2];return f.length>d?f[d]:null}"string"==typeof u&&(s+=2)}return null}(t,e,i,r.index)),null!==q)(q.__ngLastListenerFn__||q).__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,w=!1;else{s=xC(r,e,y,s,!1);const pt=n.listen(K,i,s);v.push(s,pt),p&&p.push(i,M,G,G+1)}}else s=xC(r,e,y,s,!1);const C=r.outputs;let b;if(w&&null!==C&&(b=C[i])){const P=b.length;if(P)for(let K=0;K<P;K+=2){const yt=e[b[K]][b[K+1]].subscribe(s),At=v.length;v.push(s,yt),p&&p.push(i,r.index,At,-(At+1))}}}(s,i,i[st],u,t,e,r),Fo}function CC(t,e,n,r){try{return Ka(6,e,n),!1!==n(r)}catch(i){return GE(t,i),!1}finally{Ka(7,e,n)}}function xC(t,e,n,r,i){return function s(u){if(u===Function)return r;Df(t.componentOffset>-1?Js(t.index,e):e);let d=CC(e,n,r,u),p=s.__ngNextListenerFn__;for(;p;)d=CC(e,n,p,u)&&d,p=p.__ngNextListenerFn__;return i&&!1===d&&u.preventDefault(),d}}function zd(t,e){return t<<17|e<<2}function Ju(t){return t>>17&32767}function Cy(t){return 2|t}function wl(t){return(131068&t)>>2}function xy(t,e){return-131069&t|e<<2}function Dy(t){return 1|t}function LC(t,e,n,r,i){const s=t[n+1],u=null===e;let f=r?Ju(s):wl(s),d=!1;for(;0!==f&&(!1===d||u);){const y=t[f+1];D2(t[f],e)&&(d=!0,t[f+1]=r?Dy(y):Cy(y)),f=r?Ju(y):wl(y)}d&&(t[n+1]=r?Cy(s):Dy(s))}function D2(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ql(t,e)>=0}function Ud(t,e){return function La(t,e,n,r){const i=ee(),s=yr(),u=function Cu(t){const e=ln.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function GC(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Es()],u=function UC(t,e){return e>=t.expandoStartIndex}(t,n);(function qC(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!u&&(e=!1),e=function L2(t,e,n,r){const i=function Wg(t){const e=ln.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Of(n=Iy(null,t,e,n,r),e.attrs,r),s=null);else{const u=e.directiveStylingLast;if(-1===u||t[u]!==i)if(n=Iy(i,t,e,n,r),null===s){let d=function O2(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==wl(r))return t[Ju(r)]}(t,e,r);void 0!==d&&Array.isArray(d)&&(d=Iy(null,t,e,d[1],r),d=Of(d,e.attrs,r),function R2(t,e,n,r){t[Ju(n?e.classBindings:e.styleBindings)]=r}(t,e,r,d))}else s=function F2(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Of(r,t[s].hostAttrs,n);return Of(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function C2(t,e,n,r,i,s){let u=s?e.classBindings:e.styleBindings,f=Ju(u),d=wl(u);t[r]=n;let y,p=!1;if(Array.isArray(n)?(y=n[1],(null===y||Ql(n,y)>0)&&(p=!0)):y=n,i)if(0!==d){const w=Ju(t[f+1]);t[r+1]=zd(w,f),0!==w&&(t[w+1]=xy(t[w+1],r)),t[f+1]=function w2(t,e){return 131071&t|e<<17}(t[f+1],r)}else t[r+1]=zd(f,0),0!==f&&(t[f+1]=xy(t[f+1],r)),f=r;else t[r+1]=zd(d,0),0===f?f=r:t[d+1]=xy(t[d+1],r),d=r;p&&(t[r+1]=Cy(t[r+1])),LC(t,y,r,!0),LC(t,y,r,!1),function x2(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Ql(s,e)>=0&&(n[r+1]=Dy(n[r+1]))}(e,y,t,r,s),u=zd(f,d),s?e.classBindings=u:e.styleBindings=u}(i,s,e,n,u,r)}}(s,t,u,r),e!==yn&&is(i,u,e)&&function HC(t,e,n,r,i,s,u,f){if(!(3&e.type))return;const d=t.data,p=d[f+1],y=function E2(t){return 1==(1&t)}(p)?$C(d,e,n,i,wl(p),u):void 0;Gd(y)||(Gd(s)||function _2(t){return 2==(2&t)}(p)&&(s=$C(d,null,n,i,f,u)),function gL(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Xu.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Xu.Important),t.setStyle(n,r,i,s))}}(r,u,jh(Es(),n),i,s))}(s,s.data[Es()],i,i[st],t,i[u+1]=function z2(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=or(function Qu(t){return t instanceof Aw?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,u)}(t,e,null,!0),Ud}function Iy(t,e,n,r,i){let s=null;const u=n.directiveEnd;let f=n.directiveStylingLast;for(-1===f?f=n.directiveStart:f++;f<u&&(s=e[f],r=Of(r,s.hostAttrs,i),s!==t);)f++;return null!==t&&(n.directiveStylingLast=f),r}function Of(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const u=e[s];"number"==typeof u?i=u:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ta(t,u,!!n||e[++s]))}return void 0===t?null:t}function $C(t,e,n,r,i,s){const u=null===e;let f;for(;i>0;){const d=t[i],p=Array.isArray(d),y=p?d[1]:d,v=null===y;let w=n[i+1];w===yn&&(w=v?Ve:void 0);let C=v?sm(w,r):y===r?w:void 0;if(p&&!Gd(C)&&(C=sm(d,r)),Gd(C)&&(f=C,u))return f;const b=t[i+1];i=u?Ju(b):wl(b)}if(null!==e){let d=s?e.residualClasses:e.residualStyles;null!=d&&(f=sm(d,r))}return f}function Gd(t){return void 0!==t}function xa(t,e=""){const n=ee(),r=yr(),i=t+un,s=r.firstCreatePass?hc(r,i,1,e,null):r.data[i],u=ZC(r,n,s,e,t);n[i]=u,Hh()&&dd(r,n,u,s),Ja(s,!1)}let ZC=(t,e,n,r,i)=>(Yu(!0),function ld(t,e){return t.createText(e)}(e[st],r));function by(t){return Rf("",t,""),by}function Rf(t,e,n){const r=ee(),i=function pc(t,e,n,r){return is(t,jl(),n)?e+Ie(n)+r:yn}(r,t,e,n);return i!==yn&&function Su(t,e,n){const r=jh(e,t);!function gw(t,e,n){t.setValue(e,n)}(t[st],r,n)}(r,Es(),i),Rf}const El=void 0;var uF=["en",[["a","p"],["AM","PM"],El],[["AM","PM"],El,El],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],El,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],El,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",El,"{1} 'at' {0}",El],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aF(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Dc={};function xs(t){const e=function lF(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=px(e);if(n)return n;const r=e.split("-")[0];if(n=px(r),n)return n;if("en"===r)return uF;throw new Zt(701,!1)}function px(t){return t in Dc||(Dc[t]=br.ng&&br.ng.common&&br.ng.common.locales&&br.ng.common.locales[t]),Dc[t]}var fi=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(fi||{});const Ic="en-US";let gx=Ic;function Py(t,e,n,r,i){if(t=We(t),Array.isArray(t))for(let s=0;s<t.length;s++)Py(t[s],e,n,r,i);else{const s=yr(),u=ee(),f=Zo();let d=vl(t)?t:We(t.provide);const p=Yw(t),y=1048575&f.providerIndexes,v=f.directiveStart,w=f.providerIndexes>>20;if(vl(t)||!t.multi){const C=new sf(p,i,ie),b=Ty(d,e,i?y:y+w,v);-1===b?(rm(Yh(f,u),s,d),Ny(s,t,e.length),e.push(d),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),n.push(C),u.push(C)):(n[b]=C,u[b]=C)}else{const C=Ty(d,e,y+w,v),b=Ty(d,e,y,y+w),K=b>=0&&n[b];if(i&&!K||!i&&!(C>=0&&n[C])){rm(Yh(f,u),s,d);const G=function ak(t,e,n,r,i){const s=new sf(t,n,ie);return s.multi=[],s.index=e,s.componentProviders=0,zx(s,i,r&&!n),s}(i?sk:ok,n.length,i,r,p);!i&&K&&(n[b].providerFactory=G),Ny(s,t,e.length,0),e.push(d),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),n.push(G),u.push(G)}else Ny(s,t,C>-1?C:b,zx(n[i?b:C],p,!i&&r));!i&&r&&K&&n[b].componentProviders++}}}function Ny(t,e,n,r){const i=vl(e),s=function $L(t){return!!t.useClass}(e);if(i||s){const d=(s?We(e.useClass):e).prototype.ngOnDestroy;if(d){const p=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const y=p.indexOf(n);-1===y?p.push(n,[r,d]):p[y+1].push(r,d)}else p.push(n,d)}}}function zx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ty(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ok(t,e,n,r){return Ay(this.multi,[])}function sk(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const u=this.providerFactory.componentProviders,f=ml(n,n[ge],this.providerFactory.index,r);s=f.slice(0,u),Ay(i,s);for(let d=u;d<f.length;d++)s.push(f[d])}else s=[],Ay(i,s);return s}function Ay(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ni(t,e=[]){return n=>{n.providersResolver=(r,i)=>function ik(t,e,n){const r=yr();if(r.firstCreatePass){const i=D(t);Py(n,r.data,r.blueprint,i,!0),Py(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Cl{}class Ux{}class Ly extends Cl{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new YE(this);const i=In(e);this._bootstrapComponents=bu(i.bootstrap),this._r3Injector=uE(e,n,[{provide:Cl,useValue:this},{provide:Sd,useValue:this.componentFactoryResolver},...r],or(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Oy extends Ux{constructor(e){super(),this.moduleType=e}create(e){return new Ly(this.moduleType,e,[])}}class Gx extends Cl{constructor(e){super(),this.componentFactoryResolver=new YE(this),this.instance=null;const n=new ic([...e.providers,{provide:Cl,useValue:this},{provide:Sd,useValue:this.componentFactoryResolver}],e.parent||wd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ry(t,e,n=null){return new Gx({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let ck=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=$w(0,n.type),i=r.length>0?Ry([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#t=this.\u0275prov=Re({token:t,providedIn:"environment",factory:()=>new t(Me(Ea))})}return t})();function jx(t){t.getStandaloneInjector=e=>e.get(ck).getOrCreateStandaloneInjector(t)}function Qx(t,e,n,r,i,s,u){const f=e+n;return function _l(t,e,n,r){const i=is(t,e,n);return is(t,e+1,r)||i}(t,f,i,s)?function nu(t,e,n){return t[e]=n}(t,f+2,u?r.call(u,i,s):r(i,s)):function Uf(t,e){const n=t[e];return n===yn?void 0:n}(t,f+2)}function nD(t,e,n,r){const i=t+un,s=ee(),u=function Ul(t,e){return t[e]}(s,i);return function Gf(t,e){return t[ge].data[e].pure}(s,i)?Qx(s,function ws(){const t=ln.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,u.transform,n,r,u):u.transform(n,r)}function Fk(t,e,n,r=!0){const i=e[ge];if(function aL(t,e,n,r){const i=Di+r,s=n.length;r>0&&(n[i-1][Eo]=e),r<s-Di?(e[Eo]=n[i],$1(n,Di+r,e)):(n.push(e),e[Eo]=null),e[hn]=n;const u=e[ke];null!==u&&n!==u&&function uL(t,e){const n=t[Dr];e[ne]!==e[hn][hn][ne]&&(t[to]=!0),null===n?t[Dr]=[e]:n.push(e)}(u,e);const f=e[Ur];null!==f&&f.insertView(t),e[Te]|=128}(i,e,t,n),r){const s=Em(n,t),u=e[st],f=hd(u,t[mr]);null!==f&&function iL(t,e,n,r,i,s){r[xr]=i,r[g]=e,mf(t,r,n,1,i,s)}(i,t[g],u,e,f,s)}}Symbol;let Ra=(()=>{class t{static#t=this.__NG_ELEMENT_ID__=$k}return t})();function $k(){return function lD(t,e){let n;const r=e[t.index];return c(r)?n=r:(n=function kE(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}(r,e,null,t),e[t.index]=n,Td(e,n)),cD(n,e,t,r),new aD(n,t,e)}(Zo(),ee())}const qk=Ra,aD=class extends qk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new Cs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Xh(this._hostTNode,this._hostLView);if(tm(e)){const n=uf(e,this._hostLView),r=af(e);return new Cs(n[ge].data[r+8],n)}return new Cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=uD(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Di}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const f=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(f,i,false),f}createComponent(e,n,r,i,s){const u=e&&!function cf(t){return"function"==typeof t}(e);let f;if(u)f=n;else{const P=n||{};f=P.index,r=P.injector,i=P.projectableNodes,s=P.environmentInjector||P.ngModuleRef}const d=u?e:new Mf(an(e)),p=r||this.parentInjector;if(!s&&null==d.ngModule){const K=(u?p:this.parentInjector).get(Ea,null);K&&(s=K)}an(d.componentType??{});const C=d.create(p,i,null,s);return this.insertImpl(C.hostView,f,false),C}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function NT(t){return c(t[hn])}(i)){const d=this.indexOf(e);if(-1!==d)this.detach(d);else{const p=i[hn],y=new aD(p,p[g],p[hn]);y.detach(y.indexOf(e))}}const u=this._adjustIndex(n),f=this._lContainer;return Fk(f,i,u,!r),e.attachToViewContainerRef(),$1(By(f),u,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=uD(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=fd(this._lContainer,n);r&&(Jh(By(this._lContainer),n),ym(r[ge],r))}detach(e){const n=this._adjustIndex(e,-1),r=fd(this._lContainer,n);return r&&null!=Jh(By(this._lContainer),n)?new Sf(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function uD(t){return t[8]}function By(t){return t[8]||(t[8]=[])}let cD=function fD(t,e,n,r){if(t[mr])return;let i;i=8&n.type?li(r):function Zk(t,e){const n=t[st],r=n.createComment(""),i=Bs(e,t);return yl(n,hd(n,i),r,function hL(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[mr]=i};const Yy=new Ee("Application Initializer");let Xy=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=pe(Yy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Lf(s))n.push(s);else if(_C(s)){const u=new Promise((f,d)=>{s.subscribe({complete:f,error:d})});n.push(u)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),FD=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Pu=new Ee("LocaleId",{providedIn:"root",factory:()=>pe(Pu,Dn.Optional|Dn.SkipSelf)||function DB(){return typeof $localize<"u"&&$localize.locale||Ic}()});let kD=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class SB{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let BD=(()=>{class t{compileModuleSync(n){return new Oy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=bu(In(n).declarations).reduce((u,f)=>{const d=an(f);return d&&u.push(new Mf(d)),u},[]);return new SB(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const GD=new Ee(""),Qd=new Ee("");let ev,Jy=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ev||(function YB(t){ev=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ci.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#t=this.\u0275fac=function(r){return new(r||t)(Me(ci),Me(tv),Me(Qd))};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})(),tv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ev?.findTestabilityInTree(this,n,r)??null}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),tl=null;const jD=new Ee("AllowMultipleToken"),nv=new Ee("PlatformDestroyListeners"),rv=new Ee("appBootstrapListener");class $D{constructor(e,n){this.name=e,this.token=n}}function ZD(t,e,n=[]){const r=`Platform: ${e}`,i=new Ee(r);return(s=[])=>{let u=iv();if(!u||u.injector.get(jD,!1)){const f=[...n,...s,{provide:i,useValue:!0}];t?t(f):function KB(t){if(tl&&!tl.get(jD,!1))throw new Zt(400,!1);(function HD(){!function gT(t){r1=t}(()=>{throw new Zt(600,!1)})})(),tl=t;const e=t.get(YD);(function qD(t){t.get(Xw,null)?.forEach(n=>n())})(t)}(function WD(t=[],e){return na.create({name:e,providers:[{provide:Lm,useValue:"platform"},{provide:nv,useValue:new Set([()=>tl=null])},...t]})}(f,r))}return function t3(t){const e=iv();if(!e)throw new Zt(401,!1);return e}()}}function iv(){return tl?.get(YD)??null}let YD=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function e3(t="zone.js",e){return"noop"===t?new SO:"zone.js"===t?new ci(e):t}(r?.ngZone,function XD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function lk(t,e,n){return new Ly(t,e,n)}(n.moduleType,this.injector,function eI(t){return[{provide:ci,useFactory:t},{provide:wf,multi:!0,useFactory:()=>{const e=pe(r3,{optional:!0});return()=>e.initialize()}},{provide:tI,useFactory:n3},{provide:dE,useFactory:pE}]}(()=>i)),u=s.injector.get(Iu,null);return i.runOutsideAngular(()=>{const f=i.onError.subscribe({next:d=>{u.handleError(d)}});s.onDestroy(()=>{Kd(this._modules,s),f.unsubscribe()})}),function QD(t,e,n){try{const r=n();return Lf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const f=s.injector.get(Xy);return f.runInitializers(),f.donePromise.then(()=>(function mx(t){po(t,"Expected localeId to be defined"),"string"==typeof t&&(gx=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Pu,Ic)||Ic),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=KD({},r);return function XB(t,e,n){const r=new Oy(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Mc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Zt(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Zt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(nv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#t=this.\u0275fac=function(r){return new(r||t)(Me(na))};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function KD(t,e){return Array.isArray(e)?e.reduce(KD,t):{...t,...e}}let Mc=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pe(tI),this.zoneIsStable=pe(dE),this.componentTypes=[],this.components=[],this.isStable=pe(kD).hasPendingTasks.pipe(Ne(n=>n?be(!1):this.zoneIsStable),function Fl(t,e=Bt){return t=t??zu,te((n,r)=>{let i,s=!0;n.subscribe(oe(r,u=>{const f=e(u);(s||!t(i,f))&&(s=!1,i=f,r.next(u))}))})}(),ho()),this._injector=pe(Ea)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof eE;if(!this._injector.get(Xy).done)throw!i&&function Ji(t){const e=an(t)||zr(t)||Tn(t);return null!==e&&e.standalone}(n),new Zt(405,!1);let u;u=i?n:this._injector.get(Sd).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const f=function QB(t){return t.isBoundToModule}(u)?void 0:this._injector.get(Cl),p=u.create(na.NULL,[],r||u.selector,f),y=p.location.nativeElement,v=p.injector.get(GD,null);return v?.registerApplication(y),p.onDestroy(()=>{this.detachView(p.hostView),Kd(this.components,p),v?.unregisterApplication(y)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new Zt(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Kd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(rv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Kd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Zt(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const tI=new Ee("",{providedIn:"root",factory:()=>pe(Iu).handleError.bind(void 0)});function n3(){const t=pe(ci),e=pe(Iu);return n=>t.runOutsideAngular(()=>e.handleError(n))}let r3=(()=>{class t{constructor(){this.zone=pe(ci),this.applicationRef=pe(Mc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Jd=(()=>{class t{static#t=this.__NG_ELEMENT_ID__=o3}return t})();function o3(t){return function s3(t,e,n){if(m(t)&&!n){const r=Js(t.index,e);return new Sf(r,r)}return 47&t.type?new Sf(e[ne],e):null}(Zo(),ee(),16==(16&t))}const _3=ZD(null,"core",[]);let w3=(()=>{class t{constructor(n){}static#t=this.\u0275fac=function(r){return new(r||t)(Me(Mc))};static#e=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=Uo({})}return t})();let cv=null;function el(){return cv}class O3{}const Da=new Ee("DocumentToken");let fv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:function(){return pe(F3)},providedIn:"platform"})}return t})();const R3=new Ee("Location Initialized");let F3=(()=>{class t extends fv{constructor(){super(),this._doc=pe(Da),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return el().getBaseHref(this._doc)}onPopState(n){const r=el().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=el().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function hv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function _I(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Nu(t){return t&&"?"!==t[0]?"?"+t:t}let Dl=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:function(){return pe(EI)},providedIn:"root"})}return t})();const wI=new Ee("appBaseHref");let EI=(()=>{class t extends Dl{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??pe(Da).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Nu(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const u=this.prepareExternalUrl(i+Nu(s));this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,s){const u=this.prepareExternalUrl(i+Nu(s));this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#t=this.\u0275fac=function(r){return new(r||t)(Me(fv),Me(wI,8))};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),k3=(()=>{class t extends Dl{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=hv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let u=this.prepareExternalUrl(i+Nu(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,s){let u=this.prepareExternalUrl(i+Nu(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#t=this.\u0275fac=function(r){return new(r||t)(Me(fv),Me(wI,8))};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})(),dv=(()=>{class t{constructor(n){this._subject=new Wi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function z3(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(_I(CI(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Nu(r))}normalize(n){return t.stripTrailingSlash(function V3(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,CI(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nu(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nu(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#t=this.normalizeQueryParams=Nu;static#e=this.joinWithSlash=hv;static#n=this.stripTrailingSlash=_I;static#r=this.\u0275fac=function(r){return new(r||t)(Me(Dl))};static#i=this.\u0275prov=Re({token:t,factory:function(){return function B3(){return new dv(Me(Dl))}()},providedIn:"root"})}return t})();function CI(t){return t.replace(/\/index.html$/,"")}var ip=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(ip||{}),eo=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(eo||{});function Ia(t,e){const n=xs(t),r=n[fi.NumberSymbols][e];if(typeof r>"u"){if(e===eo.CurrencyDecimal)return n[fi.NumberSymbols][eo.Decimal];if(e===eo.CurrencyGroup)return n[fi.NumberSymbols][eo.Group]}return r}const dV=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ev(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}let kI=(()=>{class t{constructor(n){this._locale=n}transform(n,r,i){if(!function bv(t){return!(null==t||""===t||t!=t)}(n))return null;i=i||this._locale;try{return function _V(t,e,n){return function _v(t,e,n,r,i,s,u=!1){let f="",d=!1;if(isFinite(t)){let p=function EV(t){let r,i,s,u,f,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=s,r=[],u=0;s<=f;s++,u++)r[u]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);u&&(p=function wV(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(p));let y=e.minInt,v=e.minFrac,w=e.maxFrac;if(s){const M=s.match(dV);if(null===M)throw new Error(`${s} is not a valid digit info`);const q=M[1],pt=M[3],yt=M[5];null!=q&&(y=Ev(q)),null!=pt&&(v=Ev(pt)),null!=yt?w=Ev(yt):null!=pt&&v>w&&(w=v)}!function CV(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let u=s+t.integerLen,f=r[u];if(u>0){r.splice(Math.max(t.integerLen,u));for(let v=u;v<r.length;v++)r[v]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,u=s+1),r[0]=0;for(let v=1;v<u;v++)r[v]=0}if(f>=5)if(u-1<0){for(let v=0;v>u;v--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[u-1]++;for(;i<Math.max(0,s);i++)r.push(0);let d=0!==s;const p=e+t.integerLen,y=r.reduceRight(function(v,w,C,b){return b[C]=(w+=v)<10?w:w-10,d&&(0===b[C]&&C>=p?b.pop():d=!1),w>=10?1:0},0);y&&(r.unshift(y),t.integerLen++)}(p,v,w);let C=p.digits,b=p.integerLen;const P=p.exponent;let K=[];for(d=C.every(M=>!M);b<y;b++)C.unshift(0);for(;b<0;b++)C.unshift(0);b>0?K=C.splice(b,C.length):(K=C,C=[0]);const G=[];for(C.length>=e.lgSize&&G.unshift(C.splice(-e.lgSize,C.length).join(""));C.length>e.gSize;)G.unshift(C.splice(-e.gSize,C.length).join(""));C.length&&G.unshift(C.join("")),f=G.join(Ia(n,r)),K.length&&(f+=Ia(n,i)+K.join("")),P&&(f+=Ia(n,eo.Exponential)+"+"+P)}else f=Ia(n,eo.Infinity);return f=t<0&&!d?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(t,function wv(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],u=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=u[0],d=u[1]||"";n.posPre=f.substring(0,f.indexOf("#"));for(let y=0;y<d.length;y++){const v=d.charAt(y);"0"===v?n.minFrac=n.maxFrac=y+1:"#"===v?n.maxFrac=y+1:n.posSuf+=v}const p=f.split(",");if(n.gSize=p[1]?p[1].length:0,n.lgSize=p[2]||p[1]?(p[2]||p[1]).length:0,s){const y=i.length-n.posPre.length-n.posSuf.length,v=s.indexOf("#");n.negPre=s.substring(0,v).replace(/'/g,""),n.negSuf=s.slice(v+y).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function pv(t,e){return xs(t)[fi.NumberFormats][e]}(e,ip.Decimal),Ia(e,eo.MinusSign)),e,eo.Group,eo.Decimal,n)}(function Sv(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(n),i,r)}catch(s){throw function ka(t,e){return new Zt(2100,!1)}()}}static#t=this.\u0275fac=function(r){return new(r||t)(ie(Pu,16))};static#e=this.\u0275pipe=ei({name:"number",type:t,pure:!0,standalone:!0})}return t})();let tz=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=Uo({})}return t})();function VI(t){return"server"===t}let iz=(()=>{class t{static#t=this.\u0275prov=Re({token:t,providedIn:"root",factory:()=>new oz(Me(Da),window)})}return t})();class oz{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function sz(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Nz extends O3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Nv extends Nz{static makeCurrent(){!function L3(t){cv||(cv=t)}(new Nv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Tz(){return Yf=Yf||document.querySelector("base"),Yf?Yf.getAttribute("href"):null}();return null==n?null:function Az(t){mp=mp||document.createElement("a"),mp.setAttribute("href",t);const e=mp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Yf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function DV(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let mp,Yf=null,Oz=(()=>{class t{build(){return new XMLHttpRequest}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();const Tv=new Ee("EventManagerPlugins");let HI=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Zt(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#t=this.\u0275fac=function(r){return new(r||t)(Me(Tv),Me(ci))};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();class $I{constructor(e){this._doc=e}}const Av="ng-app-id";let qI=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=VI(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Av}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Av),s;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=r,this.platformIsServer&&u.setAttribute(Av,this.appId),u}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,u=s.get(r)?.elements;u?u.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#t=this.\u0275fac=function(r){return new(r||t)(Me(Da),Me(Ed),Me(Qw,8),Me(sc))};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();const Lv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ov=/%COMP%/g,Bz=new Ee("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function WI(t,e){return e.map(n=>n.replace(Ov,t))}let YI=(()=>{class t{constructor(n,r,i,s,u,f,d,p=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=u,this.platformId=f,this.ngZone=d,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=VI(f),this.defaultRenderer=new Rv(n,u,d,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jr.ShadowDom&&(r={...r,encapsulation:Jr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof QI?i.applyToHost(n):i instanceof Fv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const u=this.doc,f=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(r.encapsulation){case Jr.Emulated:s=new QI(d,p,r,this.appId,y,u,f,v);break;case Jr.ShadowDom:return new Gz(d,p,n,r,u,f,this.nonce,v);default:s=new Fv(d,p,r,y,u,f,v)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#t=this.\u0275fac=function(r){return new(r||t)(Me(HI),Me(qI),Me(Ed),Me(Bz),Me(Da),Me(sc),Me(ci),Me(Qw))};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();class Rv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Lv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(XI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(XI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new Zt(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Lv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Lv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Xu.DashCase|Xu.Important)?e.style.setProperty(n,r,i&Xu.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xu.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=el().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function XI(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Gz extends Rv{constructor(e,n,r,i,s,u,f,d){super(e,s,u,d),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=WI(i.id,i.styles);for(const y of p){const v=document.createElement("style");f&&v.setAttribute("nonce",f),v.textContent=y,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fv extends Rv{constructor(e,n,r,i,s,u,f,d){super(e,s,u,f),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=d?WI(d,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class QI extends Fv{constructor(e,n,r,i,s,u,f,d){const p=i+"-"+r.id;super(e,n,r,s,u,f,d,p),this.contentAttr=function Vz(t){return"_ngcontent-%COMP%".replace(Ov,t)}(p),this.hostAttr=function zz(t){return"_nghost-%COMP%".replace(Ov,t)}(p)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let jz=(()=>{class t extends $I{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#t=this.\u0275fac=function(r){return new(r||t)(Me(Da))};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();const KI=["alt","control","meta","shift"],Hz={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$z={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let qz=(()=>{class t extends $I{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),u=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>el().onAndCancel(n,s.domEventName,u))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let u="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),u="code."),KI.forEach(p=>{const y=r.indexOf(p);y>-1&&(r.splice(y,1),u+=p+".")}),u+=s,0!=r.length||0===s.length)return null;const d={};return d.domEventName=i,d.fullKey=u,d}static matchEventFullKeyCode(n,r){let i=Hz[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),KI.forEach(u=>{u!==i&&(0,$z[u])(n)&&(s+=u+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#t=this.\u0275fac=function(r){return new(r||t)(Me(Da))};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();const Xz=ZD(_3,"browser",[{provide:sc,useValue:"browser"},{provide:Xw,useValue:function Zz(){Nv.makeCurrent()},multi:!0},{provide:Da,useFactory:function Yz(){return function wL(t){Dm=t}(document),document},deps:[]}]),Qz=new Ee(""),eb=[{provide:Qd,useClass:class Lz{addToWindow(e){br.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Zt(5103,!1);return s},br.getAllAngularTestabilities=()=>e.getAllTestabilities(),br.getAllAngularRootElements=()=>e.getAllRootElements(),br.frameworkStabilizers||(br.frameworkStabilizers=[]),br.frameworkStabilizers.push(r=>{const i=br.getAllAngularTestabilities();let s=i.length,u=!1;const f=function(d){u=u||d,s--,0==s&&r(u)};i.forEach(d=>{d.whenStable(f)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?el().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:GD,useClass:Jy,deps:[ci,tv,Qd]},{provide:Jy,useClass:Jy,deps:[ci,tv,Qd]}],nb=[{provide:Lm,useValue:"root"},{provide:Iu,useFactory:function Wz(){return new Iu},deps:[]},{provide:Tv,useClass:jz,multi:!0,deps:[Da,ci,sc]},{provide:Tv,useClass:qz,multi:!0,deps:[Da]},YI,qI,HI,{provide:rE,useExisting:YI},{provide:class az{},useClass:Oz,deps:[]},[]];let Kz=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ed,useValue:n.appId}]}}static#t=this.\u0275fac=function(r){return new(r||t)(Me(Qz,12))};static#e=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=Uo({providers:[...nb,...eb],imports:[tz,w3]})}return t})(),rb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#t=this.\u0275fac=function(r){return new(r||t)(Me(Da))};static#e=this.\u0275prov=Re({token:t,factory:function(r){let i=null;return i=r?new r:function tU(){return new rb(Me(Da))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:sU}=Array,{getPrototypeOf:aU,prototype:uU,keys:lU}=Object;function ab(t){if(1===t.length){const e=t[0];if(sU(e))return{args:e,keys:null};if(function cU(t){return t&&"object"==typeof t&&aU(t)===uU}(e)){const n=lU(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:fU}=Array;function ub(t){return re(e=>function hU(t,e){return fU(e)?t(...e):t(e)}(t,e))}function lb(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Bv(...t){const e=Ns(t),n=Xr(t),{args:r,keys:i}=ab(t);if(0===r.length)return $r([],e);const s=new it(function dU(t,e,n=Bt){return r=>{cb(e,()=>{const{length:i}=t,s=new Array(i);let u=i,f=i;for(let d=0;d<i;d++)cb(e,()=>{const p=$r(t[d],e);let y=!1;p.subscribe(oe(r,v=>{s[d]=v,y||(y=!0,f--),f||r.next(n(s.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>lb(i,u):Bt));return n?s.pipe(ub(n)):s}function cb(t,e,n){t?Yr(n,t,e):e()}const yp=$(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Vv(...t){return function pU(){return ca(1)}()($r(t,Ns(t)))}function fb(t){return new it(e=>{rr(t()).subscribe(e)})}function Xf(t,e){const n=U(t)?t:()=>t,r=i=>i.error(n());return new it(e?i=>e.schedule(r,0,i):r)}function zv(){return te((t,e)=>{let n=null;t._refCount++;const r=oe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class hb extends it{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,St(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _t;const n=this.getSubject();e.add(this.source.subscribe(oe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_t.EMPTY)}return e}refCount(){return zv()(this)}}function Tc(t){return t<=0?()=>Nn:te((e,n)=>{let r=0;e.subscribe(oe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function rl(t,e){return te((n,r)=>{let i=0;n.subscribe(oe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function vp(t){return te((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function db(t=mU){return te((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function mU(){return new yp}function Il(t,e){const n=arguments.length>=2;return r=>r.pipe(t?rl((i,s)=>t(i,s,r)):Bt,Tc(1),n?vp(e):db(()=>new yp))}function Qf(t,e){return U(e)?gr(t,e,1):gr(t,1)}function ss(t,e,n){const r=U(t)||e||n?{next:t,error:e,complete:n}:t;return r?te((i,s)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let f=!0;i.subscribe(oe(s,d=>{var p;null===(p=r.next)||void 0===p||p.call(r,d),s.next(d)},()=>{var d;f=!1,null===(d=r.complete)||void 0===d||d.call(r),s.complete()},d=>{var p;f=!1,null===(p=r.error)||void 0===p||p.call(r,d),s.error(d)},()=>{var d,p;f&&(null===(d=r.unsubscribe)||void 0===d||d.call(r)),null===(p=r.finalize)||void 0===p||p.call(r)}))}):Bt}function bl(t){return te((e,n)=>{let s,r=null,i=!1;r=e.subscribe(oe(n,void 0,void 0,u=>{s=rr(t(u,bl(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Uv(t){return t<=0?()=>Nn:te((e,n)=>{let r=[];e.subscribe(oe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Gv(t){return te((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const bn="primary",Kf=Symbol("RouteTitle");class CU{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ac(t){return new CU(t)}function xU(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const u=r[s],f=t[s];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function su(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!pb(t[i],e[i]))return!1;return!0}function pb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function gb(t){return t.length>0?t[t.length-1]:null}function il(t){return function oU(t){return!!t&&(t instanceof it||U(t.lift)&&U(t.subscribe))}(t)?t:Lf(t)?$r(Promise.resolve(t)):be(t)}const IU={exact:function vb(t,e,n){if(!Sl(t.segments,e.segments)||!_p(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!vb(t.children[r],e.children[r],n))return!1;return!0},subset:_b},mb={exact:function bU(t,e){return su(t,e)},subset:function SU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pb(t[n],e[n]))},ignored:()=>!0};function yb(t,e,n){return IU[n.paths](t.root,e.root,n.matrixParams)&&mb[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function _b(t,e,n){return wb(t,e,e.segments,n)}function wb(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Sl(i,n)||e.hasChildren()||!_p(i,n,r))}if(t.segments.length===n.length){if(!Sl(t.segments,n)||!_p(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!_b(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Sl(t.segments,i)&&_p(t.segments,i,r)&&t.children[bn])&&wb(t.children[bn],e,s,r)}}function _p(t,e,n){return e.every((r,i)=>mb[n](t[i].parameters,r.parameters))}class Lc{constructor(e=new Wr([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ac(this.queryParams)),this._queryParamMap}toString(){return NU.serialize(this)}}class Wr{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wp(this)}}class Jf{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ac(this.parameters)),this._parameterMap}toString(){return xb(this)}}function Sl(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let th=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:function(){return new jv},providedIn:"root"})}return t})();class jv{parse(e){const n=new UU(e);return new Lc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${eh(e.root,!0)}`,r=function LU(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Ep(n)}=${Ep(i)}`).join("&"):`${Ep(n)}=${Ep(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function TU(t){return encodeURI(t)}(e.fragment)}`:""}`}}const NU=new jv;function wp(t){return t.segments.map(e=>xb(e)).join("/")}function eh(t,e){if(!t.hasChildren())return wp(t);if(e){const n=t.children[bn]?eh(t.children[bn],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==bn&&r.push(`${i}:${eh(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function PU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===bn&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==bn&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===bn?[eh(t.children[bn],!1)]:[`${i}:${eh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[bn]?`${wp(t)}/${n[0]}`:`${wp(t)}/(${n.join("//")})`}}function Eb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ep(t){return Eb(t).replace(/%3B/gi,";")}function Hv(t){return Eb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cp(t){return decodeURIComponent(t)}function Cb(t){return Cp(t.replace(/\+/g,"%20"))}function xb(t){return`${Hv(t.path)}${function AU(t){return Object.keys(t).map(e=>`;${Hv(e)}=${Hv(t[e])}`).join("")}(t.parameters)}`}const OU=/^[^\/()?;#]+/;function $v(t){const e=t.match(OU);return e?e[0]:""}const RU=/^[^\/()?;=#]+/,kU=/^[^=?&#]+/,VU=/^[^&#]+/;class UU{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wr([],{}):new Wr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[bn]=new Wr(e,n)),r}parseSegment(){const e=$v(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Zt(4009,!1);return this.capture(e),new Jf(Cp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function FU(t){const e=t.match(RU);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=$v(this.remaining);i&&(r=i,this.capture(r))}e[Cp(n)]=Cp(r)}parseQueryParam(e){const n=function BU(t){const e=t.match(kU);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const u=function zU(t){const e=t.match(VU);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Cb(n),s=Cb(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$v(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Zt(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=bn);const u=this.parseChildren();n[s]=1===Object.keys(u).length?u[bn]:new Wr([],u),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Zt(4011,!1)}}function Db(t){return t.segments.length>0?new Wr([],{[bn]:t}):t}function Ib(t){const e={};for(const r of Object.keys(t.children)){const s=Ib(t.children[r]);if(r===bn&&0===s.segments.length&&s.hasChildren())for(const[u,f]of Object.entries(s.children))e[u]=f;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function GU(t){if(1===t.numberOfChildren&&t.children[bn]){const e=t.children[bn];return new Wr(t.segments.concat(e.segments),e.children)}return t}(new Wr(t.segments,e))}function Ml(t){return t instanceof Lc}function bb(t){let e;const i=Db(function n(s){const u={};for(const d of s.children){const p=n(d);u[d.outlet]=p}const f=new Wr(s.url,u);return s===t&&(e=f),f}(t.root));return e??i}function Sb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return qv(i,i,i,n,r);const s=function HU(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Pb(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const f={};return Object.entries(s.outlets).forEach(([d,p])=>{f[d]="string"==typeof p?p.split("/"):p}),[...i,{outlets:f}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===u?(s.split("/").forEach((f,d)=>{0==d&&"."===f||(0==d&&""===f?n=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,s]},[]);return new Pb(n,e,r)}(e);if(s.toRoot())return qv(i,i,new Wr([],{}),n,r);const u=function $U(t,e,n){if(t.isAbsolute)return new Dp(e,!0,0);if(!n)return new Dp(e,!1,NaN);if(null===n.parent)return new Dp(n,!0,0);const r=xp(t.commands[0])?0:1;return function qU(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Zt(4005,!1);i=r.segments.length}return new Dp(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),f=u.processChildren?rh(u.segmentGroup,u.index,s.commands):Nb(u.segmentGroup,u.index,s.commands);return qv(i,u.segmentGroup,f,n,r)}function xp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function nh(t){return"object"==typeof t&&null!=t&&t.outlets}function qv(t,e,n,r,i){let u,s={};r&&Object.entries(r).forEach(([d,p])=>{s[d]=Array.isArray(p)?p.map(y=>`${y}`):`${p}`}),u=t===e?n:Mb(t,e,n);const f=Db(Ib(u));return new Lc(f,s,i)}function Mb(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:Mb(s,e,n)}),new Wr(t.segments,r)}class Pb{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&xp(r[0]))throw new Zt(4003,!1);const i=r.find(nh);if(i&&i!==gb(r))throw new Zt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dp{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Nb(t,e,n){if(t||(t=new Wr([],{})),0===t.segments.length&&t.hasChildren())return rh(t,e,n);const r=function WU(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const u=t.segments[i],f=n[r];if(nh(f))break;const d=`${f}`,p=r<n.length-1?n[r+1]:null;if(i>0&&void 0===d)break;if(d&&p&&"object"==typeof p&&void 0===p.outlets){if(!Ab(d,p,u))return s;r+=2}else{if(!Ab(d,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Wr(t.segments.slice(0,r.pathIndex),{});return s.children[bn]=new Wr(t.segments.slice(r.pathIndex),t.children),rh(s,0,i)}return r.match&&0===i.length?new Wr(t.segments,{}):r.match&&!t.hasChildren()?Zv(t,e,n):r.match?rh(t,0,i):Zv(t,e,n)}function rh(t,e,n){if(0===n.length)return new Wr(t.segments,{});{const r=function ZU(t){return nh(t[0])?t[0].outlets:{[bn]:t}}(n),i={};if(Object.keys(r).some(s=>s!==bn)&&t.children[bn]&&1===t.numberOfChildren&&0===t.children[bn].segments.length){const s=rh(t.children[bn],e,n);return new Wr(t.segments,s.children)}return Object.entries(r).forEach(([s,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(i[s]=Nb(t.children[s],e,u))}),Object.entries(t.children).forEach(([s,u])=>{void 0===r[s]&&(i[s]=u)}),new Wr(t.segments,i)}}function Zv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(nh(s)){const d=YU(s.outlets);return new Wr(r,d)}if(0===i&&xp(n[0])){r.push(new Jf(t.segments[e].path,Tb(n[0]))),i++;continue}const u=nh(s)?s.outlets[bn]:`${s}`,f=i<n.length-1?n[i+1]:null;u&&f&&xp(f)?(r.push(new Jf(u,Tb(f))),i+=2):(r.push(new Jf(u,{})),i++)}return new Wr(r,{})}function YU(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Zv(new Wr([],{}),0,r))}),e}function Tb(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Ab(t,e,n){return t==n.path&&su(e,n.parameters)}const ih="imperative";class au{constructor(e,n){this.id=e,this.url=n}}class Ip extends au{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ol extends au{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class oh extends au{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Oc extends au{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class bp extends au{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lb extends au{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XU extends au{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QU extends au{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class KU extends au{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JU extends au{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class e4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class n4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ob{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Wv{}class Yv{constructor(e){this.url=e}}class s4{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sh,this.attachRef=null}}let sh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new s4,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Rb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Xv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Xv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Qv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qv(e,this._root).map(n=>n.value)}}function Xv(t,e){if(t===e.value)return e;for(const n of e.children){const r=Xv(t,n);if(r)return r}return null}function Qv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Qv(t,n);if(r.length)return r.unshift(e),r}return[]}class Lu{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Rc(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Fb extends Rb{constructor(e,n){super(e),this.snapshot=n,Kv(this,e)}toString(){return this.snapshot.toString()}}function kb(t,e){const n=function a4(t,e){const u=new Sp([],{},{},"",{},bn,e,null,{});return new Vb("",new Lu(u,[]))}(0,e),r=new fe([new Jf("",{})]),i=new fe({}),s=new fe({}),u=new fe({}),f=new fe(""),d=new Fc(r,i,u,f,s,bn,e,n.root);return d.snapshot=n.root,new Fb(new Lu(d,[]),n)}class Fc{constructor(e,n,r,i,s,u,f,d){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=u,this.component=f,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(re(p=>p[Kf]))??be(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>Ac(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>Ac(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bb(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function u4(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Sp{get title(){return this.data?.[Kf]}constructor(e,n,r,i,s,u,f,d,p){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=f,this.routeConfig=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ac(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ac(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vb extends Rb{constructor(e,n){super(n),this.url=e,Kv(this,n)}toString(){return zb(this._root)}}function Kv(t,e){e.value._routerState=t,e.children.forEach(n=>Kv(t,n))}function zb(t){const e=t.children.length>0?` { ${t.children.map(zb).join(", ")} } `:"";return`${t.value}${e}`}function Jv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,su(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),su(e.params,n.params)||t.paramsSubject.next(n.params),function DU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!su(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),su(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function t_(t,e){const n=su(t.params,e.params)&&function MU(t,e){return Sl(t,e)&&t.every((n,r)=>su(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||t_(t.parent,e.parent))}let Ub=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=bn,this.activateEvents=new Wi,this.deactivateEvents=new Wi,this.attachEvents=new Wi,this.detachEvents=new Wi,this.parentContexts=pe(sh),this.location=pe(Ra),this.changeDetector=pe(Jd),this.environmentInjector=pe(Ea),this.inputBinder=pe(Mp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Zt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Zt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Zt(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Zt(4013,!1);this._activatedRoute=n;const i=this.location,u=n.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,d=new l4(n,f,i.injector);this.activated=i.createComponent(u,{index:i.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275dir=He({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_a]})}return t})();class l4{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Fc?this.route:e===sh?this.childContexts:this.parent.get(e,n)}}const Mp=new Ee("");let Gb=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Bv([r.queryParams,r.params,r.data]).pipe(Ne(([s,u,f],d)=>(f={...s,...u,...f},0===d?be(f):Promise.resolve(f)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const u=function A3(t){const e=an(t);if(!e)return null;const n=new Mf(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(u)for(const{templateName:f}of u.inputs)n.activatedComponentRef.setInput(f,s[f]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();function ah(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function f4(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ah(t,r,i);return ah(t,r)})}(t,e,n);return new Lu(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>ah(t,f)),u}}const r=function h4(t){return new Fc(new fe(t.url),new fe(t.params),new fe(t.queryParams),new fe(t.fragment),new fe(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ah(t,s));return new Lu(r,i)}}const e_="ngNavigationCancelingError";function jb(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ml(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Hb(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Hb(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[e_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function $b(t){return t&&t[e_]}let qb=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275cmp=Zi({type:t,selectors:[["ng-component"]],standalone:!0,features:[jx],decls:1,vars:0,template:function(r,i){1&r&&os(0,"router-outlet")},dependencies:[Ub],encapsulation:2})}return t})();function n_(t){const e=t.children&&t.children.map(n_),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==bn&&(n.component=qb),n}function Ba(t){return t.outlet||bn}function uh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class w4{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Jv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Rc(n);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,n,u.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Rc(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Rc(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Rc(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new o4(s.value.snapshot))}),e.children.length&&this.forwardEvent(new r4(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Jv(i),i===s)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,u.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Jv(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=uh(i.snapshot);u.attachRef=null,u.route=i,u.injector=f,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class Zb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pp{constructor(e,n){this.component=e,this.route=n}}function E4(t,e,n){const r=t._root;return lh(r,e?e._root:null,n,[r.value])}function kc(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function ki(t){return null!==vu(t)}(t)?e.get(t):t:r}function lh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Rc(e);return t.children.forEach(u=>{(function x4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,u=e?e.value:null,f=n?n.getContext(t.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const d=function D4(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Sl(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Sl(t.url,e.url)||!su(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!t_(t,e)||!su(t.queryParams,e.queryParams);default:return!t_(t,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new Zb(r)):(s.data=u.data,s._resolvedData=u._resolvedData),lh(t,e,s.component?f?f.children:null:n,r,i),d&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Pp(f.outlet.component,u))}else u&&ch(e,f,i),i.canActivateChecks.push(new Zb(r)),lh(t,null,s.component?f?f.children:null:n,r,i)})(u,s[u.value.outlet],n,r.concat([u.value]),i),delete s[u.value.outlet]}),Object.entries(s).forEach(([u,f])=>ch(f,n.getContext(u),i)),i}function ch(t,e,n){const r=Rc(t),i=t.value;Object.entries(r).forEach(([s,u])=>{ch(u,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Pp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function fh(t){return"function"==typeof t}function Wb(t){return t instanceof yp||"EmptyError"===t?.name}const Np=Symbol("INITIAL_VALUE");function Bc(){return Ne(t=>Bv(t.map(e=>e.pipe(Tc(1),function gU(...t){const e=Ns(t);return te((n,r)=>{(e?Vv(t,n,e):Vv(t,n)).subscribe(r)})}(Np)))).pipe(re(e=>{for(const n of e)if(!0!==n){if(n===Np)return Np;if(!1===n||n instanceof Lc)return n}return!0}),rl(e=>e!==Np),Tc(1)))}function Yb(t){return function et(...t){return gt(t)}(ss(e=>{if(Ml(e))throw jb(0,e)}),re(e=>!0===e))}class Tp{constructor(e){this.segmentGroup=e||null}}class Xb{constructor(e){this.urlTree=e}}function Vc(t){return Xf(new Tp(t))}function Qb(t){return Xf(new Xb(t))}class H4{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new Zt(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return be(r);if(i.numberOfChildren>1||!i.children[bn])return Xf(new Zt(4e3,!1));i=i.children[bn]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Lc(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const f=s.substring(1);r[i]=n[f]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let u={};return Object.entries(n.children).forEach(([f,d])=>{u[f]=this.createSegmentGroup(e,d,r,i)}),new Wr(s,u)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Zt(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const r_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $4(t,e,n,r,i){const s=i_(t,e,n);return s.matched?(r=function p4(t,e){return t.providers&&!t._injector&&(t._injector=Ry(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function U4(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?be(i.map(u=>{const f=kc(u,t);return il(function N4(t){return t&&fh(t.canMatch)}(f)?f.canMatch(e,n):t.runInContext(()=>f(e,n)))})).pipe(Bc(),Yb()):be(!0)}(r,e,n).pipe(re(u=>!0===u?s:{...r_}))):be(s)}function i_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...r_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||xU)(n,t,e);if(!i)return{...r_};const s={};Object.entries(i.posParams??{}).forEach(([f,d])=>{s[f]=d.path});const u=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Kb(t,e,n,r){return n.length>0&&function W4(t,e,n){return n.some(r=>Ap(t,e,r)&&Ba(r)!==bn)}(t,n,r)?{segmentGroup:new Wr(e,Z4(r,new Wr(n,t.children))),slicedSegments:[]}:0===n.length&&function Y4(t,e,n){return n.some(r=>Ap(t,e,r))}(t,n,r)?{segmentGroup:new Wr(t.segments,q4(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Wr(t.segments,t.children),slicedSegments:n}}function q4(t,e,n,r,i){const s={};for(const u of r)if(Ap(t,n,u)&&!i[Ba(u)]){const f=new Wr([],{});s[Ba(u)]=f}return{...i,...s}}function Z4(t,e){const n={};n[bn]=e;for(const r of t)if(""===r.path&&Ba(r)!==bn){const i=new Wr([],{});n[Ba(r)]=i}return n}function Ap(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class J4{constructor(e,n,r,i,s,u,f){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=u,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new H4(this.urlSerializer,this.urlTree)}noMatchError(e){return new Zt(4002,!1)}recognize(){const e=Kb(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,bn).pipe(bl(n=>{if(n instanceof Xb)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Tp?this.noMatchError(n):n}),re(n=>{const r=new Sp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bn,this.rootComponentType,null,{}),i=new Lu(r,n),s=new Vb("",i),u=function jU(t,e,n=null,r=null){return Sb(bb(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(s._root),{state:s,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,bn).pipe(bl(r=>{throw r instanceof Tp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=Bb(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return $r(i).pipe(Qf(s=>{const u=r.children[s],f=function v4(t,e){const n=t.filter(r=>Ba(r)===e);return n.push(...t.filter(r=>Ba(r)!==e)),n}(n,s);return this.processSegmentGroup(e,f,u,s)}),function vU(t,e){return te(function yU(t,e,n,r,i){return(s,u)=>{let f=n,d=e,p=0;s.subscribe(oe(u,y=>{const v=p++;d=f?t(d,y,v):(f=!0,y),r&&u.next(d)},i&&(()=>{f&&u.next(d),u.complete()})))}}(t,e,arguments.length>=2,!0))}((s,u)=>(s.push(...u),s)),vp(null),function _U(t,e){const n=arguments.length>=2;return r=>r.pipe(t?rl((i,s)=>t(i,s,r)):Bt,Uv(1),n?vp(e):db(()=>new yp))}(),gr(s=>{if(null===s)return Vc(r);const u=Jb(s);return function t8(t){t.sort((e,n)=>e.value.outlet===bn?-1:n.value.outlet===bn?1:e.value.outlet.localeCompare(n.value.outlet))}(u),be(u)}))}processSegment(e,n,r,i,s,u){return $r(n).pipe(Qf(f=>this.processSegmentAgainstRoute(f._injector??e,n,f,r,i,s,u).pipe(bl(d=>{if(d instanceof Tp)return be(null);throw d}))),Il(f=>!!f),bl(f=>{if(Wb(f))return function Q4(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?be([]):Vc(r);throw f}))}processSegmentAgainstRoute(e,n,r,i,s,u,f){return function X4(t,e,n,r){return!!(Ba(t)===r||r!==bn&&Ap(e,n,t))&&("**"===t.path||i_(e,t,n).matched)}(r,i,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,u,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,u):Vc(i):Vc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Qb(s):this.applyRedirects.lineralizeSegments(r,s).pipe(gr(u=>{const f=new Wr(u,{});return this.processSegment(e,n,f,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,u){const{matched:f,consumedSegments:d,remainingSegments:p,positionalParamSegments:y}=i_(n,i,s);if(!f)return Vc(n);const v=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,y);return i.redirectTo.startsWith("/")?Qb(v):this.applyRedirects.lineralizeSegments(i,v).pipe(gr(w=>this.processSegment(e,r,n,w.concat(p),u,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,u){let f;if("**"===r.path){const d=i.length>0?gb(i).parameters:{};f=be({snapshot:new Sp(i,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tS(r),Ba(r),r.component??r._loadedComponent??null,r,eS(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else f=$4(n,r,i,e).pipe(re(({matched:d,consumedSegments:p,remainingSegments:y,parameters:v})=>d?{snapshot:new Sp(p,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tS(r),Ba(r),r.component??r._loadedComponent??null,r,eS(r)),consumedSegments:p,remainingSegments:y}:null));return f.pipe(Ne(d=>null===d?Vc(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ne(({routes:p})=>{const y=r._loadedInjector??e,{snapshot:v,consumedSegments:w,remainingSegments:C}=d,{segmentGroup:b,slicedSegments:P}=Kb(n,w,C,p);if(0===P.length&&b.hasChildren())return this.processChildren(y,p,b).pipe(re(G=>null===G?null:[new Lu(v,G)]));if(0===p.length&&0===P.length)return be([new Lu(v,[])]);const K=Ba(r)===s;return this.processSegment(y,p,b,P,K?bn:s,!0).pipe(re(G=>[new Lu(v,G)]))}))))}getChildConfig(e,n,r){return n.children?be({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?be({routes:n._loadedRoutes,injector:n._loadedInjector}):function z4(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?be(!0):be(i.map(u=>{const f=kc(u,t);return il(function b4(t){return t&&fh(t.canLoad)}(f)?f.canLoad(e,n):t.runInContext(()=>f(e,n)))})).pipe(Bc(),Yb())}(e,n,r).pipe(gr(i=>i?this.configLoader.loadChildren(e,n).pipe(ss(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function j4(t){return Xf(Hb(!1,3))}())):be({routes:[],injector:e})}}function e8(t){const e=t.value.routeConfig;return e&&""===e.path}function Jb(t){const e=[],n=new Set;for(const r of t){if(!e8(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Jb(r.children);e.push(new Lu(r.value,i))}return e.filter(r=>!n.has(r))}function tS(t){return t.data||{}}function eS(t){return t.resolve||{}}function nS(t){return"string"==typeof t.title||null===t.title}function o_(t){return Ne(e=>{const n=t(e);return n?$r(n).pipe(re(()=>e)):be(e)})}const zc=new Ee("ROUTES");let s_=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=pe(BD)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return be(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=il(n.loadComponent()).pipe(re(rS),ss(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Gv(()=>{this.componentLoaders.delete(n)})),i=new hb(r,()=>new Mt).pipe(zv());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return be({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function u8(t,e,n,r){return il(t.loadChildren()).pipe(re(rS),gr(i=>i instanceof Ux||Array.isArray(i)?be(i):$r(e.compileModuleAsync(i))),re(i=>{r&&r(t);let s,u,f=!1;return Array.isArray(i)?(u=i,!0):(s=i.create(n).injector,u=s.get(zc,[],{optional:!0,self:!0}).flat()),{routes:u.map(n_),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Gv(()=>{this.childrenLoaders.delete(r)})),u=new hb(s,()=>new Mt).pipe(zv());return this.childrenLoaders.set(r,u),u}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rS(t){return function l8(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Lp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Mt,this.transitionAbortSubject=new Mt,this.configLoader=pe(s_),this.environmentInjector=pe(Ea),this.urlSerializer=pe(th),this.rootContexts=pe(sh),this.inputBindingEnabled=null!==pe(Mp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>be(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new e4(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new t4(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new fe({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ih,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(rl(s=>0!==s.id),re(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Ne(s=>{this.currentTransition=s;let u=!1,f=!1;return be(s).pipe(ss(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ne(d=>{const p=d.currentBrowserUrl.toString(),y=!n.navigated||d.extractedUrl.toString()!==p||p!==d.currentUrlTree.toString();if(!y&&"reload"!==(d.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const w="";return this.events.next(new Oc(d.id,this.urlSerializer.serialize(d.rawUrl),w,0)),d.resolve(null),Nn}if(n.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return be(d).pipe(Ne(w=>{const C=this.transitions?.getValue();return this.events.next(new Ip(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),C!==this.transitions?.getValue()?Nn:Promise.resolve(w)}),function n8(t,e,n,r,i,s){return gr(u=>function K4(t,e,n,r,i,s,u="emptyOnly"){return new J4(t,e,n,r,i,u,s).recognize()}(t,e,n,r,u.extractedUrl,i,s).pipe(re(({state:f,tree:d})=>({...u,targetSnapshot:f,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),ss(w=>{s.targetSnapshot=w.targetSnapshot,s.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects};const C=new Lb(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(C)}));if(y&&n.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){const{id:w,extractedUrl:C,source:b,restoredState:P,extras:K}=d,G=new Ip(w,this.urlSerializer.serialize(C),b,P);this.events.next(G);const M=kb(0,this.rootComponentType).snapshot;return this.currentTransition=s={...d,targetSnapshot:M,urlAfterRedirects:C,extras:{...K,skipLocationChange:!1,replaceUrl:!1}},be(s)}{const w="";return this.events.next(new Oc(d.id,this.urlSerializer.serialize(d.extractedUrl),w,1)),d.resolve(null),Nn}}),ss(d=>{const p=new XU(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),re(d=>(this.currentTransition=s={...d,guards:E4(d.targetSnapshot,d.currentSnapshot,this.rootContexts)},s)),function A4(t,e){return gr(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=n;return 0===u.length&&0===s.length?be({...n,guardsResult:!0}):function L4(t,e,n,r){return $r(t).pipe(gr(i=>function V4(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?be(s.map(f=>{const d=uh(e)??i,p=kc(f,d);return il(function P4(t){return t&&fh(t.canDeactivate)}(p)?p.canDeactivate(t,e,n,r):d.runInContext(()=>p(t,e,n,r))).pipe(Il())})).pipe(Bc()):be(!0)}(i.component,i.route,n,e,r)),Il(i=>!0!==i,!0))}(u,r,i,t).pipe(gr(f=>f&&function I4(t){return"boolean"==typeof t}(f)?function O4(t,e,n,r){return $r(e).pipe(Qf(i=>Vv(function F4(t,e){return null!==t&&e&&e(new n4(t)),be(!0)}(i.route.parent,r),function R4(t,e){return null!==t&&e&&e(new i4(t)),be(!0)}(i.route,r),function B4(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function C4(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(u)).filter(u=>null!==u).map(u=>fb(()=>be(u.guards.map(d=>{const p=uh(u.node)??n,y=kc(d,p);return il(function M4(t){return t&&fh(t.canActivateChild)}(y)?y.canActivateChild(r,t):p.runInContext(()=>y(r,t))).pipe(Il())})).pipe(Bc())));return be(s).pipe(Bc())}(t,i.path,n),function k4(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return be(!0);const i=r.map(s=>fb(()=>{const u=uh(e)??n,f=kc(s,u);return il(function S4(t){return t&&fh(t.canActivate)}(f)?f.canActivate(e,t):u.runInContext(()=>f(e,t))).pipe(Il())}));return be(i).pipe(Bc())}(t,i.route,n))),Il(i=>!0!==i,!0))}(r,s,t,e):be(f)),re(f=>({...n,guardsResult:f})))})}(this.environmentInjector,d=>this.events.next(d)),ss(d=>{if(s.guardsResult=d.guardsResult,Ml(d.guardsResult))throw jb(0,d.guardsResult);const p=new QU(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(p)}),rl(d=>!!d.guardsResult||(this.cancelNavigationTransition(d,"",3),!1)),o_(d=>{if(d.guards.canActivateChecks.length)return be(d).pipe(ss(p=>{const y=new KU(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}),Ne(p=>{let y=!1;return be(p).pipe(function r8(t,e){return gr(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return be(n);let s=0;return $r(i).pipe(Qf(u=>function i8(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!nS(i)&&(s[Kf]=i.title),function o8(t,e,n,r){const i=function s8(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return be({});const s={};return $r(i).pipe(gr(u=>function a8(t,e,n,r){const i=uh(e)??r,s=kc(t,i);return il(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[u],e,n,r).pipe(Il(),ss(f=>{s[u]=f}))),Uv(1),function wU(t){return re(()=>t)}(s),bl(u=>Wb(u)?Nn:Xf(u)))}(s,t,e,r).pipe(re(u=>(t._resolvedData=u,t.data=Bb(t,n).resolve,i&&nS(i)&&(t.data[Kf]=i.title),null)))}(u.route,r,t,e)),ss(()=>s++),Uv(1),gr(u=>s===i.length?be(n):Nn))})}(n.paramsInheritanceStrategy,this.environmentInjector),ss({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(p,"",2)}}))}),ss(p=>{const y=new JU(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}))}),o_(d=>{const p=y=>{const v=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(y.routeConfig).pipe(ss(w=>{y.component=w}),re(()=>{})));for(const w of y.children)v.push(...p(w));return v};return Bv(p(d.targetSnapshot.root)).pipe(vp(),Tc(1))}),o_(()=>this.afterPreactivation()),re(d=>{const p=function c4(t,e,n){const r=ah(t,e._root,n?n._root:void 0);return new Fb(r,e)}(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s={...d,targetRouterState:p},s}),ss(()=>{this.events.next(new Wv)}),((t,e,n,r)=>re(i=>(new w4(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Tc(1),ss({next:d=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ol(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),n.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{u=!0}}),function EU(t){return te((e,n)=>{rr(t).subscribe(oe(n,()=>n.complete(),It)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(ss(d=>{throw d}))),Gv(()=>{u||f||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),bl(d=>{if(f=!0,$b(d))this.events.next(new oh(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),function d4(t){return $b(t)&&Ml(t.url)}(d)?this.events.next(new Yv(d.url)):s.resolve(!1);else{this.events.next(new bp(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(d))}catch(p){s.reject(p)}}return Nn}))}))}cancelNavigationTransition(n,r,i){const s=new oh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iS(t){return t!==ih}let oS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===bn);return r}getResolvedTitleForRoute(n){return n.data[Kf]}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:function(){return pe(c8)},providedIn:"root"})}return t})(),c8=(()=>{class t extends oS{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#t=this.\u0275fac=function(r){return new(r||t)(Me(rb))};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),f8=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:function(){return pe(d8)},providedIn:"root"})}return t})();class h8{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let d8=(()=>{class t extends h8{static#t=this.\u0275fac=function(){let n;return function(i){return(n||(n=Wo(t)))(i||t)}}();static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Op=new Ee("",{providedIn:"root",factory:()=>({})});let p8=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:function(){return pe(g8)},providedIn:"root"})}return t})(),g8=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var hh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(hh||{});function sS(t,e){t.events.pipe(rl(n=>n instanceof ol||n instanceof oh||n instanceof bp||n instanceof Oc),re(n=>n instanceof ol||n instanceof Oc?hh.COMPLETE:n instanceof oh&&(0===n.code||1===n.code)?hh.REDIRECTING:hh.FAILED),rl(n=>n!==hh.REDIRECTING),Tc(1)).subscribe(()=>{e()})}function m8(t){throw t}function y8(t,e,n){return e.parse("/")}const v8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sa=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=pe(FD),this.isNgZoneEnabled=!1,this._events=new Mt,this.options=pe(Op,{optional:!0})||{},this.pendingTasks=pe(kD),this.errorHandler=this.options.errorHandler||m8,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||y8,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=pe(p8),this.routeReuseStrategy=pe(f8),this.titleStrategy=pe(oS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=pe(zc,{optional:!0})?.flat()??[],this.navigationTransitions=pe(Lp),this.urlSerializer=pe(th),this.location=pe(dv),this.componentInputBindingEnabled=!!pe(Mp,{optional:!0}),this.eventsSubscription=new _t,this.isNgZoneEnabled=pe(ci)instanceof ci&&ci.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kb(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(aS(r)&&this._events.next(r));if(r instanceof Ip)iS(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Oc)this.rawUrlTree=i.rawUrl;else if(r instanceof Lb){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Wv)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof oh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Yv){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||iS(i.source)};this.scheduleNavigation(s,ih,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof bp&&this.restoreHistory(i,!0),r instanceof ol&&(this.navigated=!0),aS(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ih,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const d={...i};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(s.state=d)}const f=this.parseUrl(n);this.scheduleNavigation(f,r,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(n_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:u,queryParamsHandling:f,preserveFragment:d}=r,p=d?this.currentUrlTree.fragment:u;let v,y=null;switch(f){case"merge":y={...this.currentUrlTree.queryParams,...s};break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=s||null}null!==y&&(y=this.removeEmptyProps(y));try{v=bb(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),v=this.currentUrlTree.root}return Sb(v,n,y,p??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ml(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ih,null,r)}navigate(n,r={skipLocationChange:!1}){return function w8(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new Zt(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...v8}:!1===r?{..._8}:r,Ml(n))return yb(this.currentUrlTree,n,i);const s=this.parseUrl(n);return yb(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,u){if(this.disposed)return Promise.resolve(!1);let f,d,p;u?(f=u.resolve,d=u.reject,p=u.promise):p=new Promise((v,w)=>{f=v,d=w});const y=this.pendingTasks.add();return sS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:f,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(v=>Promise.reject(v))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",u)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function aS(t){return!(t instanceof Wv||t instanceof Yv)}class uS{}let x8=(()=>{class t{constructor(n,r,i,s,u){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(rl(n=>n instanceof ol),Qf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Ry(s.providers,n,`Route: ${s.path}`));const u=s._injector??n,f=s._loadedInjector??u;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(u,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(f,s.children??s._loadedRoutes))}return $r(i).pipe(ca())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):be(null);const s=i.pipe(gr(u=>null===u?be(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??n,u.routes))));return r.loadComponent&&!r._loadedComponent?$r([s,this.loader.loadComponent(r)]).pipe(ca()):s})}static#t=this.\u0275fac=function(r){return new(r||t)(Me(Sa),Me(BD),Me(Ea),Me(uS),Me(s_))};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const u_=new Ee("");let lS=(()=>{class t{constructor(n,r,i,s,u={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ip?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ol?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Oc&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ob&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ob(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#t=this.\u0275fac=function(r){!function ME(){throw new Error("invalid")}()};static#e=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();function Ou(t,e){return{\u0275kind:t,\u0275providers:e}}function fS(){const t=pe(na);return e=>{const n=t.get(Mc);if(e!==n.components[0])return;const r=t.get(Sa),i=t.get(hS);1===t.get(l_)&&r.initialNavigation(),t.get(dS,null,Dn.Optional)?.setUpPreloading(),t.get(u_,null,Dn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const hS=new Ee("",{factory:()=>new Mt}),l_=new Ee("",{providedIn:"root",factory:()=>1}),dS=new Ee("");function S8(t){return Ou(0,[{provide:dS,useExisting:x8},{provide:uS,useExisting:t}])}const pS=new Ee("ROUTER_FORROOT_GUARD"),P8=[dv,{provide:th,useClass:jv},Sa,sh,{provide:Fc,useFactory:function cS(t){return t.routerState.root},deps:[Sa]},s_,[]];function N8(){return new $D("Router",Sa)}let gS=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[P8,[],{provide:zc,multi:!0,useValue:n},{provide:pS,useFactory:O8,deps:[[Sa,new ed,new nd]]},{provide:Op,useValue:r||{}},r?.useHash?{provide:Dl,useClass:k3}:{provide:Dl,useClass:EI},{provide:u_,useFactory:()=>{const t=pe(iz),e=pe(ci),n=pe(Op),r=pe(Lp),i=pe(th);return n.scrollOffset&&t.setOffset(n.scrollOffset),new lS(i,r,t,e,n)}},r?.preloadingStrategy?S8(r.preloadingStrategy).\u0275providers:[],{provide:$D,multi:!0,useFactory:N8},r?.initialNavigation?R8(r):[],r?.bindToComponentInputs?Ou(8,[Gb,{provide:Mp,useExisting:Gb}]).\u0275providers:[],[{provide:mS,useFactory:fS},{provide:rv,multi:!0,useExisting:mS}]]}}static forChild(n){return{ngModule:t,providers:[{provide:zc,multi:!0,useValue:n}]}}static#t=this.\u0275fac=function(r){return new(r||t)(Me(pS,8))};static#e=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=Uo({})}return t})();function O8(t){return"guarded"}function R8(t){return["disabled"===t.initialNavigation?Ou(3,[{provide:Yy,multi:!0,useFactory:()=>{const e=pe(Sa);return()=>{e.setUpLocationChangeListener()}}},{provide:l_,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ou(2,[{provide:l_,useValue:0},{provide:Yy,multi:!0,deps:[na],useFactory:e=>{const n=e.get(R3,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Sa),s=e.get(hS);sS(i,()=>{r(!0)}),e.get(Lp).afterPreactivation=()=>(r(!0),s.closed?be(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const mS=new Ee(""),k8=[];let B8=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=Uo({imports:[gS.forRoot(k8),gS]})}return t})();var oa=A(8433),as=(A(3727),6371008.8),yS={centimeters:100*as,centimetres:100*as,degrees:as/111325,feet:3.28084*as,inches:39.37*as,kilometers:as/1e3,kilometres:as/1e3,meters:as,metres:as,miles:as/1609.344,millimeters:1e3*as,millimetres:1e3*as,nauticalmiles:as/1852,radians:1,yards:1.0936*as};function uu(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function Uc(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!f_(t[0])||!f_(t[1]))throw new Error("coordinates must contain numbers");return uu({type:"Point",coordinates:t},e,n)}function dh(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var u=0;u<s[s.length-1].length;u++)if(s[s.length-1][u]!==s[0][u])throw new Error("First and last Position are not equivalent.")}return uu({type:"Polygon",coordinates:t},e,n)}function Rp(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return uu({type:"LineString",coordinates:t},e,n)}function Gc(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function f_(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function ph(t,e,n){if(null!==t)for(var r,i,s,u,f,d,p,w,y=0,v=0,C=t.type,b="FeatureCollection"===C,P="Feature"===C,K=b?t.features.length:1,G=0;G<K;G++){f=(w=!!(p=b?t.features[G].geometry:P?t.geometry:t)&&"GeometryCollection"===p.type)?p.geometries.length:1;for(var M=0;M<f;M++){var q=0,pt=0;if(null!==(u=w?p.geometries[M]:p)){d=u.coordinates;var yt=u.type;switch(y=!n||"Polygon"!==yt&&"MultiPolygon"!==yt?0:1,yt){case null:break;case"Point":if(!1===e(d,v,G,q,pt))return!1;v++,q++;break;case"LineString":case"MultiPoint":for(r=0;r<d.length;r++){if(!1===e(d[r],v,G,q,pt))return!1;v++,"MultiPoint"===yt&&q++}"LineString"===yt&&q++;break;case"Polygon":case"MultiLineString":for(r=0;r<d.length;r++){for(i=0;i<d[r].length-y;i++){if(!1===e(d[r][i],v,G,q,pt))return!1;v++}"MultiLineString"===yt&&q++,"Polygon"===yt&&pt++}"Polygon"===yt&&q++;break;case"MultiPolygon":for(r=0;r<d.length;r++){for(pt=0,i=0;i<d[r].length;i++){for(s=0;s<d[r][i].length-y;s++){if(!1===e(d[r][i][s],v,G,q,pt))return!1;v++}pt++}q++}break;case"GeometryCollection":for(r=0;r<u.geometries.length;r++)if(!1===ph(u.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function h_(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function Fp(t,e){var n,r,i,s,u,f,d,p,y,v,w=0,C="FeatureCollection"===t.type,b="Feature"===t.type,P=C?t.features.length:1;for(n=0;n<P;n++){for(p=C?t.features[n].properties:b?t.properties:{},y=C?t.features[n].bbox:b?t.bbox:void 0,v=C?t.features[n].id:b?t.id:void 0,u=(d=!!(f=C?t.features[n].geometry:b?t.geometry:t)&&"GeometryCollection"===f.type)?f.geometries.length:1,i=0;i<u;i++)if(null!==(s=d?f.geometries[i]:f))switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(s,w,p,y,v))return!1;break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===e(s.geometries[r],w,p,y,v))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,w,p,y,v))return!1;w++}}function d_(t){var e=[1/0,1/0,-1/0,-1/0];return ph(t,function(n){e[0]>n[0]&&(e[0]=n[0]),e[1]>n[1]&&(e[1]=n[1]),e[2]<n[0]&&(e[2]=n[0]),e[3]<n[1]&&(e[3]=n[1])}),e}d_.default=d_;const ES=d_;function g_(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r=function Z8(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(t),i=function X8(t){return"Feature"===t.type?t.geometry:t}(e),s=i.type,u=e.bbox,f=i.coordinates;if(u&&!1===function sG(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(r,u))return!1;"Polygon"===s&&(f=[f]);for(var d=!1,p=0;p<f.length&&!d;p++)if(IS(r,f[p][0],n.ignoreBoundary)){for(var y=!1,v=1;v<f[p].length&&!y;)IS(r,f[p][v],!n.ignoreBoundary)&&(y=!0),v++;y||(d=!0)}return d}function IS(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,s=e.length-1;i<e.length;s=i++){var u=e[i][0],f=e[i][1],d=e[s][0],p=e[s][1];if(t[1]*(u-d)+f*(d-t[0])+p*(t[0]-u)==0&&(u-t[0])*(d-t[0])<=0&&(f-t[1])*(p-t[1])<=0)return!n;f>t[1]!=p>t[1]&&t[0]<(d-u)*(t[1]-f)/(p-f)+u&&(r=!r)}return r}A(4772),A(3664);var SS=new ArrayBuffer(16);new Float64Array(SS),new Uint32Array(SS),A(7861),function(){function t(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(var n=0;n<this.length;n++)this.points[n].z=this.points[n].z||0;for(n=0;n<this.length-1;n++){var r=this.points[n],i=this.points[n+1];this.centers.push({x:(r.x+i.x)/2,y:(r.y+i.y)/2,z:(r.z+i.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),n=0;n<this.centers.length-1;n++){var s=this.points[n+1].x-(this.centers[n].x+this.centers[n+1].x)/2,u=this.points[n+1].y-(this.centers[n].y+this.centers[n+1].y)/2,f=this.points[n+1].z-(this.centers[n].y+this.centers[n+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[n+1].x+this.sharpness*(this.centers[n].x+s),y:(1-this.sharpness)*this.points[n+1].y+this.sharpness*(this.centers[n].y+u),z:(1-this.sharpness)*this.points[n+1].z+this.sharpness*(this.centers[n].z+f)},{x:(1-this.sharpness)*this.points[n+1].x+this.sharpness*(this.centers[n+1].x+s),y:(1-this.sharpness)*this.points[n+1].y+this.sharpness*(this.centers[n+1].y+u),z:(1-this.sharpness)*this.points[n+1].z+this.sharpness*(this.centers[n+1].z+f)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}t.prototype.cacheSteps=function(e){var n=[],r=this.pos(0);n.push(0);for(var i=0;i<this.duration;i+=10){var s=this.pos(i);Math.sqrt((s.x-r.x)*(s.x-r.x)+(s.y-r.y)*(s.y-r.y)+(s.z-r.z)*(s.z-r.z))>e&&(n.push(i),r=s)}return n},t.prototype.vector=function(e){var n=this.pos(e+10),r=this.pos(e-10);return{angle:180*Math.atan2(n.y-r.y,n.x-r.x)/3.14,speed:Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)+(r.z-n.z)*(r.z-n.z))}},t.prototype.pos=function(e){var n=e-this.delay;n<0&&(n=0),n>this.duration&&(n=this.duration-1);var r=n/this.duration;if(r>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*r);return function CG(t,e,n,r,i){var s=function xG(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*s[0]+r.x*s[1]+n.x*s[2]+e.x*s[3],y:i.y*s[0]+r.y*s[1]+n.y*s[2]+e.y*s[3],z:i.z*s[0]+r.z*s[1]+n.z*s[2]+e.z*s[3]}}((this.length-1)*r-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])}}();A(9145),A(5665);var kS=6378137;function BS(t){return function H8(t,e,n){var r=n;return Fp(t,function(i,s,u,f,d){r=0===s&&void 0===n?i:e(r,i,s,u,f,d)}),r}(t,function(e,n){return e+function GG(t){var n,e=0;switch(t.type){case"Polygon":return VS(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)e+=VS(t.coordinates[n]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(n)},0)}function VS(t){var e=0;if(t&&t.length>0){e+=Math.abs(zS(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(zS(t[n]))}return e}function zS(t){var e,n,i,s,u,f,d=0,p=t.length;if(p>2){for(f=0;f<p;f++)f===p-2?(i=p-2,s=p-1,u=0):f===p-1?(i=p-1,s=0,u=1):(i=f,s=f+1,u=f+2),e=t[i],n=t[s],d+=(E_(t[u][0])-E_(e[0]))*Math.sin(E_(n[1]));d=d*kS*kS/2}return d}function E_(t){return t*Math.PI/180}var $S=Math.PI/180,qS=180/Math.PI,yh=function(t,e){this.lon=t,this.lat=e,this.x=$S*t,this.y=$S*e};yh.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},yh.prototype.antipode=function(){return new yh(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var ZS=function(){this.coords=[],this.length=0};ZS.prototype.move_to=function(t){this.length++,this.coords.push(t)};var C_=function(t){this.properties=t||{},this.geometries=[]};C_.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},C_.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(s){e+=s[0]+" "+s[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var x_=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new yh(t.x,t.y),this.end=new yh(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,s=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(s)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};x_.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),s=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),u=qS*Math.atan2(s,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[qS*Math.atan2(i,r),u]},x_.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var u=this.interpolate(r*i);n.push(u)}for(var f=!1,d=0,p=e&&e.offset?e.offset:10,y=180-p,v=-180+p,w=360-p,C=1;C<n.length;++C){var b=n[C-1][0],P=n[C][0],K=Math.abs(P-b);K>w&&(P>y&&b<v||b>y&&P<v)?f=!0:K>d&&(d=K)}var G=[];if(f&&d<p){var M=[];G.push(M);for(var q=0;q<n.length;++q){var pt=parseFloat(n[q][0]);if(q>0&&Math.abs(pt-n[q-1][0])>w){var yt=parseFloat(n[q-1][0]),At=parseFloat(n[q-1][1]),Tt=parseFloat(n[q][0]),Ft=parseFloat(n[q][1]);if(yt>-180&&yt<v&&180===Tt&&q+1<n.length&&n[q-1][0]>-180&&n[q-1][0]<v){M.push([-180,n[q][1]]),q++,M.push([n[q][0],n[q][1]]);continue}if(yt>y&&yt<180&&-180===Tt&&q+1<n.length&&n[q-1][0]>y&&n[q-1][0]<180){M.push([180,n[q][1]]),q++,M.push([n[q][0],n[q][1]]);continue}if(yt<v&&Tt>y){var dt=yt;yt=Tt,Tt=dt;var Ze=At;At=Ft,Ft=Ze}if(yt>y&&Tt<v&&(Tt+=360),yt<=180&&Tt>=180&&yt<Tt){var we=(180-yt)/(Tt-yt),sn=we*Ft+(1-we)*At;M.push([n[q-1][0]>y?180:-180,sn]),(M=[]).push([n[q-1][0]>y?-180:180,sn]),G.push(M)}else G.push(M=[]);M.push([pt,n[q][1]])}else M.push([n[q][0],n[q][1]])}}else{var pn=[];G.push(pn);for(var ue=0;ue<n.length;++ue)pn.push([n[ue][0],n[ue][1]])}for(var Ye=new C_(this.properties),Ae=0;Ae<G.length;++Ae){var _r=new ZS;Ye.geometries.push(_r);for(var dr=G[Ae],En=0;En<dr.length;++En)_r.move_to(dr[En])}return Ye},A(3970);var An=[],Ln=[],On=[],Rn=[],Fn=[],kn=[],Bn=[],Vn=[],zn=[],Un=[],Gn=[],jn=[],Hn=[],$n=[],qn=[],Zn=[],Wn=[],Yn=[],Xn=[],Qn=[],Kn=[],Jn=[],tr=[],er=[];Bn[85]=Un[85]=-1,Vn[85]=Gn[85]=0,zn[85]=jn[85]=1,Xn[85]=Jn[85]=1,Qn[85]=tr[85]=0,Kn[85]=er[85]=1,An[85]=Rn[85]=0,Ln[85]=Fn[85]=-1,On[85]=qn[85]=0,Zn[85]=Hn[85]=0,Wn[85]=$n[85]=1,kn[85]=Yn[85]=1,Jn[1]=Jn[169]=0,tr[1]=tr[169]=-1,er[1]=er[169]=0,Hn[1]=Hn[169]=-1,$n[1]=$n[169]=0,qn[1]=qn[169]=0,Un[4]=Un[166]=0,Gn[4]=Gn[166]=-1,jn[4]=jn[166]=1,Zn[4]=Zn[166]=1,Wn[4]=Wn[166]=0,Yn[4]=Yn[166]=0,Bn[16]=Bn[154]=0,Vn[16]=Vn[154]=1,zn[16]=zn[154]=1,Rn[16]=Rn[154]=1,Fn[16]=Fn[154]=0,kn[16]=kn[154]=1,Xn[64]=Xn[106]=0,Qn[64]=Qn[106]=1,Kn[64]=Kn[106]=0,An[64]=An[106]=-1,Ln[64]=Ln[106]=0,On[64]=On[106]=1,Xn[2]=Xn[168]=0,Qn[2]=Qn[168]=-1,Kn[2]=Kn[168]=1,Jn[2]=Jn[168]=0,tr[2]=tr[168]=-1,er[2]=er[168]=0,Hn[2]=Hn[168]=-1,$n[2]=$n[168]=0,qn[2]=qn[168]=0,Zn[2]=Zn[168]=-1,Wn[2]=Wn[168]=0,Yn[2]=Yn[168]=1,Bn[8]=Bn[162]=0,Vn[8]=Vn[162]=-1,zn[8]=zn[162]=0,Un[8]=Un[162]=0,Gn[8]=Gn[162]=-1,jn[8]=jn[162]=1,Hn[8]=Hn[162]=1,$n[8]=$n[162]=0,qn[8]=qn[162]=1,Zn[8]=Zn[162]=1,Wn[8]=Wn[162]=0,Yn[8]=Yn[162]=0,Bn[32]=Bn[138]=0,Vn[32]=Vn[138]=1,zn[32]=zn[138]=1,Un[32]=Un[138]=0,Gn[32]=Gn[138]=1,jn[32]=jn[138]=0,An[32]=An[138]=1,Ln[32]=Ln[138]=0,On[32]=On[138]=0,Rn[32]=Rn[138]=1,Fn[32]=Fn[138]=0,kn[32]=kn[138]=1,Jn[128]=Jn[42]=0,tr[128]=tr[42]=1,er[128]=er[42]=1,Xn[128]=Xn[42]=0,Qn[128]=Qn[42]=1,Kn[128]=Kn[42]=0,An[128]=An[42]=-1,Ln[128]=Ln[42]=0,On[128]=On[42]=1,Rn[128]=Rn[42]=-1,Fn[128]=Fn[42]=0,kn[128]=kn[42]=0,Un[5]=Un[165]=-1,Gn[5]=Gn[165]=0,jn[5]=jn[165]=0,Jn[5]=Jn[165]=1,tr[5]=tr[165]=0,er[5]=er[165]=0,Zn[20]=Zn[150]=0,Wn[20]=Wn[150]=1,Yn[20]=Yn[150]=1,Rn[20]=Rn[150]=0,Fn[20]=Fn[150]=-1,kn[20]=kn[150]=1,Bn[80]=Bn[90]=-1,Vn[80]=Vn[90]=0,zn[80]=zn[90]=1,Xn[80]=Xn[90]=1,Qn[80]=Qn[90]=0,Kn[80]=Kn[90]=1,Hn[65]=Hn[105]=0,$n[65]=$n[105]=1,qn[65]=qn[105]=0,An[65]=An[105]=0,Ln[65]=Ln[105]=-1,On[65]=On[105]=0,Bn[160]=Bn[10]=-1,Vn[160]=Vn[10]=0,zn[160]=zn[10]=1,Un[160]=Un[10]=-1,Gn[160]=Gn[10]=0,jn[160]=jn[10]=0,Jn[160]=Jn[10]=1,tr[160]=tr[10]=0,er[160]=er[10]=0,Xn[160]=Xn[10]=1,Qn[160]=Qn[10]=0,Kn[160]=Kn[10]=1,Zn[130]=Zn[40]=0,Wn[130]=Wn[40]=1,Yn[130]=Yn[40]=1,Hn[130]=Hn[40]=0,$n[130]=$n[40]=1,qn[130]=qn[40]=0,An[130]=An[40]=0,Ln[130]=Ln[40]=-1,On[130]=On[40]=0,Rn[130]=Rn[40]=0,Fn[130]=Fn[40]=-1,kn[130]=kn[40]=1,Un[37]=Un[133]=0,Gn[37]=Gn[133]=1,jn[37]=jn[133]=1,Jn[37]=Jn[133]=0,tr[37]=tr[133]=1,er[37]=er[133]=0,An[37]=An[133]=-1,Ln[37]=Ln[133]=0,On[37]=On[133]=0,Rn[37]=Rn[133]=1,Fn[37]=Fn[133]=0,kn[37]=kn[133]=0,Zn[148]=Zn[22]=-1,Wn[148]=Wn[22]=0,Yn[148]=Yn[22]=0,Jn[148]=Jn[22]=0,tr[148]=tr[22]=-1,er[148]=er[22]=1,Xn[148]=Xn[22]=0,Qn[148]=Qn[22]=1,Kn[148]=Kn[22]=1,Rn[148]=Rn[22]=-1,Fn[148]=Fn[22]=0,kn[148]=kn[22]=1,Bn[82]=Bn[88]=0,Vn[82]=Vn[88]=-1,zn[82]=zn[88]=1,Zn[82]=Zn[88]=1,Wn[82]=Wn[88]=0,Yn[82]=Yn[88]=1,Hn[82]=Hn[88]=-1,$n[82]=$n[88]=0,qn[82]=qn[88]=1,Xn[82]=Xn[88]=0,Qn[82]=Qn[88]=-1,Kn[82]=Kn[88]=0,Bn[73]=Bn[97]=0,Vn[73]=Vn[97]=1,zn[73]=zn[97]=0,Un[73]=Un[97]=0,Gn[73]=Gn[97]=-1,jn[73]=jn[97]=0,Hn[73]=Hn[97]=1,$n[73]=$n[97]=0,qn[73]=qn[97]=0,An[73]=An[97]=1,Ln[73]=Ln[97]=0,On[73]=On[97]=1,Bn[145]=Bn[25]=0,Vn[145]=Vn[25]=-1,zn[145]=zn[25]=0,Hn[145]=Hn[25]=1,$n[145]=$n[25]=0,qn[145]=qn[25]=1,Jn[145]=Jn[25]=0,tr[145]=tr[25]=1,er[145]=er[25]=1,Rn[145]=Rn[25]=-1,Fn[145]=Fn[25]=0,kn[145]=kn[25]=0,Un[70]=Un[100]=0,Gn[70]=Gn[100]=1,jn[70]=jn[100]=0,Zn[70]=Zn[100]=-1,Wn[70]=Wn[100]=0,Yn[70]=Yn[100]=1,Xn[70]=Xn[100]=0,Qn[70]=Qn[100]=-1,Kn[70]=Kn[100]=1,An[70]=An[100]=1,Ln[70]=Ln[100]=0,On[70]=On[100]=0,Un[101]=Un[69]=0,Gn[101]=Gn[69]=1,jn[101]=jn[69]=0,An[101]=An[69]=1,Ln[101]=Ln[69]=0,On[101]=On[69]=0,Jn[149]=Jn[21]=0,tr[149]=tr[21]=1,er[149]=er[21]=1,Rn[149]=Rn[21]=-1,Fn[149]=Fn[21]=0,kn[149]=kn[21]=0,Zn[86]=Zn[84]=-1,Wn[86]=Wn[84]=0,Yn[86]=Yn[84]=1,Xn[86]=Xn[84]=0,Qn[86]=Qn[84]=-1,Kn[86]=Kn[84]=1,Bn[89]=Bn[81]=0,Vn[89]=Vn[81]=-1,zn[89]=zn[81]=0,Hn[89]=Hn[81]=1,$n[89]=$n[81]=0,qn[89]=qn[81]=1,Bn[96]=Bn[74]=0,Vn[96]=Vn[74]=1,zn[96]=zn[74]=0,Un[96]=Un[74]=-1,Gn[96]=Gn[74]=0,jn[96]=jn[74]=1,Xn[96]=Xn[74]=1,Qn[96]=Qn[74]=0,Kn[96]=Kn[74]=0,An[96]=An[74]=1,Ln[96]=Ln[74]=0,On[96]=On[74]=1,Bn[24]=Bn[146]=0,Vn[24]=Vn[146]=-1,zn[24]=zn[146]=1,Zn[24]=Zn[146]=1,Wn[24]=Wn[146]=0,Yn[24]=Yn[146]=1,Hn[24]=Hn[146]=0,$n[24]=$n[146]=1,qn[24]=qn[146]=1,Rn[24]=Rn[146]=0,Fn[24]=Fn[146]=-1,kn[24]=kn[146]=0,Un[6]=Un[164]=-1,Gn[6]=Gn[164]=0,jn[6]=jn[164]=1,Zn[6]=Zn[164]=-1,Wn[6]=Wn[164]=0,Yn[6]=Yn[164]=0,Jn[6]=Jn[164]=0,tr[6]=tr[164]=-1,er[6]=er[164]=1,Xn[6]=Xn[164]=1,Qn[6]=Qn[164]=0,Kn[6]=Kn[164]=0,Hn[129]=Hn[41]=0,$n[129]=$n[41]=1,qn[129]=qn[41]=1,Jn[129]=Jn[41]=0,tr[129]=tr[41]=1,er[129]=er[41]=0,An[129]=An[41]=-1,Ln[129]=Ln[41]=0,On[129]=On[41]=0,Rn[129]=Rn[41]=0,Fn[129]=Fn[41]=-1,kn[129]=kn[41]=0,Zn[66]=Zn[104]=0,Wn[66]=Wn[104]=1,Yn[66]=Yn[104]=0,Hn[66]=Hn[104]=-1,$n[66]=$n[104]=0,qn[66]=qn[104]=1,Xn[66]=Xn[104]=0,Qn[66]=Qn[104]=-1,Kn[66]=Kn[104]=0,An[66]=An[104]=0,Ln[66]=Ln[104]=-1,On[66]=On[104]=1,Bn[144]=Bn[26]=-1,Vn[144]=Vn[26]=0,zn[144]=zn[26]=0,Jn[144]=Jn[26]=1,tr[144]=tr[26]=0,er[144]=er[26]=1,Xn[144]=Xn[26]=0,Qn[144]=Qn[26]=1,Kn[144]=Kn[26]=1,Rn[144]=Rn[26]=-1,Fn[144]=Fn[26]=0,kn[144]=kn[26]=1,Un[36]=Un[134]=0,Gn[36]=Gn[134]=1,jn[36]=jn[134]=1,Zn[36]=Zn[134]=0,Wn[36]=Wn[134]=1,Yn[36]=Yn[134]=0,An[36]=An[134]=0,Ln[36]=Ln[134]=-1,On[36]=On[134]=1,Rn[36]=Rn[134]=1,Fn[36]=Fn[134]=0,kn[36]=kn[134]=0,Bn[9]=Bn[161]=-1,Vn[9]=Vn[161]=0,zn[9]=zn[161]=0,Un[9]=Un[161]=0,Gn[9]=Gn[161]=-1,jn[9]=jn[161]=0,Hn[9]=Hn[161]=1,$n[9]=$n[161]=0,qn[9]=qn[161]=0,Jn[9]=Jn[161]=1,tr[9]=tr[161]=0,er[9]=er[161]=1,Bn[136]=0,Vn[136]=1,zn[136]=1,Un[136]=0,Gn[136]=1,jn[136]=0,Zn[136]=-1,Wn[136]=0,Yn[136]=1,Hn[136]=-1,$n[136]=0,qn[136]=0,Jn[136]=0,tr[136]=-1,er[136]=0,Xn[136]=0,Qn[136]=-1,Kn[136]=1,An[136]=1,Ln[136]=0,On[136]=0,Rn[136]=1,Fn[136]=0,kn[136]=1,Bn[34]=0,Vn[34]=-1,zn[34]=0,Un[34]=0,Gn[34]=-1,jn[34]=1,Zn[34]=1,Wn[34]=0,Yn[34]=0,Hn[34]=1,$n[34]=0,qn[34]=1,Jn[34]=0,tr[34]=1,er[34]=1,Xn[34]=0,Qn[34]=1,Kn[34]=0,An[34]=-1,Ln[34]=0,On[34]=1,Rn[34]=-1,Fn[34]=0,kn[34]=0,Bn[35]=0,Vn[35]=1,zn[35]=1,Un[35]=0,Gn[35]=-1,jn[35]=1,Zn[35]=1,Wn[35]=0,Yn[35]=0,Hn[35]=-1,$n[35]=0,qn[35]=0,Jn[35]=0,tr[35]=-1,er[35]=0,Xn[35]=0,Qn[35]=1,Kn[35]=0,An[35]=-1,Ln[35]=0,On[35]=1,Rn[35]=1,Fn[35]=0,kn[35]=1,Bn[153]=0,Vn[153]=1,zn[153]=1,Hn[153]=-1,$n[153]=0,qn[153]=0,Jn[153]=0,tr[153]=-1,er[153]=0,Rn[153]=1,Fn[153]=0,kn[153]=1,Un[102]=0,Gn[102]=-1,jn[102]=1,Zn[102]=1,Wn[102]=0,Yn[102]=0,Xn[102]=0,Qn[102]=1,Kn[102]=0,An[102]=-1,Ln[102]=0,On[102]=1,Bn[155]=0,Vn[155]=-1,zn[155]=0,Hn[155]=1,$n[155]=0,qn[155]=1,Jn[155]=0,tr[155]=1,er[155]=1,Rn[155]=-1,Fn[155]=0,kn[155]=0,Un[103]=0,Gn[103]=1,jn[103]=0,Zn[103]=-1,Wn[103]=0,Yn[103]=1,Xn[103]=0,Qn[103]=-1,Kn[103]=1,An[103]=1,Ln[103]=0,On[103]=0,Bn[152]=0,Vn[152]=1,zn[152]=1,Zn[152]=-1,Wn[152]=0,Yn[152]=1,Hn[152]=-1,$n[152]=0,qn[152]=0,Jn[152]=0,tr[152]=-1,er[152]=0,Xn[152]=0,Qn[152]=-1,Kn[152]=1,Rn[152]=1,Fn[152]=0,kn[152]=1,Bn[156]=0,Vn[156]=-1,zn[156]=1,Zn[156]=1,Wn[156]=0,Yn[156]=1,Hn[156]=-1,$n[156]=0,qn[156]=0,Jn[156]=0,tr[156]=-1,er[156]=0,Xn[156]=0,Qn[156]=1,Kn[156]=1,Rn[156]=-1,Fn[156]=0,kn[156]=1,Bn[137]=0,Vn[137]=1,zn[137]=1,Un[137]=0,Gn[137]=1,jn[137]=0,Hn[137]=-1,$n[137]=0,qn[137]=0,Jn[137]=0,tr[137]=-1,er[137]=0,An[137]=1,Ln[137]=0,On[137]=0,Rn[137]=1,Fn[137]=0,kn[137]=1,Bn[139]=0,Vn[139]=1,zn[139]=1,Un[139]=0,Gn[139]=-1,jn[139]=0,Hn[139]=1,$n[139]=0,qn[139]=0,Jn[139]=0,tr[139]=1,er[139]=0,An[139]=-1,Ln[139]=0,On[139]=0,Rn[139]=1,Fn[139]=0,kn[139]=1,Bn[98]=0,Vn[98]=-1,zn[98]=0,Un[98]=0,Gn[98]=-1,jn[98]=1,Zn[98]=1,Wn[98]=0,Yn[98]=0,Hn[98]=1,$n[98]=0,qn[98]=1,Xn[98]=0,Qn[98]=1,Kn[98]=0,An[98]=-1,Ln[98]=0,On[98]=1,Bn[99]=0,Vn[99]=1,zn[99]=0,Un[99]=0,Gn[99]=-1,jn[99]=1,Zn[99]=1,Wn[99]=0,Yn[99]=0,Hn[99]=-1,$n[99]=0,qn[99]=1,Xn[99]=0,Qn[99]=-1,Kn[99]=0,An[99]=1,Ln[99]=0,On[99]=1,Un[38]=0,Gn[38]=-1,jn[38]=1,Zn[38]=1,Wn[38]=0,Yn[38]=0,Jn[38]=0,tr[38]=1,er[38]=1,Xn[38]=0,Qn[38]=1,Kn[38]=0,An[38]=-1,Ln[38]=0,On[38]=1,Rn[38]=-1,Fn[38]=0,kn[38]=0,Un[39]=0,Gn[39]=1,jn[39]=1,Zn[39]=-1,Wn[39]=0,Yn[39]=0,Jn[39]=0,tr[39]=-1,er[39]=1,Xn[39]=0,Qn[39]=1,Kn[39]=0,An[39]=-1,Ln[39]=0,On[39]=1,Rn[39]=1,Fn[39]=0,kn[39]=0;var S_=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},M_=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},P_=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},N_=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},T_=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},A_=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},L_=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},O_=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Se=[],xe=[],qe=[],Fe=[],en=[],tn=[],nr=[],ar=[];Fe[1]=en[1]=18,Fe[169]=en[169]=18,qe[4]=xe[4]=12,qe[166]=xe[166]=12,Se[16]=ar[16]=4,Se[154]=ar[154]=4,tn[64]=nr[64]=22,tn[106]=nr[106]=22,qe[2]=tn[2]=17,Fe[2]=en[2]=18,qe[168]=tn[168]=17,Fe[168]=en[168]=18,Se[8]=Fe[8]=9,xe[8]=qe[8]=12,Se[162]=Fe[162]=9,xe[162]=qe[162]=12,Se[32]=ar[32]=4,xe[32]=nr[32]=1,Se[138]=ar[138]=4,xe[138]=nr[138]=1,en[128]=ar[128]=21,tn[128]=nr[128]=22,en[42]=ar[42]=21,tn[42]=nr[42]=22,xe[5]=en[5]=14,xe[165]=en[165]=14,qe[20]=ar[20]=6,qe[150]=ar[150]=6,Se[80]=tn[80]=11,Se[90]=tn[90]=11,Fe[65]=nr[65]=3,Fe[105]=nr[105]=3,Se[160]=tn[160]=11,xe[160]=en[160]=14,Se[10]=tn[10]=11,xe[10]=en[10]=14,qe[130]=ar[130]=6,Fe[130]=nr[130]=3,qe[40]=ar[40]=6,Fe[40]=nr[40]=3,xe[101]=nr[101]=1,xe[69]=nr[69]=1,en[149]=ar[149]=21,en[21]=ar[21]=21,qe[86]=tn[86]=17,qe[84]=tn[84]=17,Se[89]=Fe[89]=9,Se[81]=Fe[81]=9,Se[96]=nr[96]=0,xe[96]=tn[96]=15,Se[74]=nr[74]=0,xe[74]=tn[74]=15,Se[24]=qe[24]=8,Fe[24]=ar[24]=7,Se[146]=qe[146]=8,Fe[146]=ar[146]=7,xe[6]=tn[6]=15,qe[6]=en[6]=16,xe[164]=tn[164]=15,qe[164]=en[164]=16,Fe[129]=ar[129]=7,en[129]=nr[129]=20,Fe[41]=ar[41]=7,en[41]=nr[41]=20,qe[66]=nr[66]=2,Fe[66]=tn[66]=19,qe[104]=nr[104]=2,Fe[104]=tn[104]=19,Se[144]=en[144]=10,tn[144]=ar[144]=23,Se[26]=en[26]=10,tn[26]=ar[26]=23,xe[36]=ar[36]=5,qe[36]=nr[36]=2,xe[134]=ar[134]=5,qe[134]=nr[134]=2,Se[9]=en[9]=10,xe[9]=Fe[9]=13,Se[161]=en[161]=10,xe[161]=Fe[161]=13,xe[37]=ar[37]=5,en[37]=nr[37]=20,xe[133]=ar[133]=5,en[133]=nr[133]=20,qe[148]=en[148]=16,tn[148]=ar[148]=23,qe[22]=en[22]=16,tn[22]=ar[22]=23,Se[82]=qe[82]=8,Fe[82]=tn[82]=19,Se[88]=qe[88]=8,Fe[88]=tn[88]=19,Se[73]=nr[73]=0,xe[73]=Fe[73]=13,Se[97]=nr[97]=0,xe[97]=Fe[97]=13,Se[145]=Fe[145]=9,en[145]=ar[145]=21,Se[25]=Fe[25]=9,en[25]=ar[25]=21,xe[70]=nr[70]=1,qe[70]=tn[70]=17,xe[100]=nr[100]=1,qe[100]=tn[100]=17,Se[34]=Fe[34]=9,xe[34]=qe[34]=12,en[34]=ar[34]=21,tn[34]=nr[34]=22,Se[136]=ar[136]=4,xe[136]=nr[136]=1,qe[136]=tn[136]=17,Fe[136]=en[136]=18,Se[35]=ar[35]=4,xe[35]=qe[35]=12,Fe[35]=en[35]=18,tn[35]=nr[35]=22,Se[153]=ar[153]=4,Fe[153]=en[153]=18,xe[102]=qe[102]=12,tn[102]=nr[102]=22,Se[155]=Fe[155]=9,en[155]=ar[155]=23,xe[103]=nr[103]=1,qe[103]=tn[103]=17,Se[152]=ar[152]=4,qe[152]=tn[152]=17,Fe[152]=en[152]=18,Se[156]=qe[156]=8,Fe[156]=en[156]=18,tn[156]=ar[156]=23,Se[137]=ar[137]=4,xe[137]=nr[137]=1,Fe[137]=en[137]=18,Se[139]=ar[139]=4,xe[139]=Fe[139]=13,en[139]=nr[139]=20,Se[98]=Fe[98]=9,xe[98]=qe[98]=12,tn[98]=nr[98]=22,Se[99]=nr[99]=0,xe[99]=qe[99]=12,Fe[99]=tn[99]=19,xe[38]=qe[38]=12,en[38]=ar[38]=21,tn[38]=nr[38]=22,xe[39]=ar[39]=5,qe[39]=en[39]=16,tn[39]=nr[39]=22;var ye=[];function k_(t,e,n){return function dj(t){return(t>0)-(t<0)||+t}((e[0]-t[0])*(n[1]-e[1])-(n[0]-e[0])*(e[1]-t[1]))}function lM(t,e){return e.geometry.coordinates[0].every(function(n){return g_(Uc(n),t)})}ye[1]=ye[169]=S_,ye[4]=ye[166]=M_,ye[16]=ye[154]=P_,ye[64]=ye[106]=N_,ye[168]=ye[2]=T_,ye[162]=ye[8]=A_,ye[138]=ye[32]=L_,ye[42]=ye[128]=O_,ye[5]=ye[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},ye[20]=ye[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},ye[80]=ye[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},ye[65]=ye[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ye[160]=ye[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},ye[130]=ye[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},ye[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ye[101]=ye[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},ye[149]=ye[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},ye[86]=ye[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},ye[89]=ye[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},ye[96]=ye[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},ye[24]=ye[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},ye[6]=ye[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},ye[129]=ye[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},ye[66]=ye[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ye[144]=ye[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ye[36]=ye[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},ye[9]=ye[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ye[37]=ye[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ye[148]=ye[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ye[82]=ye[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},ye[73]=ye[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ye[145]=ye[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ye[70]=ye[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ye[34]=function(t){return[O_(t),A_(t)]},ye[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ye[136]=function(t){return[L_(t),T_(t)]},ye[153]=function(t){return[P_(t),S_(t)]},ye[102]=function(t){return[M_(t),N_(t)]},ye[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ye[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ye[152]=function(t){return[P_(t),T_(t)]},ye[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ye[137]=function(t){return[L_(t),S_(t)]},ye[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ye[98]=function(t){return[A_(t),N_(t)]},ye[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ye[38]=function(t){return[M_(t),O_(t)]},ye[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};const cM=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(e){return e.join(",")},t.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter(function(n){return n.from.id!==e.from.id})},t.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter(function(n){return n.to.id!==e.to.id})},t.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort(function(n,r){var i=n.to,s=r.to;if(i.coordinates[0]-e.coordinates[0]>=0&&s.coordinates[0]-e.coordinates[0]<0)return 1;if(i.coordinates[0]-e.coordinates[0]<0&&s.coordinates[0]-e.coordinates[0]>=0)return-1;if(i.coordinates[0]-e.coordinates[0]==0&&s.coordinates[0]-e.coordinates[0]==0)return i.coordinates[1]-e.coordinates[1]>=0||s.coordinates[1]-e.coordinates[1]>=0?i.coordinates[1]-s.coordinates[1]:s.coordinates[1]-i.coordinates[1];var u=k_(e.coordinates,i.coordinates,s.coordinates);return u<0?1:u>0?-1:Math.pow(i.coordinates[0]-e.coordinates[0],2)+Math.pow(i.coordinates[1]-e.coordinates[1],2)-(Math.pow(s.coordinates[0]-e.coordinates[0],2)+Math.pow(s.coordinates[1]-e.coordinates[1],2))}),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},t.prototype.addInnerEdge=function(e){this.innerEdges.push(e)},t}(),vj=function(){function t(e,n){this.from=e,this.to=n,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return Rp([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(e){return k_(e.from.coordinates,e.to.coordinates,this.to.coordinates)},t}(),wj=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(e){this.edges.push(e),this.polygon=this.envelope=void 0},t.prototype.get=function(e){return this.edges[e]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(e){this.edges.forEach(e)},t.prototype.map=function(e){return this.edges.map(e)},t.prototype.some=function(e){return this.edges.some(e)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var e=this,n=this.edges.reduce(function(u,f,d){return f.from.coordinates[1]>e.edges[u].from.coordinates[1]&&(u=d),u},0),r=(0===n?this.length:n)-1,i=(n+1)%this.length,s=k_(this.edges[r].from.coordinates,this.edges[n].from.coordinates,this.edges[i].from.coordinates);return 0===s?this.edges[r].from.coordinates[0]>this.edges[i].from.coordinates[0]:s>0},t.prototype.toMultiPoint=function(){return function _S(t,e,n){return void 0===n&&(n={}),uu({type:"MultiPoint",coordinates:t},e,n)}(this.edges.map(function(e){return e.from.coordinates}))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map(function(n){return n.from.coordinates});return e.push(this.edges[0].from.coordinates),this.polygon=dh([e])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=function bG(t){return function IG(t,e){void 0===e&&(e={});var n=Number(t[0]),r=Number(t[1]),i=Number(t[2]),s=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var u=[n,r];return dh([[u,[i,r],[i,s],[n,s],u]],e.properties,{bbox:t,id:e.id})}(ES(t))}(this.toPolygon())},t.findEdgeRingContaining=function(e,n){var i,s,r=e.getEnvelope();return n.forEach(function(u){var f=u.getEnvelope();if(s&&(i=s.getEnvelope()),!function pj(t,e){var n=t.geometry.coordinates[0].map(function(u){return u[0]}),r=t.geometry.coordinates[0].map(function(u){return u[1]}),i=e.geometry.coordinates[0].map(function(u){return u[0]}),s=e.geometry.coordinates[0].map(function(u){return u[1]});return Math.max.apply(null,n)===Math.max.apply(null,i)&&Math.max.apply(null,r)===Math.max.apply(null,s)&&Math.min.apply(null,n)===Math.min.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,s)}(f,r)&&lM(f,r)){for(var d=e.map(function(b){return b.from.coordinates}),p=void 0,y=function(b){u.some(function(P){return function gj(t,e){return t[0]===e[0]&&t[1]===e[1]}(b,P.from.coordinates)})||(p=b)},v=0,w=d;v<w.length;v++)y(w[v]);p&&u.inside(Uc(p))&&(!s||lM(i,f))&&(s=u)}}),s},t.prototype.inside=function(e){return g_(e,this.toPolygon())},t}();function _M(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}!function(){function t(){this.edges=[],this.nodes={}}t.fromGeoJson=function(e){!function Ej(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var n=new t;return function kp(t,e){Fp(t,function(n,r,i,s,u){var d,f=null===n?null:n.type;switch(f){case null:case"Point":case"LineString":case"Polygon":return!1!==e(uu(n,i,{bbox:s,id:u}),r,0)&&void 0}switch(f){case"MultiPoint":d="Point";break;case"MultiLineString":d="LineString";break;case"MultiPolygon":d="Polygon"}for(var p=0;p<n.coordinates.length;p++)if(!1===e(uu({type:d,coordinates:n.coordinates[p]},i),r,p))return!1})}(e,function(r){(function Y8(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)})(r,"LineString","Graph::fromGeoJson"),function G8(t,e,n,r){var i=n;ph(t,function(s,u,f,d,p){i=0===u&&void 0===n?s:e(i,s,u,f,d,p)},r)}(r,function(i,s){if(i){var u=n.getNode(i),f=n.getNode(s);n.addEdge(u,f)}return s})}),n},t.prototype.getNode=function(e){var n=cM.buildId(e),r=this.nodes[n];return r||(r=this.nodes[n]=new cM(e)),r},t.prototype.addEdge=function(e,n){var r=new vj(e,n),i=r.getSymetric();this.edges.push(r),this.edges.push(i)},t.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map(function(n){return e.nodes[n]}).forEach(function(n){return e._removeIfDangle(n)})},t.prototype._removeIfDangle=function(e){var n=this;if(e.innerEdges.length<=1){var r=e.getOuterEdges().map(function(i){return i.to});this.removeNode(e),r.forEach(function(i){return n._removeIfDangle(i)})}},t.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(n){n.label===n.symetric.label&&(e.removeEdge(n.symetric),e.removeEdge(n))})},t.prototype._computeNextCWEdges=function(e){var n=this;typeof e>"u"?Object.keys(this.nodes).forEach(function(r){return n._computeNextCWEdges(n.nodes[r])}):e.getOuterEdges().forEach(function(r,i){e.getOuterEdge((0===i?e.getOuterEdges().length:i)-1).symetric.next=r})},t.prototype._computeNextCCWEdges=function(e,n){for(var i,s,r=e.getOuterEdges(),u=r.length-1;u>=0;--u){var f=r[u],d=f.symetric,p=void 0,y=void 0;f.label===n&&(p=f),d.label===n&&(y=d),p&&y&&(y&&(s=y),p&&(s&&(s.next=p,s=void 0),i||(i=p)))}s&&(s.next=i)},t.prototype._findLabeledEdgeRings=function(){var e=[],n=0;return this.edges.forEach(function(r){if(!(r.label>=0)){e.push(r);var i=r;do{i.label=n,i=i.next}while(!r.isEqual(i));n++}}),e},t.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach(function(r){r.label=void 0}),this._findLabeledEdgeRings().forEach(function(r){e._findIntersectionNodes(r).forEach(function(i){e._computeNextCCWEdges(i,r.label)})});var n=[];return this.edges.forEach(function(r){r.ring||n.push(e._findEdgeRing(r))}),n},t.prototype._findIntersectionNodes=function(e){var n=[],r=e,i=function(){var s=0;r.from.getOuterEdges().forEach(function(u){u.label===e.label&&++s}),s>1&&n.push(r.from),r=r.next};do{i()}while(!e.isEqual(r));return n},t.prototype._findEdgeRing=function(e){var n=e,r=new wj;do{r.push(n),n.ring=r,n=n.next}while(!e.isEqual(n));return r},t.prototype.removeNode=function(e){var n=this;e.getOuterEdges().forEach(function(r){return n.removeEdge(r)}),e.innerEdges.forEach(function(r){return n.removeEdge(r)}),delete this.nodes[e.id]},t.prototype.removeEdge=function(e){this.edges=this.edges.filter(function(n){return!n.isEqual(e)}),e.deleteEdge()}}(),A(3198),A(3367),A(3282);var Hp={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||Hp.heuristics.manhattan,s=r.closest||!1,u=function kj(){return new wM(function(t){return t.f})}(),f=e;for(e.h=i(e,n),u.push(e);u.size()>0;){var d=u.pop();if(d===n)return _M(d);d.closed=!0;for(var p=t.neighbors(d),y=0,v=p.length;y<v;++y){var w=p[y];if(!w.closed&&!w.isWall()){var C=d.g+w.getCost(d),b=w.visited;(!b||C<w.g)&&(w.visited=!0,w.parent=d,w.h=w.h||i(w,n),w.g=C,w.f=w.g+w.h,t.markDirty(w),s&&(w.h<f.h||w.h===f.h&&w.g<f.g)&&(f=w),b?u.rescoreElement(w):u.push(w))}}}return s?_M(f):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var r=Math.sqrt(2),i=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);return 1*(i+s)+(r-2)*Math.min(i,s)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function Hc(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var s=new $p(n,r,i[r]);this.grid[n][r]=s,this.nodes.push(s)}}this.init()}function $p(t,e,n){this.x=t,this.y=e,this.weight=n}function wM(t){this.content=[],this.scoreFunction=t}function V_(){this._=null}function qp(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function _h(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function wh(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function EM(t){for(;t.L;)t=t.L;return t}Hc.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Hp.cleanNode(this.nodes[t])},Hc.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Hp.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Hc.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Hc.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},Hc.prototype.toString=function(){for(var n,r,i,s,t=[],e=this.grid,u=0,f=e.length;u<f;u++){for(n=[],i=0,s=(r=e[u]).length;i<s;i++)n.push(r[i].weight);t.push(n.join(" "))}return t.join("\n")},$p.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},$p.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},$p.prototype.isWall=function(){return 0===this.weight},wM.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var f,i=t+1<<1,s=i-1,u=null;if(s<e&&(f=this.scoreFunction(this.content[s]))<r&&(u=s),i<e&&this.scoreFunction(this.content[i])<(null===u?r:f)&&(u=i),null===u)break;this.content[t]=this.content[u],this.content[u]=n,t=u}}},V_.prototype={constructor:V_,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=EM(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(_h(this,n),n=(t=n).U),n.C=!1,r.C=!0,wh(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(wh(this,n),n=(t=n).U),n.C=!1,r.C=!0,_h(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,s,u,e=t.U,r=t.L,i=t.R;if(s=r?i?EM(i):r:i,e?e.L===t?e.L=s:e.R=s:this._=s,r&&i?(u=s.C,s.C=t.C,s.L=r,r.U=s,s!==i?(e=s.U,s.U=t.U,e.L=t=s.R,s.R=i,i.U=s):(s.U=e,e=s,t=s.R)):(u=t.C,t=s),t&&(t.U=e),!u){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===e.L){if((n=e.R).C&&(n.C=!1,e.C=!0,_h(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,wh(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,_h(this,e),t=this._;break}}else if((n=e.L).C&&(n.C=!1,e.C=!0,wh(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,_h(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,wh(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};const CM=V_;function Eh(t,e,n,r){var i=[null,null],s=us.push(i)-1;return i.left=t,i.right=e,n&&Zp(i,t,e,n),r&&Zp(i,e,t,r),sa[t.index].halfedges.push(s),sa[e.index].halfedges.push(s),i}function Ch(t,e,n){var r=[e,n];return r.left=t,r}function Zp(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Vj(t,e,n,r,i){var P,s=t[0],u=t[1],f=s[0],d=s[1],v=0,w=1,C=u[0]-f,b=u[1]-d;if(P=e-f,C||!(P>0)){if(P/=C,C<0){if(P<v)return;P<w&&(w=P)}else if(C>0){if(P>w)return;P>v&&(v=P)}if(P=r-f,C||!(P<0)){if(P/=C,C<0){if(P>w)return;P>v&&(v=P)}else if(C>0){if(P<v)return;P<w&&(w=P)}if(P=n-d,b||!(P>0)){if(P/=b,b<0){if(P<v)return;P<w&&(w=P)}else if(b>0){if(P>w)return;P>v&&(v=P)}if(P=i-d,b||!(P<0)){if(P/=b,b<0){if(P>w)return;P>v&&(v=P)}else if(b>0){if(P<v)return;P<w&&(w=P)}return!(v>0)&&!(w<1)||(v>0&&(t[0]=[f+v*C,d+v*b]),w<1&&(t[1]=[f+w*C,d+w*b])),!0}}}}}function zj(t,e,n,r,i){var s=t[1];if(s)return!0;var P,K,u=t[0],f=t.left,d=t.right,p=f[0],y=f[1],v=d[0],w=d[1],C=(p+v)/2;if(w===y){if(C<e||C>=r)return;if(p>v){if(u){if(u[1]>=i)return}else u=[C,n];s=[C,i]}else{if(u){if(u[1]<n)return}else u=[C,i];s=[C,n]}}else if(K=(y+w)/2-(P=(p-v)/(w-y))*C,P<-1||P>1)if(p>v){if(u){if(u[1]>=i)return}else u=[(n-K)/P,n];s=[(i-K)/P,i]}else{if(u){if(u[1]<n)return}else u=[(i-K)/P,i];s=[(n-K)/P,n]}else if(y<w){if(u){if(u[0]>=r)return}else u=[e,P*e+K];s=[r,P*r+K]}else{if(u){if(u[0]<e)return}else u=[r,P*r+K];s=[e,P*e+K]}return t[0]=u,t[1]=s,!0}function jj(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function xM(t,e){return e[+(e.left!==t.site)]}function Hj(t,e){return e[+(e.left===t.site)]}var z_,DM=[];function Zj(){qp(this),this.x=this.y=this.arc=this.site=this.cy=null}function $c(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,s=n.site;if(r!==s){var u=i[0],f=i[1],d=r[0]-u,p=r[1]-f,y=s[0]-u,v=s[1]-f,w=2*(d*v-p*y);if(!(w>=-Kj)){var C=d*d+p*p,b=y*y+v*v,P=(v*C-p*b)/w,K=(d*b-y*C)/w,G=DM.pop()||new Zj;G.arc=t,G.site=i,G.x=P+u,G.y=(G.cy=K+f)+Math.sqrt(P*P+K*K),t.circle=G;for(var M=null,q=xh._;q;)if(G.y<q.y||G.y===q.y&&G.x<=q.x){if(!q.L){M=q.P;break}q=q.L}else{if(!q.R){M=q;break}q=q.R}xh.insert(M,G),M||(z_=G)}}}}function qc(t){var e=t.circle;e&&(e.P||(z_=e.N),xh.remove(e),DM.push(e),qp(e),t.circle=null)}var IM=[];function Wj(){qp(this),this.edge=this.site=this.circle=null}function bM(t){var e=IM.pop()||new Wj;return e.site=t,e}function U_(t){qc(t),Zc.remove(t),IM.push(t),qp(t)}function Yj(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],s=t.P,u=t.N,f=[t];U_(t);for(var d=s;d.circle&&Math.abs(n-d.circle.x)<Ti&&Math.abs(r-d.circle.cy)<Ti;)s=d.P,f.unshift(d),U_(d),d=s;f.unshift(d),qc(d);for(var p=u;p.circle&&Math.abs(n-p.circle.x)<Ti&&Math.abs(r-p.circle.cy)<Ti;)u=p.N,f.push(p),U_(p),p=u;f.push(p),qc(p);var v,y=f.length;for(v=1;v<y;++v)Zp((p=f[v]).edge,(d=f[v-1]).site,p.site,i);(p=f[y-1]).edge=Eh((d=f[0]).site,p.site,null,i),$c(d),$c(p)}function Xj(t){for(var r,i,s,u,e=t[0],n=t[1],f=Zc._;f;)if((s=SM(f,n)-e)>Ti)f=f.L;else{if(!((u=e-Qj(f,n))>Ti)){s>-Ti?(r=f.P,i=f):u>-Ti?(r=f,i=f.N):r=i=f;break}if(!f.R){r=f;break}f=f.R}!function Gj(t){sa[t.index]={site:t,halfedges:[]}}(t);var d=bM(t);if(Zc.insert(r,d),r||i){if(r===i)return qc(r),i=bM(r.site),Zc.insert(d,i),d.edge=i.edge=Eh(r.site,d.site),$c(r),void $c(i);if(!i)return void(d.edge=Eh(r.site,d.site));qc(r),qc(i);var p=r.site,y=p[0],v=p[1],w=t[0]-y,C=t[1]-v,b=i.site,P=b[0]-y,K=b[1]-v,G=2*(w*K-C*P),M=w*w+C*C,q=P*P+K*K,pt=[(K*M-C*q)/G+y,(w*q-P*M)/G+v];Zp(i.edge,p,b,pt),d.edge=Eh(p,t,null,pt),i.edge=Eh(t,b,null,pt),$c(r),$c(i)}}function SM(t,e){var n=t.site,r=n[0],i=n[1],s=i-e;if(!s)return r;var u=t.P;if(!u)return-1/0;var f=(n=u.site)[0],d=n[1],p=d-e;if(!p)return f;var y=f-r,v=1/s-1/p,w=y/p;return v?(-w+Math.sqrt(w*w-2*v*(y*y/(-2*p)-d+p/2+i-s/2)))/v+r:(r+f)/2}function Qj(t,e){var n=t.N;if(n)return SM(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Zc,sa,xh,us,Ti=1e-6,Kj=1e-12;function Jj(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function tH(t,e){return e[1]-t[1]||e[0]-t[0]}function MM(t,e){var r,i,s,n=t.sort(tH).pop();for(us=[],sa=new Array(t.length),Zc=new CM,xh=new CM;;)if(s=z_,n&&(!s||n[1]<s.y||n[1]===s.y&&n[0]<s.x))(n[0]!==r||n[1]!==i)&&(Xj(n),r=n[0],i=n[1]),n=t.pop();else{if(!s)break;Yj(s.arc)}if(function $j(){for(var n,r,i,s,t=0,e=sa.length;t<e;++t)if((n=sa[t])&&(s=(r=n.halfedges).length)){var u=new Array(s),f=new Array(s);for(i=0;i<s;++i)u[i]=i,f[i]=jj(n,us[r[i]]);for(u.sort(function(d,p){return f[p]-f[d]}),i=0;i<s;++i)f[i]=r[u[i]];for(i=0;i<s;++i)r[i]=f[i]}}(),e){var u=+e[0][0],f=+e[0][1],d=+e[1][0],p=+e[1][1];(function Uj(t,e,n,r){for(var s,i=us.length;i--;)zj(s=us[i],t,e,n,r)&&Vj(s,t,e,n,r)&&(Math.abs(s[0][0]-s[1][0])>Ti||Math.abs(s[0][1]-s[1][1])>Ti)||delete us[i]})(u,f,d,p),function qj(t,e,n,r){var s,u,f,d,p,y,v,w,C,b,P,K,i=sa.length,G=!0;for(s=0;s<i;++s)if(u=sa[s]){for(f=u.site,d=(p=u.halfedges).length;d--;)us[p[d]]||p.splice(d,1);for(d=0,y=p.length;d<y;)P=(b=Hj(u,us[p[d]]))[0],K=b[1],w=(v=xM(u,us[p[++d%y]]))[0],C=v[1],(Math.abs(P-w)>Ti||Math.abs(K-C)>Ti)&&(p.splice(d,0,us.push(Ch(f,b,Math.abs(P-t)<Ti&&r-K>Ti?[t,Math.abs(w-t)<Ti?C:r]:Math.abs(K-r)<Ti&&n-P>Ti?[Math.abs(C-r)<Ti?w:n,r]:Math.abs(P-n)<Ti&&K-e>Ti?[n,Math.abs(w-n)<Ti?C:e]:Math.abs(K-e)<Ti&&P-t>Ti?[Math.abs(C-e)<Ti?w:t,e]:null))-1),++y);y&&(G=!1)}if(G){var M,q,pt,yt=1/0;for(s=0,G=null;s<i;++s)(u=sa[s])&&(pt=(M=(f=u.site)[0]-t)*M+(q=f[1]-e)*q)<yt&&(yt=pt,G=u);if(G){var At=[t,e],Tt=[t,r],Ft=[n,r],dt=[n,e];G.halfedges.push(us.push(Ch(f=G.site,At,Tt))-1,us.push(Ch(f,Tt,Ft))-1,us.push(Ch(f,Ft,dt))-1,us.push(Ch(f,dt,At))-1)}}for(s=0;s<i;++s)(u=sa[s])&&(u.halfedges.length||delete sa[s])}(u,f,d,p)}this.edges=us,this.cells=sa,Zc=xh=us=sa=null}MM.prototype={constructor:MM,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(r){return xM(e,t[r])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(f=(s=n.halfedges).length)for(var s,f,d,i=n.site,u=-1,p=e[s[f-1]],y=p.left===i?p.right:p.left;++u<f;)d=y,y=(p=e[s[u]]).left===i?p.right:p.left,d&&y&&r<d.index&&r<y.index&&Jj(i,d,y)<0&&t.push([i.data,d.data,y.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i,f,r=this,s=r._found||0,u=r.cells.length;!(f=r.cells[s]);)if(++s>=u)return null;var d=t-f.site[0],p=e-f.site[1],y=d*d+p*p;do{f=r.cells[i=s],s=null,f.halfedges.forEach(function(v){var w=r.edges[v],C=w.left;if(C!==f.site&&C||(C=w.right)){var b=t-C[0],P=e-C[1],K=b*b+P*P;K<y&&(y=K,s=C.index)}})}while(null!==s);return r._found=i,null==n||y<=n*n?f.site:null}},A(8464);var j_=A(4855);function sl(){return new Wp}function Wp(){this.reset()}Wp.prototype={constructor:Wp,reset:function(){this.s=this.t=0},add:function(t){VM(Yp,t,this.t),VM(this,Yp.s,this.s),this.s?this.t+=Yp.t:this.s=Yp.t},valueOf:function(){return this.s}};var Yp=new Wp;function VM(t,e,n){var r=t.s=e+n,i=r-e;t.t=e-(r-i)+(n-i)}var Or=1e-6,Nr=Math.PI,Gs=Nr/2,Xp=Nr/4,aa=2*Nr,Va=180/Nr,vr=Nr/180,Ai=Math.abs,Dh=Math.atan,Ru=Math.atan2,vn=Math.cos,dn=(Math,Math,Math,Math,Math,Math.sin),Pa=(Math,Math.sqrt);Math;function jM(t){return t>1?0:t<-1?Nr:Math.acos(t)}function Fu(t){return t>1?Gs:t<-1?-Gs:Math.asin(t)}function ji(){}function Qp(t,e){t&&$M.hasOwnProperty(t.type)&&$M[t.type](t,e)}var HM={Feature:function(t,e){Qp(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Qp(n[r].geometry,e)}},$M={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){H_(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)H_(n[r],e,0)},Polygon:function(t,e){qM(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)qM(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Qp(n[r],e)}};function H_(t,e,n){var s,r=-1,i=t.length-n;for(e.lineStart();++r<i;)e.point((s=t[r])[0],s[1],s[2]);e.lineEnd()}function qM(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)H_(t[n],e,1);e.polygonEnd()}function tg(t){return[Ru(t[1],t[0]),Fu(t[2])]}function Nl(t){var e=t[0],n=t[1],r=vn(n);return[r*vn(e),r*dn(e),dn(n)]}function eg(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Wc(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function W_(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ng(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function rg(t){var e=Pa(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function lP(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return(r=e.invert(r,i))&&t.invert(r[0],r[1])}),n}function t0(t,e){return[t>Nr?t-aa:t<-Nr?t+aa:t,e]}function fP(t){return function(e,n){return[(e+=t)>Nr?e-aa:e<-Nr?e+aa:e,n]}}function hP(t){var e=fP(t);return e.invert=fP(-t),e}function dP(t,e){var n=vn(t),r=dn(t),i=vn(e),s=dn(e);function u(f,d){var p=vn(d),y=vn(f)*p,v=dn(f)*p,w=dn(d),C=w*n+y*r;return[Ru(v*i-C*s,y*n-w*r),Fu(C*i+v*s)]}return u.invert=function(f,d){var p=vn(d),y=vn(f)*p,v=dn(f)*p,w=dn(d),C=w*i-v*s;return[Ru(v*i+w*s,y*n+C*r),Fu(C*n-y*r)]},u}function gP(t,e){(e=Nl(e))[0]-=t,rg(e);var n=jM(-e[1]);return((-e[2]<0?-n:n)+aa-Or)%aa}function mP(){var e,t=[];return{point:function(n,r){e.push([n,r])},lineStart:function(){t.push(e=[])},lineEnd:ji,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function fg(t,e){return Ai(t[0]-e[0])<Or&&Ai(t[1]-e[1])<Or}function hg(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function yP(t,e,n,r,i){var f,d,s=[],u=[];if(t.forEach(function(b){if(!((P=b.length-1)<=0)){var P,M,K=b[0],G=b[P];if(fg(K,G)){for(i.lineStart(),f=0;f<P;++f)i.point((K=b[f])[0],K[1]);return void i.lineEnd()}s.push(M=new hg(K,b,null,!0)),u.push(M.o=new hg(K,null,M,!1)),s.push(M=new hg(G,b,null,!1)),u.push(M.o=new hg(G,null,M,!0))}}),s.length){for(u.sort(e),vP(s),vP(u),f=0,d=u.length;f<d;++f)u[f].e=n=!n;for(var y,v,p=s[0];;){for(var w=p,C=!0;w.v;)if((w=w.n)===p)return;y=w.z,i.lineStart();do{if(w.v=w.o.v=!0,w.e){if(C)for(f=0,d=y.length;f<d;++f)i.point((v=y[f])[0],v[1]);else r(w.x,w.n.x,1,i);w=w.n}else{if(C)for(f=(y=w.p.z).length-1;f>=0;--f)i.point((v=y[f])[0],v[1]);else r(w.x,w.p.x,-1,i);w=w.p}y=(w=w.o).z,C=!C}while(!w.v);i.lineEnd()}}}function vP(t){if(e=t.length){for(var e,i,n=0,r=t[0];++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function _P(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function CP(t){for(var n,s,u,e=t.length,r=-1,i=0;++r<e;)i+=t[r].length;for(s=new Array(i);--e>=0;)for(n=(u=t[e]).length;--n>=0;)s[--i]=u[n];return s}sl(),sl(),sl(),t0.invert=t0,function bH(t){1===t.length&&(t=function SH(t){return function(e,n){return _P(t(e),n)}}(t))}(_P),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Mh=1e9,dg=-Mh;var o0=sl();sl(),sl(),sl();var Qc=1/0,vg=Qc,Ph=-Qc,_g=Ph;const FP={point:function UH(t,e){t<Qc&&(Qc=t),t>Ph&&(Ph=t),e<vg&&(vg=e),e>_g&&(_g=e)},lineStart:ji,lineEnd:ji,polygonStart:ji,polygonEnd:ji,result:function(){var t=[[Qc,vg],[Ph,_g]];return Ph=_g=-(vg=Qc=1/0),t}};function qP(t,e,n,r){return function(i,s){var v,w,C,u=e(s),f=i.invert(r[0],r[1]),d=mP(),p=e(d),y=!1,b={point:P,lineStart:G,lineEnd:M,polygonStart:function(){b.point=q,b.lineStart=pt,b.lineEnd=yt,w=[],v=[]},polygonEnd:function(){b.point=P,b.lineStart=G,b.lineEnd=M,w=CP(w);var At=function DP(t,e){var n=e[0],r=e[1],i=[dn(n),-vn(n),0],s=0,u=0;o0.reset();for(var f=0,d=t.length;f<d;++f)if(y=(p=t[f]).length)for(var p,y,v=p[y-1],w=v[0],C=v[1]/2+Xp,b=dn(C),P=vn(C),K=0;K<y;++K,w=M,b=pt,P=yt,v=G){var G=p[K],M=G[0],q=G[1]/2+Xp,pt=dn(q),yt=vn(q),At=M-w,Tt=At>=0?1:-1,Ft=Tt*At,dt=Ft>Nr,Ze=b*pt;if(o0.add(Ru(Ze*Tt*dn(Ft),P*yt+Ze*vn(Ft))),s+=dt?At+Tt*aa:At,dt^w>=n^M>=n){var we=Wc(Nl(v),Nl(G));rg(we);var sn=Wc(i,we);rg(sn);var pn=(dt^At>=0?-1:1)*Fu(sn[2]);(r>pn||r===pn&&(we[0]||we[1]))&&(u+=dt^At>=0?1:-1)}}return(s<-Or||s<Or&&o0<-Or)^1&u}(v,f);w.length?(y||(s.polygonStart(),y=!0),yP(w,QH,At,n,s)):At&&(y||(s.polygonStart(),y=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),y&&(s.polygonEnd(),y=!1),w=v=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function P(At,Tt){var Ft=i(At,Tt);t(At=Ft[0],Tt=Ft[1])&&s.point(At,Tt)}function K(At,Tt){var Ft=i(At,Tt);u.point(Ft[0],Ft[1])}function G(){b.point=K,u.lineStart()}function M(){b.point=P,u.lineEnd()}function q(At,Tt){C.push([At,Tt]);var Ft=i(At,Tt);p.point(Ft[0],Ft[1])}function pt(){p.lineStart(),C=[]}function yt(){q(C[0][0],C[0][1]),p.lineEnd();var Ft,Ze,we,sn,At=p.clean(),Tt=d.result(),dt=Tt.length;if(C.pop(),v.push(C),C=null,dt){if(1&At){if((Ze=(we=Tt[0]).length-1)>0){for(y||(s.polygonStart(),y=!0),s.lineStart(),Ft=0;Ft<Ze;++Ft)s.point((sn=we[Ft])[0],sn[1]);s.lineEnd()}return}dt>1&&2&At&&Tt.push(Tt.pop().concat(Tt.shift())),w.push(Tt.filter(XH))}}return b}}function XH(t){return t.length>1}function QH(t,e){return((t=t.x)[0]<0?t[1]-Gs-Or:Gs-t[1])-((e=e.x)[0]<0?e[1]-Gs-Or:Gs-e[1])}sl(),function $P(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}(4.5);const ZP=qP(function(){return!0},function KH(t){var i,e=NaN,n=NaN,r=NaN;return{lineStart:function(){t.lineStart(),i=1},point:function(s,u){var f=s>0?Nr:-Nr,d=Ai(s-e);Ai(d-Nr)<Or?(t.point(e,n=(n+u)/2>0?Gs:-Gs),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(s,n),i=0):r!==f&&d>=Nr&&(Ai(e-r)<Or&&(e-=r*Or),Ai(s-f)<Or&&(s-=f*Or),n=function JH(t,e,n,r){var i,s,u=dn(t-n);return Ai(u)>Or?Dh((dn(e)*(s=vn(r))*dn(n)-dn(r)*(i=vn(e))*dn(t))/(i*s*u)):(e+r)/2}(e,n,s,u),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),i=0),t.point(e=s,n=u),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}},function t5(t,e,n,r){var i;if(null==t)r.point(-Nr,i=n*Gs),r.point(0,i),r.point(Nr,i),r.point(Nr,0),r.point(Nr,-i),r.point(0,-i),r.point(-Nr,-i),r.point(-Nr,0),r.point(-Nr,i);else if(Ai(t[0]-e[0])>Or){var s=t[0]<e[0]?Nr:-Nr;r.point(-s,i=n*s/2),r.point(0,i),r.point(s,i)}else r.point(e[0],e[1])},[-Nr,-Gs]);function WP(t){return t}function w0(t){return function(e){var n=new E0;for(var r in t)n[r]=t[r];return n.stream=e,n}}function E0(){}function YP(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],s=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=s&&t.clipExtent(null),function ZM(t,e){t&&HM.hasOwnProperty(t.type)?HM[t.type](t,e):Qp(t,e)}(n,t.stream(FP));var u=FP.result(),f=Math.min(r/(u[1][0]-u[0][0]),i/(u[1][1]-u[0][1])),d=+e[0][0]+(r-f*(u[1][0]+u[0][0]))/2,p=+e[0][1]+(i-f*(u[1][1]+u[0][1]))/2;return null!=s&&t.clipExtent(s),t.scale(150*f).translate([d,p])}E0.prototype={constructor:E0,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var XP=16,r5=vn(30*vr);function QP(t,e){return+e?function o5(t,e){function n(r,i,s,u,f,d,p,y,v,w,C,b,P,K){var G=p-r,M=y-i,q=G*G+M*M;if(q>4*e&&P--){var pt=u+w,yt=f+C,At=d+b,Tt=Pa(pt*pt+yt*yt+At*At),Ft=Fu(At/=Tt),dt=Ai(Ai(At)-1)<Or||Ai(s-v)<Or?(s+v)/2:Ru(yt,pt),Ze=t(dt,Ft),we=Ze[0],sn=Ze[1],pn=we-r,ue=sn-i,Ye=M*pn-G*ue;(Ye*Ye/q>e||Ai((G*pn+M*ue)/q-.5)>.3||u*w+f*C+d*b<r5)&&(n(r,i,s,u,f,d,we,sn,dt,pt/=Tt,yt/=Tt,At,P,K),K.point(we,sn),n(we,sn,dt,pt,yt,At,p,y,v,w,C,b,P,K))}}return function(r){var i,s,u,f,d,p,y,v,w,C,b,P,K={point:G,lineStart:M,lineEnd:pt,polygonStart:function(){r.polygonStart(),K.lineStart=yt},polygonEnd:function(){r.polygonEnd(),K.lineStart=M}};function G(Ft,dt){Ft=t(Ft,dt),r.point(Ft[0],Ft[1])}function M(){v=NaN,K.point=q,r.lineStart()}function q(Ft,dt){var Ze=Nl([Ft,dt]),we=t(Ft,dt);n(v,w,y,C,b,P,v=we[0],w=we[1],y=Ft,C=Ze[0],b=Ze[1],P=Ze[2],XP,r),r.point(v,w)}function pt(){K.point=G,r.lineEnd()}function yt(){M(),K.point=At,K.lineEnd=Tt}function At(Ft,dt){q(i=Ft,dt),s=v,u=w,f=C,d=b,p=P,K.point=q}function Tt(){n(v,w,y,C,b,P,s,u,i,f,d,p,XP,r),K.lineEnd=pt,pt()}return K}}(t,e):function i5(t){return w0({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var s5=w0({point:function(t,e){this.stream.point(t*vr,e*vr)}});function a5(t){return function u5(t){var e,s,u,w,C,G,M,q,Tt,Ft,n=150,r=480,i=250,f=0,d=0,p=0,y=0,v=0,b=null,P=ZP,K=null,pt=WP,yt=.5,At=QP(we,yt);function dt(ue){return[(ue=C(ue[0]*vr,ue[1]*vr))[0]*n+s,u-ue[1]*n]}function Ze(ue){return(ue=C.invert((ue[0]-s)/n,(u-ue[1])/n))&&[ue[0]*Va,ue[1]*Va]}function we(ue,Ye){return[(ue=e(ue,Ye))[0]*n+s,u-ue[1]*n]}function sn(){C=lP(w=function cP(t,e,n){return(t%=aa)?e||n?lP(hP(t),dP(e,n)):hP(t):e||n?dP(e,n):t0}(p,y,v),e);var ue=e(f,d);return s=r-ue[0]*n,u=i+ue[1]*n,pn()}function pn(){return Tt=Ft=null,dt}return dt.stream=function(ue){return Tt&&Ft===ue?Tt:Tt=s5(P(w,At(pt(Ft=ue))))},dt.clipAngle=function(ue){return arguments.length?(P=+ue?function e5(t,e){var n=vn(t),r=n>0,i=Ai(n)>Or;function u(y,v){return vn(y)*vn(v)>n}function d(y,v,w){var P=[1,0,0],K=Wc(Nl(y),Nl(v)),G=eg(K,K),M=K[0],q=G-M*M;if(!q)return!w&&y;var pt=n*G/q,yt=-n*M/q,At=Wc(P,K),Tt=ng(P,pt);W_(Tt,ng(K,yt));var dt=At,Ze=eg(Tt,dt),we=eg(dt,dt),sn=Ze*Ze-we*(eg(Tt,Tt)-1);if(!(sn<0)){var pn=Pa(sn),ue=ng(dt,(-Ze-pn)/we);if(W_(ue,Tt),ue=tg(ue),!w)return ue;var En,Ye=y[0],Ae=v[0],_r=y[1],dr=v[1];Ae<Ye&&(En=Ye,Ye=Ae,Ae=En);var cs=Ae-Ye,co=Ai(cs-Nr)<Or;if(!co&&dr<_r&&(En=_r,_r=dr,dr=En),co||cs<Or?co?_r+dr>0^ue[1]<(Ai(ue[0]-Ye)<Or?_r:dr):_r<=ue[1]&&ue[1]<=dr:cs>Nr^(Ye<=ue[0]&&ue[0]<=Ae)){var Rr=ng(dt,(-Ze+pn)/we);return W_(Rr,Tt),[ue,tg(Rr)]}}}function p(y,v){var w=r?t:Nr-t,C=0;return y<-w?C|=1:y>w&&(C|=2),v<-w?C|=4:v>w&&(C|=8),C}return qP(u,function f(y){var v,w,C,b,P;return{lineStart:function(){b=C=!1,P=1},point:function(K,G){var q,M=[K,G],pt=u(K,G),yt=r?pt?0:p(K,G):pt?p(K+(K<0?Nr:-Nr),G):0;if(!v&&(b=C=pt)&&y.lineStart(),pt!==C&&(!(q=d(v,M))||fg(v,q)||fg(M,q))&&(M[0]+=Or,M[1]+=Or,pt=u(M[0],M[1])),pt!==C)P=0,pt?(y.lineStart(),q=d(M,v),y.point(q[0],q[1])):(q=d(v,M),y.point(q[0],q[1]),y.lineEnd()),v=q;else if(i&&v&&r^pt){var At;!(yt&w)&&(At=d(M,v,!0))&&(P=0,r?(y.lineStart(),y.point(At[0][0],At[0][1]),y.point(At[1][0],At[1][1]),y.lineEnd()):(y.point(At[1][0],At[1][1]),y.lineEnd(),y.lineStart(),y.point(At[0][0],At[0][1])))}pt&&(!v||!fg(v,M))&&y.point(M[0],M[1]),v=M,C=pt,w=yt},lineEnd:function(){C&&y.lineEnd(),v=null},clean:function(){return P|(b&&C)<<1}}},function s(y,v,w,C){!function pP(t,e,n,r,i,s){if(n){var u=vn(e),f=dn(e),d=r*n;null==i?(i=e+r*aa,s=e-d/2):(i=gP(u,i),s=gP(u,s),(r>0?i<s:i>s)&&(i+=r*aa));for(var p,y=i;r>0?y>s:y<s;y-=d)p=tg([u,-f*vn(y),-f*dn(y)]),t.point(p[0],p[1])}}(C,t,e,w,y,v)},r?[0,-t]:[-Nr,t-Nr])}(b=ue*vr,6*vr):(b=null,ZP),pn()):b*Va},dt.clipExtent=function(ue){return arguments.length?(pt=null==ue?(K=G=M=q=null,WP):function xP(t,e,n,r){function i(p,y){return t<=p&&p<=n&&e<=y&&y<=r}function s(p,y,v,w){var C=0,b=0;if(null==p||(C=u(p,v))!==(b=u(y,v))||d(p,y)<0^v>0)do{w.point(0===C||3===C?t:n,C>1?r:e)}while((C=(C+v+4)%4)!==b);else w.point(y[0],y[1])}function u(p,y){return Ai(p[0]-t)<Or?y>0?0:3:Ai(p[0]-n)<Or?y>0?2:1:Ai(p[1]-e)<Or?y>0?1:0:y>0?3:2}function f(p,y){return d(p.x,y.x)}function d(p,y){var v=u(p,1),w=u(y,1);return v!==w?v-w:0===v?y[1]-p[1]:1===v?p[0]-y[0]:2===v?p[1]-y[1]:y[0]-p[0]}return function(p){var w,C,b,P,K,G,M,q,pt,yt,At,y=p,v=mP(),Tt={point:Ft,lineStart:function sn(){Tt.point=ue,C&&C.push(b=[]),yt=!0,pt=!1,M=q=NaN},lineEnd:function pn(){w&&(ue(P,K),G&&pt&&v.rejoin(),w.push(v.result())),Tt.point=Ft,pt&&y.lineEnd()},polygonStart:function Ze(){y=v,w=[],C=[],At=!0},polygonEnd:function we(){var Ye=function dt(){for(var Ye=0,Ae=0,_r=C.length;Ae<_r;++Ae)for(var Bo,Rr,dr=C[Ae],En=1,cs=dr.length,co=dr[0],si=co[0],Li=co[1];En<cs;++En)Bo=si,Rr=Li,si=(co=dr[En])[0],Li=co[1],Rr<=r?Li>r&&(si-Bo)*(r-Rr)>(Li-Rr)*(t-Bo)&&++Ye:Li<=r&&(si-Bo)*(r-Rr)<(Li-Rr)*(t-Bo)&&--Ye;return Ye}(),Ae=At&&Ye,_r=(w=CP(w)).length;(Ae||_r)&&(p.polygonStart(),Ae&&(p.lineStart(),s(null,null,1,p),p.lineEnd()),_r&&yP(w,f,Ye,s,p),p.polygonEnd()),y=p,w=C=b=null}};function Ft(Ye,Ae){i(Ye,Ae)&&y.point(Ye,Ae)}function ue(Ye,Ae){var _r=i(Ye,Ae);if(C&&b.push([Ye,Ae]),yt)P=Ye,K=Ae,G=_r,yt=!1,_r&&(y.lineStart(),y.point(Ye,Ae));else if(_r&&pt)y.point(Ye,Ae);else{var dr=[M=Math.max(dg,Math.min(Mh,M)),q=Math.max(dg,Math.min(Mh,q))],En=[Ye=Math.max(dg,Math.min(Mh,Ye)),Ae=Math.max(dg,Math.min(Mh,Ae))];!function IH(t,e,n,r,i,s){var b,u=t[0],f=t[1],y=0,v=1,w=e[0]-u,C=e[1]-f;if(b=n-u,w||!(b>0)){if(b/=w,w<0){if(b<y)return;b<v&&(v=b)}else if(w>0){if(b>v)return;b>y&&(y=b)}if(b=i-u,w||!(b<0)){if(b/=w,w<0){if(b>v)return;b>y&&(y=b)}else if(w>0){if(b<y)return;b<v&&(v=b)}if(b=r-f,C||!(b>0)){if(b/=C,C<0){if(b<y)return;b<v&&(v=b)}else if(C>0){if(b>v)return;b>y&&(y=b)}if(b=s-f,C||!(b<0)){if(b/=C,C<0){if(b>v)return;b>y&&(y=b)}else if(C>0){if(b<y)return;b<v&&(v=b)}return y>0&&(t[0]=u+y*w,t[1]=f+y*C),v<1&&(e[0]=u+v*w,e[1]=f+v*C),!0}}}}}(dr,En,t,e,n,r)?_r&&(y.lineStart(),y.point(Ye,Ae),At=!1):(pt||(y.lineStart(),y.point(dr[0],dr[1])),y.point(En[0],En[1]),_r||y.lineEnd(),At=!1)}M=Ye,q=Ae,pt=_r}return Tt}}(K=+ue[0][0],G=+ue[0][1],M=+ue[1][0],q=+ue[1][1]),pn()):null==K?null:[[K,G],[M,q]]},dt.scale=function(ue){return arguments.length?(n=+ue,sn()):n},dt.translate=function(ue){return arguments.length?(r=+ue[0],i=+ue[1],sn()):[r,i]},dt.center=function(ue){return arguments.length?(f=ue[0]%360*vr,d=ue[1]%360*vr,sn()):[f*Va,d*Va]},dt.rotate=function(ue){return arguments.length?(p=ue[0]%360*vr,y=ue[1]%360*vr,v=ue.length>2?ue[2]%360*vr:0,sn()):[p*Va,y*Va,v*Va]},dt.precision=function(ue){return arguments.length?(At=QP(we,yt=ue*ue),pn()):Pa(yt)},dt.fitExtent=function(ue,Ye){return YP(dt,ue,Ye)},dt.fitSize=function(ue,Ye){return function n5(t,e,n){return YP(t,[[0,0],e],n)}(dt,ue,Ye)},function(){return e=t.apply(this,arguments),dt.invert=e.invert&&Ze,sn()}}(function(){return t})()}function KP(t){return function(e,n){var r=vn(e),i=vn(n),s=t(r*i);return[s*i*dn(e),s*dn(n)]}}function Oh(t){return function(e,n){var r=Pa(e*e+n*n),i=t(r),s=dn(i),u=vn(i);return[Ru(e*s,r*u),Fu(r&&n*s/r)]}}KP(function(t){return Pa(2/(1+t))}).invert=Oh(function(t){return 2*Fu(t/2)});var tN=KP(function(t){return(t=jM(t))&&t/dn(t)});function x0(t,e){return[t,e]}function Dg(t,e,n,r){var i=t.properties||{},s="Feature"===t.type?t.geometry:t;if("GeometryCollection"===s.type){var u=[];return Fp(t,function(P){var K=Dg(P,e,n,r);K&&u.push(K)}),Gc(u)}var f=function m5(t){var e=function NG(t,e){void 0===e&&(e={});var n=ES(t);return Uc([(n[0]+n[2])/2,(n[1]+n[3])/2],e.properties,e)}(t).geometry.coordinates,n=[-e[0],-e[1]];return function f5(){return a5(tN).scale(79.4188).clipAngle(179.999)}().rotate(n).scale(as)}(s),d={type:s.type,coordinates:aN(s.coordinates,f)},y=(new j_.GeoJSONReader).read(d),v=function wS(t,e){void 0===e&&(e="kilometers");var n=yS[e];if(!n)throw new Error(e+" units is invalid");return t*n}(function c_(t,e){void 0===e&&(e="kilometers");var n=yS[e];if(!n)throw new Error(e+" units is invalid");return t/n}(e,n),"meters"),w=j_.BufferOp.bufferOp(y,v,r);if(!sN((w=(new j_.GeoJSONWriter).write(w)).coordinates))return uu({type:w.type,coordinates:uN(w.coordinates,f)},i)}function sN(t){return Array.isArray(t[0])?sN(t[0]):isNaN(t[0])}function aN(t,e){return"object"!=typeof t[0]?e(t):t.map(function(n){return aN(n,e)})}function uN(t,e){return"object"!=typeof t[0]?e.invert(t):t.map(function(n){return uN(n,e)})}tN.invert=Oh(function(t){return t}),x0.invert=x0,Oh(Dh),Oh(Fu),Oh(function(t){return 2*Dh(t)});let cN=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#t=this.\u0275fac=function(r){return new(r||t)(ie(Du),ie(ea))};static#e=this.\u0275dir=He({type:t})}return t})(),Ol=(()=>{class t extends cN{static#t=this.\u0275fac=function(){let n;return function(i){return(n||(n=Wo(t)))(i||t)}}();static#e=this.\u0275dir=He({type:t,features:[Zr]})}return t})();const du=new Ee("NgValueAccessor"),D5={provide:du,useExisting:Wt(()=>Ig),multi:!0},b5=new Ee("CompositionEventMode");let Ig=(()=>{class t extends cN{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function I5(){const t=el()?el().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#t=this.\u0275fac=function(r){return new(r||t)(ie(Du),ie(ea),ie(b5,8))};static#e=this.\u0275dir=He({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Fo("input",function(u){return i._handleInput(u.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(u){return i._compositionEnd(u.target.value)})},features:[Ni([D5]),Zr]})}return t})();const ls=new Ee("NgValidators"),ll=new Ee("NgAsyncValidators");function EN(t){return null!=t}function CN(t){return Lf(t)?$r(t):t}function xN(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function DN(t,e){return e.map(n=>n(t))}function IN(t){return t.map(e=>function M5(t){return!t.validate}(e)?e:n=>e.validate(n))}function D0(t){return null!=t?function bN(t){if(!t)return null;const e=t.filter(EN);return 0==e.length?null:function(n){return xN(DN(n,e))}}(IN(t)):null}function I0(t){return null!=t?function SN(t){if(!t)return null;const e=t.filter(EN);return 0==e.length?null:function(n){return function C5(...t){const e=Xr(t),{args:n,keys:r}=ab(t),i=new it(s=>{const{length:u}=n;if(!u)return void s.complete();const f=new Array(u);let d=u,p=u;for(let y=0;y<u;y++){let v=!1;rr(n[y]).subscribe(oe(s,w=>{v||(v=!0,p--),f[y]=w},()=>d--,void 0,()=>{(!d||!v)&&(p||s.next(r?lb(r,f):f),s.complete())}))}});return e?i.pipe(ub(e)):i}(DN(n,e).map(CN)).pipe(re(xN))}}(IN(t)):null}function MN(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function b0(t){return t?Array.isArray(t)?t:[t]:[]}function Sg(t,e){return Array.isArray(t)?t.includes(e):t===e}function TN(t,e){const n=b0(e);return b0(t).forEach(i=>{Sg(n,i)||n.push(i)}),n}function AN(t,e){return b0(e).filter(n=>!Sg(t,n))}class LN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=D0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=I0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ps extends LN{get formDirective(){return null}get path(){return null}}class cl extends LN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ON{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let RN=(()=>{class t extends ON{constructor(n){super(n)}static#t=this.\u0275fac=function(r){return new(r||t)(ie(cl,2))};static#e=this.\u0275dir=He({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ud("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Zr]})}return t})();const Rh="VALID",Pg="INVALID",Jc="PENDING",Fh="DISABLED";function Ng(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class VN{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Rh}get invalid(){return this.status===Pg}get pending(){return this.status==Jc}get disabled(){return this.status===Fh}get enabled(){return this.status!==Fh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(AN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(AN(e,this._rawAsyncValidators))}hasValidator(e){return Sg(this._rawValidators,e)}hasAsyncValidator(e){return Sg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Jc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Fh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Rh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rh||this.status===Jc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fh:Rh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Jc,this._hasOwnPendingAsyncValidator=!0;const n=CN(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Wi,this.statusChanges=new Wi}_calculateStatus(){return this._allControlsDisabled()?Fh:this.errors?Pg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jc)?Jc:this._anyControlsHaveStatus(Pg)?Pg:Rh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ng(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function L5(t){return Array.isArray(t)?D0(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function O5(t){return Array.isArray(t)?I0(t):t||null}(this._rawAsyncValidators)}}const tf=new Ee("CallSetDisabledState",{providedIn:"root",factory:()=>Tg}),Tg="always";function kh(t,e,n=Tg){(function A0(t,e){const n=function PN(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(MN(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function NN(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(MN(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Og(e._rawValidators,i),Og(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function k5(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&zN(t,e)})}(t,e),function V5(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function B5(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&zN(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function F5(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Og(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function zN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function jN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function HN(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const $N=class extends VN{constructor(e=null,n,r){super(function P0(t){return(Ng(t)?t.validators:t)||null}(n),function N0(t,e){return(Ng(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ng(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=HN(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){HN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Z5={provide:cl,useExisting:Wt(()=>k0)},WN=(()=>Promise.resolve())();let k0=(()=>{class t extends cl{constructor(n,r,i,s,u,f){super(),this._changeDetectorRef=u,this.callSetDisabledState=f,this.control=new $N,this._registered=!1,this.name="",this.update=new Wi,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function R0(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ig?n=s:function G5(t){return Object.getPrototypeOf(t.constructor)===Ol}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function O0(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){WN.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Pc(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);WN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Ag(t,e){return[...e.path,t]}(n,this._parent):[n]}static#t=this.\u0275fac=function(r){return new(r||t)(ie(Ps,9),ie(ls,10),ie(ll,10),ie(du,10),ie(Jd,8),ie(tf,8))};static#e=this.\u0275dir=He({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ni([Z5]),Zr,_a]})}return t})();const Y5={provide:du,useExisting:Wt(()=>B0),multi:!0};let B0=(()=>{class t extends Ol{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#t=this.\u0275fac=function(){let n;return function(i){return(n||(n=Wo(t)))(i||t)}}();static#e=this.\u0275dir=He({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Fo("input",function(u){return i.onChange(u.target.value)})("blur",function(){return i.onTouched()})},features:[Ni([Y5]),Zr]})}return t})(),YN=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=Uo({})}return t})(),v$=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=Uo({imports:[YN]})}return t})(),w$=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:tf,useValue:n.callSetDisabledState??Tg}]}}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=Uo({imports:[v$]})}return t})(),E$=(()=>{class t{constructor(){this.coordinatesArray=[],this.displacementLimit=10,this.speedLimit=5,this.accelerationLimit=20,this.timeInterval=500,this.lastPosition=null,this.lastSpeed=0,this.lastTimestamp=0,this.totalDistance=0,this.pontos=0,this.mensagem="0-Inicio"}ngOnInit(){this.createMap()}createMap(){this.map=oa.map("map").setView([0,0],1);const n=oa.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,minZoom:0,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'});this.polyline=oa.polyline([],{color:"#C4EEF2",weight:7,opacity:1}).addTo(this.map),this.polylineBorder=oa.polyline([],{color:"#025159",weight:4}).addTo(this.map),this.heatMap=oa.heatLayer([],{radius:8}),n.addTo(this.map),this.polyline.addTo(this.map),this.polylineBorder.addTo(this.map),this.heatMap.addTo(this.map),this.geoJsonDrawLimit(),setTimeout(()=>{this.zoneToExplore()},3e3)}startTracking(){let n=!1;navigator.geolocation?this.watchId=navigator.geolocation.watchPosition(i=>{this.updateCoordinates(i),n||(this.updateCurrentViewPoint([i.coords.latitude,i.coords.longitude]),n=!0)},i=>i,{enableHighAccuracy:!0,timeout:100,maximumAge:0}):alert("Navegador n\xe3o suportado")}updateCurrentViewPoint(n){this.map.flyTo(n,18,{duration:2,easeLinearity:.25,animate:!0})}stopTracking(){navigator.geolocation.clearWatch(this.watchId),this.pointIcon&&this.map.removeLayer(this.pointIcon),this.pointIcon=oa.icon({iconUrl:"assets/icons/finish.png",iconSize:[32,32]}),oa.marker(this.coordinatesArray[this.coordinatesArray.length-1],{icon:this.pointIcon}).addTo(this.map).bindPopup("Chagada")}updateCoordinates(n){const r=n.coords.latitude,i=n.coords.longitude,s=n.timestamp;if(this.lastPosition&&this.lastTimestamp){this.pontos++,this.mensagem="criando novos pontos - "+this.pontos+" - accuracy= "+n.coords.accuracy+" metros";const u=this.calculateDistanceHaversinesFormula(r,i,this.lastPosition.coords.latitude,this.lastPosition.coords.longitude),f=s-this.lastTimestamp;u<=this.displacementLimit&&u/f*1e3<=this.speedLimit&&f>=this.timeInterval?(this.addPathLine(r,i),this.totalDistance=this.calculateTotalDistanceLeafletMethod(this.polyline),this.calculeExploredArea(r,i)):(console.log("Ponto descartado devido a filtros."),this.mensagem="Ponto descartado devido a filtros.")}else this.mensagem="Cria primeiro ponto",this.addPathLine(r,i);this.lastPosition=n,this.lastSpeed=this.speed,this.lastTimestamp=s}addPathLine(n,r){this.polyline.addLatLng([n,r]),this.polylineBorder.addLatLng([n,r]),this.heatMap.addLatLng([n,r,1]),this.coordinatesArray.push([n,r,1]),this.createIcons()}createIcons(){const n=oa.icon({iconUrl:"assets/icons/start.png",iconSize:[32,32]});oa.marker(this.coordinatesArray[0],{icon:n}).addTo(this.map).bindPopup("Inicio"),this.pointIcon&&this.map.removeLayer(this.pointIcon);const r=oa.icon({iconUrl:"assets/icons/point.png",iconSize:[32,32]});this.pointIcon=oa.marker(this.coordinatesArray[this.coordinatesArray.length-1],{icon:r}).addTo(this.map).bindPopup("Ponto")}calculateDistanceHaversinesFormula(n,r,i,s){const f=n*Math.PI/180,d=i*Math.PI/180,p=(i-n)*Math.PI/180,y=(s-r)*Math.PI/180,v=Math.sin(p/2)*Math.sin(p/2)+Math.cos(f)*Math.cos(d)*Math.sin(y/2)*Math.sin(y/2);return 2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v))*6371e3}calculateTotalDistanceLeafletMethod(n){let r=0;const i=n.getLatLngs();for(let s=0;s<i.length-1;s++)r+=i[s].distanceTo(i[s+1]);return r/1e3}zoneToExplore(){oa.circle([-23.234563600752985,-45.89585548053398],{color:"#FA7F08",fillColor:"#F24405",fillOpacity:.3,weight:1,radius:50}).addTo(this.map).bindPopup("Zona de trabalho = 100 metros de di\xe2metro")}geoJsonDrawLimit(){const n=oa.geoJSON(this.geoJson(),{style:{fillColor:"rgba(255, 0, 0, 0.5)",fillOpacity:0,color:"#8C034E",weight:2,opacity:.8}}).addTo(this.map);this.map.fitBounds(n.getBounds())}calculeExploredArea(n,r){if(!g_(Uc([r,n]),dh(this.geoJson().features[0].geometry.coordinates)))return void console.log("As coordenadas est\xe3o fora da \xe1rea!");if(console.log("As coordenadas est\xe3o dentro da \xe1rea!"),this.coordinatesArray.length<3)return;const f=BS(this.geoJson()),v=BS(function g5(t,e,n){var r=(n=n||{}).units||"kilometers",i=n.steps||8;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var s=[];switch(t.type){case"GeometryCollection":return Fp(t,function(u){var f=Dg(u,e,r,i);f&&s.push(f)}),Gc(s);case"FeatureCollection":return h_(t,function(u){var f=Dg(u,e,r,i);f&&h_(f,function(d){d&&s.push(d)})}),Gc(s)}return Dg(t,e,r,i)}(Rp(this.coordinatesArray.map(w=>[w[1],w[0]])),.001,{units:"kilometers"}));this.totalAreaExplored=v/f*100,this.totalAreaExplored.toFixed(2),console.log(this.totalAreaExplored.toFixed(2)+"%")}ngOnDestroy(){this.map&&this.map.remove()}geoJson(){return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{coordinates:[[[-45.89973434973365,-23.23444941961735],[-45.899779635144625,-23.234453303468158],[-45.89973736876104,-23.234683005301108],[-45.89968785671172,-23.23467523761272],[-45.89973434973365,-23.23444941961735]]],type:"Polygon"}}]}}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275cmp=Zi({type:t,selectors:[["app-root"]],decls:42,vars:10,consts:[[1,"container"],[1,"map-container"],["id","map",1,"map"],[3,"click"],["for","fname"],["type","number",3,"ngModel","ngModelChange"],["target","_blank","href","https://icons8.com"]],template:function(r,i){1&r&&(Do(0,"div",0)(1,"div",1),os(2,"div",2),Ro(),Do(3,"button",3),Fo("click",function(){return i.startTracking()}),xa(4,"Iniciar"),Ro(),Do(5,"button",3),Fo("click",function(){return i.stopTracking()}),xa(6,"Finalizar"),Ro(),os(7,"br"),Do(8,"label",4),xa(9,"Limite de deslocamento m\xe1ximo em metros:"),Ro(),os(10,"br"),Do(11,"input",5),Fo("ngModelChange",function(u){return i.displacementLimit=u}),Ro(),os(12,"br"),Do(13,"label",4),xa(14,"Limite de velocidade m\xe1xima em metros por segundo"),Ro(),os(15,"br"),Do(16,"input",5),Fo("ngModelChange",function(u){return i.speedLimit=u}),Ro(),os(17,"br"),Do(18,"label",4),xa(19,"Limite de acelera\xe7\xe3o m\xe1xima em metros por segundo ao quadrado"),Ro(),os(20,"br"),Do(21,"input",5),Fo("ngModelChange",function(u){return i.accelerationLimit=u}),Ro(),os(22,"br"),Do(23,"label",4),xa(24,"Intervalo de tempo entre leituras de GPS em milissegundos"),Ro(),os(25,"br"),Do(26,"input",5),Fo("ngModelChange",function(u){return i.timeInterval=u}),Ro(),Do(27,"div"),os(28,"br"),Do(29,"span"),xa(30),Ro(),os(31,"br"),Do(32,"span"),xa(33),function eD(t,e){const n=yr();let r;const i=t+un;n.firstCreatePass?(r=function Pk(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=pl(r.type)),f=Vr(ie);try{const d=Wh(!1),p=s();return Wh(d),function o2(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,ee(),i,p),p}finally{Vr(f)}}(34,"number"),Ro(),os(35,"br"),Do(36,"span"),xa(37),Ro(),os(38,"br"),xa(39," icon by "),Do(40,"a",6),xa(41,"Icons8"),Ro()()()),2&r&&(Ku(11),Cc("ngModel",i.displacementLimit),Ku(5),Cc("ngModel",i.speedLimit),Ku(5),Cc("ngModel",i.accelerationLimit),Ku(5),Cc("ngModel",i.timeInterval),Ku(4),by(i.mensagem),Ku(3),Rf("distancia Total = ",nD(34,7,i.totalDistance,"1.3-3")," Km"),Ku(4),Rf("total da \xe1rea explorada = ",i.totalAreaExplored,""))},dependencies:[Ig,B0,RN,k0,kI],styles:[".container[_ngcontent-%COMP%]{width:500px;height:500px}.map[_ngcontent-%COMP%]{height:100%;width:100%}.map-container[_ngcontent-%COMP%]{border:1px solid #6665ff;height:400px}"]})}return t})(),C$=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=Ci({type:t,bootstrap:[E$]});static#n=this.\u0275inj=Uo({imports:[Kz,B8,w$]})}return t})();Xz().bootstrapModule(C$).catch(t=>console.error(t))},1568:(Dt,vt,A)=>{"use strict";var $=A(8570);function ct(ut){var _t=[1/0,1/0,-1/0,-1/0];return $.coordEach(ut,function(J){_t[0]>J[0]&&(_t[0]=J[0]),_t[1]>J[1]&&(_t[1]=J[1]),_t[2]<J[0]&&(_t[2]=J[0]),_t[3]<J[1]&&(_t[3]=J[1])}),_t}ct.default=ct,vt.Z=ct},621:(Dt,vt)=>{"use strict";function A(rt,lt,W){void 0===W&&(W={});var Xt={type:"Feature"};return(0===W.id||W.id)&&(Xt.id=W.id),W.bbox&&(Xt.bbox=W.bbox),Xt.properties=lt||{},Xt.geometry=rt,Xt}function $(rt,lt,W){if(void 0===W&&(W={}),!rt)throw new Error("coordinates is required");if(!Array.isArray(rt))throw new Error("coordinates must be an Array");if(rt.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!j(rt[0])||!j(rt[1]))throw new Error("coordinates must contain numbers");return A({type:"Point",coordinates:rt},lt,W)}function ut(rt,lt,W){void 0===W&&(W={});for(var Xt=0,Bt=rt;Xt<Bt.length;Xt++){var et=Bt[Xt];if(et.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var gt=0;gt<et[et.length-1].length;gt++)if(et[et.length-1][gt]!==et[0][gt])throw new Error("First and last Position are not equivalent.")}return A({type:"Polygon",coordinates:rt},lt,W)}function J(rt,lt,W){if(void 0===W&&(W={}),rt.length<2)throw new Error("coordinates must be an array of two or more positions");return A({type:"LineString",coordinates:rt},lt,W)}function xt(rt,lt){void 0===lt&&(lt={});var W={type:"FeatureCollection"};return lt.id&&(W.id=lt.id),lt.bbox&&(W.bbox=lt.bbox),W.features=rt,W}function Pt(rt,lt,W){return void 0===W&&(W={}),A({type:"MultiLineString",coordinates:rt},lt,W)}function Ut(rt,lt,W){return void 0===W&&(W={}),A({type:"MultiPoint",coordinates:rt},lt,W)}function Rt(rt,lt,W){return void 0===W&&(W={}),A({type:"MultiPolygon",coordinates:rt},lt,W)}function Yt(rt,lt){void 0===lt&&(lt="kilometers");var W=vt.factors[lt];if(!W)throw new Error(lt+" units is invalid");return rt*W}function B(rt,lt){void 0===lt&&(lt="kilometers");var W=vt.factors[lt];if(!W)throw new Error(lt+" units is invalid");return rt/W}function H(rt){return rt%(2*Math.PI)*180/Math.PI}function j(rt){return!isNaN(rt)&&null!==rt&&!Array.isArray(rt)}Object.defineProperty(vt,"__esModule",{value:!0}),vt.earthRadius=6371008.8,vt.factors={centimeters:100*vt.earthRadius,centimetres:100*vt.earthRadius,degrees:vt.earthRadius/111325,feet:3.28084*vt.earthRadius,inches:39.37*vt.earthRadius,kilometers:vt.earthRadius/1e3,kilometres:vt.earthRadius/1e3,meters:vt.earthRadius,metres:vt.earthRadius,miles:vt.earthRadius/1609.344,millimeters:1e3*vt.earthRadius,millimetres:1e3*vt.earthRadius,nauticalmiles:vt.earthRadius/1852,radians:1,yards:1.0936*vt.earthRadius},vt.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/vt.earthRadius,yards:1.0936133},vt.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},vt.feature=A,vt.geometry=function U(rt,lt,W){switch(void 0===W&&(W={}),rt){case"Point":return $(lt).geometry;case"LineString":return J(lt).geometry;case"Polygon":return ut(lt).geometry;case"MultiPoint":return Ut(lt).geometry;case"MultiLineString":return Pt(lt).geometry;case"MultiPolygon":return Rt(lt).geometry;default:throw new Error(rt+" is invalid")}},vt.point=$,vt.points=function ct(rt,lt,W){return void 0===W&&(W={}),xt(rt.map(function(Xt){return $(Xt,lt)}),W)},vt.polygon=ut,vt.polygons=function _t(rt,lt,W){return void 0===W&&(W={}),xt(rt.map(function(Xt){return ut(Xt,lt)}),W)},vt.lineString=J,vt.lineStrings=function wt(rt,lt,W){return void 0===W&&(W={}),xt(rt.map(function(Xt){return J(Xt,lt)}),W)},vt.featureCollection=xt,vt.multiLineString=Pt,vt.multiPoint=Ut,vt.multiPolygon=Rt,vt.geometryCollection=function It(rt,lt,W){return void 0===W&&(W={}),A({type:"GeometryCollection",geometries:rt},lt,W)},vt.round=function bt(rt,lt){if(void 0===lt&&(lt=0),lt&&!(lt>=0))throw new Error("precision must be a positive number");var W=Math.pow(10,lt||0);return Math.round(rt*W)/W},vt.radiansToLength=Yt,vt.lengthToRadians=B,vt.lengthToDegrees=function Z(rt,lt){return H(B(rt,lt))},vt.bearingToAzimuth=function R(rt){var lt=rt%360;return lt<0&&(lt+=360),lt},vt.radiansToDegrees=H,vt.degreesToRadians=function F(rt){return rt%360*Math.PI/180},vt.convertLength=function nt(rt,lt,W){if(void 0===lt&&(lt="kilometers"),void 0===W&&(W="kilometers"),!(rt>=0))throw new Error("length must be a positive number");return Yt(B(rt,lt),W)},vt.convertArea=function V(rt,lt,W){if(void 0===lt&&(lt="meters"),void 0===W&&(W="kilometers"),!(rt>=0))throw new Error("area must be a positive number");var Xt=vt.areaFactors[lt];if(!Xt)throw new Error("invalid original units");var Bt=vt.areaFactors[W];if(!Bt)throw new Error("invalid final units");return rt/Xt*Bt},vt.isNumber=j,vt.isObject=function Y(rt){return!!rt&&rt.constructor===Object},vt.validateBBox=function T(rt){if(!rt)throw new Error("bbox is required");if(!Array.isArray(rt))throw new Error("bbox must be an Array");if(4!==rt.length&&6!==rt.length)throw new Error("bbox must be an Array of 4 or 6 numbers");rt.forEach(function(lt){if(!j(lt))throw new Error("bbox must only contain numbers")})},vt.validateId=function Ct(rt){if(!rt)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof rt))throw new Error("id must be a number or a string")}},8570:(Dt,vt,A)=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});var U=A(621);function $(F,nt,V){if(null!==F)for(var j,Y,T,Ct,rt,lt,W,et,Xt=0,Bt=0,gt=F.type,it="FeatureCollection"===gt,ot="Feature"===gt,ht=it?F.features.length:1,X=0;X<ht;X++){rt=(et=!!(W=it?F.features[X].geometry:ot?F.geometry:F)&&"GeometryCollection"===W.type)?W.geometries.length:1;for(var Lt=0;Lt<rt;Lt++){var Mt=0,$t=0;if(null!==(Ct=et?W.geometries[Lt]:W)){lt=Ct.coordinates;var St=Ct.type;switch(Xt=!V||"Polygon"!==St&&"MultiPolygon"!==St?0:1,St){case null:break;case"Point":if(!1===nt(lt,Bt,X,Mt,$t))return!1;Bt++,Mt++;break;case"LineString":case"MultiPoint":for(j=0;j<lt.length;j++){if(!1===nt(lt[j],Bt,X,Mt,$t))return!1;Bt++,"MultiPoint"===St&&Mt++}"LineString"===St&&Mt++;break;case"Polygon":case"MultiLineString":for(j=0;j<lt.length;j++){for(Y=0;Y<lt[j].length-Xt;Y++){if(!1===nt(lt[j][Y],Bt,X,Mt,$t))return!1;Bt++}"MultiLineString"===St&&Mt++,"Polygon"===St&&$t++}"Polygon"===St&&Mt++;break;case"MultiPolygon":for(j=0;j<lt.length;j++){for($t=0,Y=0;Y<lt[j].length;Y++){for(T=0;T<lt[j][Y].length-Xt;T++){if(!1===nt(lt[j][Y][T],Bt,X,Mt,$t))return!1;Bt++}$t++}Mt++}break;case"GeometryCollection":for(j=0;j<Ct.geometries.length;j++)if(!1===$(Ct.geometries[j],nt,V))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ut(F,nt){var V;switch(F.type){case"FeatureCollection":for(V=0;V<F.features.length&&!1!==nt(F.features[V].properties,V);V++);break;case"Feature":nt(F.properties,0)}}function J(F,nt){if("Feature"===F.type)nt(F,0);else if("FeatureCollection"===F.type)for(var V=0;V<F.features.length&&!1!==nt(F.features[V],V);V++);}function Pt(F,nt){var V,j,Y,T,Ct,rt,lt,W,Xt,Bt,et=0,gt="FeatureCollection"===F.type,it="Feature"===F.type,ot=gt?F.features.length:1;for(V=0;V<ot;V++){for(W=gt?F.features[V].properties:it?F.properties:{},Xt=gt?F.features[V].bbox:it?F.bbox:void 0,Bt=gt?F.features[V].id:it?F.id:void 0,Ct=(lt=!!(rt=gt?F.features[V].geometry:it?F.geometry:F)&&"GeometryCollection"===rt.type)?rt.geometries.length:1,Y=0;Y<Ct;Y++)if(null!==(T=lt?rt.geometries[Y]:rt))switch(T.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===nt(T,et,W,Xt,Bt))return!1;break;case"GeometryCollection":for(j=0;j<T.geometries.length;j++)if(!1===nt(T.geometries[j],et,W,Xt,Bt))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===nt(null,et,W,Xt,Bt))return!1;et++}}function Rt(F,nt){Pt(F,function(V,j,Y,T,Ct){var lt,rt=null===V?null:V.type;switch(rt){case null:case"Point":case"LineString":case"Polygon":return!1!==nt(U.feature(V,Y,{bbox:T,id:Ct}),j,0)&&void 0}switch(rt){case"MultiPoint":lt="Point";break;case"MultiLineString":lt="LineString";break;case"MultiPolygon":lt="Polygon"}for(var W=0;W<V.coordinates.length;W++)if(!1===nt(U.feature({type:lt,coordinates:V.coordinates[W]},Y),j,W))return!1})}function bt(F,nt){Rt(F,function(V,j,Y){var T=0;if(V.geometry){var Ct=V.geometry.type;if("Point"!==Ct&&"MultiPoint"!==Ct){var rt,lt=0,W=0,Xt=0;if(!1===$(V,function(Bt,et,gt,it,ot){if(void 0===rt||j>lt||it>W||ot>Xt)return rt=Bt,lt=j,W=it,Xt=ot,void(T=0);var ht=U.lineString([rt,Bt],V.properties);if(!1===nt(ht,j,Y,ot,T))return!1;T++,rt=Bt}))return!1}}})}function B(F,nt){if(!F)throw new Error("geojson is required");Rt(F,function(V,j,Y){if(null!==V.geometry){var Ct=V.geometry.coordinates;switch(V.geometry.type){case"LineString":if(!1===nt(V,j,Y,0,0))return!1;break;case"Polygon":for(var rt=0;rt<Ct.length;rt++)if(!1===nt(U.lineString(Ct[rt],V.properties),j,Y,rt))return!1}}})}vt.coordAll=function xt(F){var nt=[];return $(F,function(V){nt.push(V)}),nt},vt.coordEach=$,vt.coordReduce=function ct(F,nt,V,j){var Y=V;return $(F,function(T,Ct,rt,lt,W){Y=0===Ct&&void 0===V?T:nt(Y,T,Ct,rt,lt,W)},j),Y},vt.featureEach=J,vt.featureReduce=function wt(F,nt,V){var j=V;return J(F,function(Y,T){j=0===T&&void 0===V?Y:nt(j,Y,T)}),j},vt.findPoint=function H(F,nt){if(!U.isObject(nt=nt||{}))throw new Error("options is invalid");var rt,V=nt.featureIndex||0,j=nt.multiFeatureIndex||0,Y=nt.geometryIndex||0,T=nt.coordIndex||0,Ct=nt.properties;switch(F.type){case"FeatureCollection":V<0&&(V=F.features.length+V),Ct=Ct||F.features[V].properties,rt=F.features[V].geometry;break;case"Feature":Ct=Ct||F.properties,rt=F.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":rt=F;break;default:throw new Error("geojson is invalid")}if(null===rt)return null;var lt=rt.coordinates;switch(rt.type){case"Point":return U.point(lt,Ct,nt);case"MultiPoint":return j<0&&(j=lt.length+j),U.point(lt[j],Ct,nt);case"LineString":return T<0&&(T=lt.length+T),U.point(lt[T],Ct,nt);case"Polygon":return Y<0&&(Y=lt.length+Y),T<0&&(T=lt[Y].length+T),U.point(lt[Y][T],Ct,nt);case"MultiLineString":return j<0&&(j=lt.length+j),T<0&&(T=lt[j].length+T),U.point(lt[j][T],Ct,nt);case"MultiPolygon":return j<0&&(j=lt.length+j),Y<0&&(Y=lt[j].length+Y),T<0&&(T=lt[j][Y].length-T),U.point(lt[j][Y][T],Ct,nt)}throw new Error("geojson is invalid")},vt.findSegment=function R(F,nt){if(!U.isObject(nt=nt||{}))throw new Error("options is invalid");var rt,V=nt.featureIndex||0,j=nt.multiFeatureIndex||0,Y=nt.geometryIndex||0,T=nt.segmentIndex||0,Ct=nt.properties;switch(F.type){case"FeatureCollection":V<0&&(V=F.features.length+V),Ct=Ct||F.features[V].properties,rt=F.features[V].geometry;break;case"Feature":Ct=Ct||F.properties,rt=F.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":rt=F;break;default:throw new Error("geojson is invalid")}if(null===rt)return null;var lt=rt.coordinates;switch(rt.type){case"Point":case"MultiPoint":return null;case"LineString":return T<0&&(T=lt.length+T-1),U.lineString([lt[T],lt[T+1]],Ct,nt);case"Polygon":return Y<0&&(Y=lt.length+Y),T<0&&(T=lt[Y].length+T-1),U.lineString([lt[Y][T],lt[Y][T+1]],Ct,nt);case"MultiLineString":return j<0&&(j=lt.length+j),T<0&&(T=lt[j].length+T-1),U.lineString([lt[j][T],lt[j][T+1]],Ct,nt);case"MultiPolygon":return j<0&&(j=lt.length+j),Y<0&&(Y=lt[j].length+Y),T<0&&(T=lt[j][Y].length-T-1),U.lineString([lt[j][Y][T],lt[j][Y][T+1]],Ct,nt)}throw new Error("geojson is invalid")},vt.flattenEach=Rt,vt.flattenReduce=function It(F,nt,V){var j=V;return Rt(F,function(Y,T,Ct){j=0===T&&0===Ct&&void 0===V?Y:nt(j,Y,T,Ct)}),j},vt.geomEach=Pt,vt.geomReduce=function Ut(F,nt,V){var j=V;return Pt(F,function(Y,T,Ct,rt,lt){j=0===T&&void 0===V?Y:nt(j,Y,T,Ct,rt,lt)}),j},vt.lineEach=B,vt.lineReduce=function Z(F,nt,V){var j=V;return B(F,function(Y,T,Ct,rt){j=0===T&&void 0===V?Y:nt(j,Y,T,Ct,rt)}),j},vt.propEach=ut,vt.propReduce=function _t(F,nt,V){var j=V;return ut(F,function(Y,T){j=0===T&&void 0===V?Y:nt(j,Y,T)}),j},vt.segmentEach=bt,vt.segmentReduce=function Yt(F,nt,V){var j=V,Y=!1;return bt(F,function(T,Ct,rt,lt,W){j=!1===Y&&void 0===V?T:nt(j,T,Ct,rt,lt,W),Y=!0}),j}},1098:(Dt,vt,A)=>{"use strict";var U=A(491),$=A(5436),ct=$(U("String.prototype.indexOf"));Dt.exports=function(_t,J){var wt=U(_t,!!J);return"function"==typeof wt&&ct(_t,".prototype.")>-1?$(wt):wt}},5436:(Dt,vt,A)=>{"use strict";var U=A(5333),$=A(491),ct=A(2245),ut=A(5223),_t=$("%Function.prototype.apply%"),J=$("%Function.prototype.call%"),wt=$("%Reflect.apply%",!0)||U.call(J,_t),xt=A(474),Pt=$("%Math.max%");Dt.exports=function(It){if("function"!=typeof It)throw new ut("a function is required");var bt=wt(U,J,arguments);return ct(bt,1+Pt(0,It.length-(arguments.length-1)),!0)};var Ut=function(){return wt(U,_t,arguments)};xt?xt(Dt.exports,"apply",{value:Ut}):Dt.exports.apply=Ut},3664:(Dt,vt,A)=>{"use strict";var U=A(938),$=A(7935),ct=A(4179),ut=A(6138).orient2d;function _t(V,j,Y){j=Math.max(0,void 0===j?2:j),Y=Y||0;var T=function Yt(V){for(var j=V[0],Y=V[0],T=V[0],Ct=V[0],rt=0;rt<V.length;rt++){var lt=V[rt];lt[0]<j[0]&&(j=lt),lt[0]>T[0]&&(T=lt),lt[1]<Y[1]&&(Y=lt),lt[1]>Ct[1]&&(Ct=lt)}var W=[j,Y,T,Ct],Xt=W.slice();for(rt=0;rt<V.length;rt++)ct(V[rt],W)||Xt.push(V[rt]);return function nt(V){V.sort(F);for(var j=[],Y=0;Y<V.length;Y++){for(;j.length>=2&&Rt(j[j.length-2],j[j.length-1],V[Y])<=0;)j.pop();j.push(V[Y])}for(var T=[],Ct=V.length-1;Ct>=0;Ct--){for(;T.length>=2&&Rt(T[T.length-2],T[T.length-1],V[Ct])<=0;)T.pop();T.push(V[Ct])}return T.pop(),j.pop(),j.concat(T)}(Xt)}(V),Ct=new U(16);Ct.toBBox=function($t){return{minX:$t[0],minY:$t[1],maxX:$t[0],maxY:$t[1]}},Ct.compareMinX=function($t,St){return $t[0]-St[0]},Ct.compareMinY=function($t,St){return $t[1]-St[1]},Ct.load(V);for(var W,rt=[],lt=0;lt<T.length;lt++){var Xt=T[lt];Ct.remove(Xt),W=B(Xt,W),rt.push(W)}var Bt=new U(16);for(lt=0;lt<rt.length;lt++)Bt.insert(bt(rt[lt]));for(var et=j*j,gt=Y*Y;rt.length;){var it=rt.shift(),ot=it.p,ht=it.next.p,X=Z(ot,ht);if(!(X<gt)){var Lt=X/et;(Xt=J(Ct,it.prev.p,ot,ht,it.next.next.p,Lt,Bt))&&Math.min(Z(Xt,ot),Z(Xt,ht))<=Lt&&(rt.push(it),rt.push(B(Xt,it)),Ct.remove(Xt),Bt.remove(it),Bt.insert(bt(it)),Bt.insert(bt(it.next)))}}it=W;var Mt=[];do{Mt.push(it.p),it=it.next}while(it!==W);return Mt.push(it.p),Mt}function J(V,j,Y,T,Ct,rt,lt){for(var W=new $([],wt),Xt=V.data;Xt;){for(var Bt=0;Bt<Xt.children.length;Bt++){var et=Xt.children[Bt],gt=Xt.leaf?R(et,Y,T):xt(Y,T,et);gt>rt||W.push({node:et,dist:gt})}for(;W.length&&!W.peek().node.children;){var it=W.pop(),ot=it.node,ht=R(ot,j,Y),X=R(ot,T,Ct);if(it.dist<ht&&it.dist<X&&Ut(Y,ot,lt)&&Ut(T,ot,lt))return ot}(Xt=W.pop())&&(Xt=Xt.node)}return null}function wt(V,j){return V.dist-j.dist}function xt(V,j,Y){if(Pt(V,Y)||Pt(j,Y))return 0;var T=H(V[0],V[1],j[0],j[1],Y.minX,Y.minY,Y.maxX,Y.minY);if(0===T)return 0;var Ct=H(V[0],V[1],j[0],j[1],Y.minX,Y.minY,Y.minX,Y.maxY);if(0===Ct)return 0;var rt=H(V[0],V[1],j[0],j[1],Y.maxX,Y.minY,Y.maxX,Y.maxY);if(0===rt)return 0;var lt=H(V[0],V[1],j[0],j[1],Y.minX,Y.maxY,Y.maxX,Y.maxY);return 0===lt?0:Math.min(T,Ct,rt,lt)}function Pt(V,j){return V[0]>=j.minX&&V[0]<=j.maxX&&V[1]>=j.minY&&V[1]<=j.maxY}function Ut(V,j,Y){for(var T=Math.min(V[0],j[0]),Ct=Math.min(V[1],j[1]),rt=Math.max(V[0],j[0]),lt=Math.max(V[1],j[1]),W=Y.search({minX:T,minY:Ct,maxX:rt,maxY:lt}),Xt=0;Xt<W.length;Xt++)if(It(W[Xt].p,W[Xt].next.p,V,j))return!1;return!0}function Rt(V,j,Y){return ut(V[0],V[1],j[0],j[1],Y[0],Y[1])}function It(V,j,Y,T){return V!==T&&j!==Y&&Rt(V,j,Y)>0!=Rt(V,j,T)>0&&Rt(Y,T,V)>0!=Rt(Y,T,j)>0}function bt(V){var j=V.p,Y=V.next.p;return V.minX=Math.min(j[0],Y[0]),V.minY=Math.min(j[1],Y[1]),V.maxX=Math.max(j[0],Y[0]),V.maxY=Math.max(j[1],Y[1]),V}function B(V,j){var Y={p:V,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return j?(Y.next=j.next,Y.prev=j,j.next.prev=Y,j.next=Y):(Y.prev=Y,Y.next=Y),Y}function Z(V,j){var Y=V[0]-j[0],T=V[1]-j[1];return Y*Y+T*T}function R(V,j,Y){var T=j[0],Ct=j[1],rt=Y[0]-T,lt=Y[1]-Ct;if(0!==rt||0!==lt){var W=((V[0]-T)*rt+(V[1]-Ct)*lt)/(rt*rt+lt*lt);W>1?(T=Y[0],Ct=Y[1]):W>0&&(T+=rt*W,Ct+=lt*W)}return(rt=V[0]-T)*rt+(lt=V[1]-Ct)*lt}function H(V,j,Y,T,Ct,rt,lt,W){var te,oe,De,re,Xt=Y-V,Bt=T-j,et=lt-Ct,gt=W-rt,it=V-Ct,ot=j-rt,ht=Xt*Xt+Bt*Bt,X=Xt*et+Bt*gt,Lt=et*et+gt*gt,Mt=Xt*it+Bt*ot,$t=et*it+gt*ot,St=ht*Lt-X*X,me=St,Qt=St;0===St?(oe=0,me=1,re=$t,Qt=Lt):(re=ht*$t-X*Mt,(oe=X*$t-Lt*Mt)<0?(oe=0,re=$t,Qt=Lt):oe>me&&(oe=me,re=$t+X,Qt=Lt)),re<0?(re=0,-Mt<0?oe=0:-Mt>ht?oe=me:(oe=-Mt,me=ht)):re>Qt&&(re=Qt,-Mt+X<0?oe=0:-Mt+X>ht?oe=me:(oe=-Mt+X,me=ht));var ze=(1-(De=0===re?0:re/Qt))*Ct+De*lt-((1-(te=0===oe?0:oe/me))*V+te*Y),pr=(1-De)*rt+De*W-((1-te)*j+te*T);return ze*ze+pr*pr}function F(V,j){return V[0]===j[0]?V[1]-j[1]:V[0]-j[0]}$.default&&($=$.default),Dt.exports=_t,Dt.exports.default=_t},938:function(Dt){Dt.exports=function(){"use strict";function vt(B,Z,R,H,F){!function nt(V,j,Y,T,Ct){for(;T>Y;){if(T-Y>600){var rt=T-Y+1,lt=j-Y+1,W=Math.log(rt),Xt=.5*Math.exp(2*W/3),Bt=.5*Math.sqrt(W*Xt*(rt-Xt)/rt)*(lt-rt/2<0?-1:1);nt(V,j,Math.max(Y,Math.floor(j-lt*Xt/rt+Bt)),Math.min(T,Math.floor(j+(rt-lt)*Xt/rt+Bt)),Ct)}var it=V[j],ot=Y,ht=T;for(A(V,Y,j),Ct(V[T],it)>0&&A(V,Y,T);ot<ht;){for(A(V,ot,ht),ot++,ht--;Ct(V[ot],it)<0;)ot++;for(;Ct(V[ht],it)>0;)ht--}0===Ct(V[Y],it)?A(V,Y,ht):A(V,++ht,T),ht<=j&&(Y=ht+1),j<=ht&&(T=ht-1)}}(B,Z,R||0,H||B.length-1,F||U)}function A(B,Z,R){var H=B[Z];B[Z]=B[R],B[R]=H}function U(B,Z){return B<Z?-1:B>Z?1:0}var $=function(B){void 0===B&&(B=9),this._maxEntries=Math.max(4,B),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function ct(B,Z,R){if(!R)return Z.indexOf(B);for(var H=0;H<Z.length;H++)if(R(B,Z[H]))return H;return-1}function ut(B,Z){_t(B,0,B.children.length,Z,B)}function _t(B,Z,R,H,F){F||(F=bt(null)),F.minX=1/0,F.minY=1/0,F.maxX=-1/0,F.maxY=-1/0;for(var nt=Z;nt<R;nt++){var V=B.children[nt];J(F,B.leaf?H(V):V)}return F}function J(B,Z){return B.minX=Math.min(B.minX,Z.minX),B.minY=Math.min(B.minY,Z.minY),B.maxX=Math.max(B.maxX,Z.maxX),B.maxY=Math.max(B.maxY,Z.maxY),B}function wt(B,Z){return B.minX-Z.minX}function xt(B,Z){return B.minY-Z.minY}function Pt(B){return(B.maxX-B.minX)*(B.maxY-B.minY)}function Ut(B){return B.maxX-B.minX+(B.maxY-B.minY)}function Rt(B,Z){return B.minX<=Z.minX&&B.minY<=Z.minY&&Z.maxX<=B.maxX&&Z.maxY<=B.maxY}function It(B,Z){return Z.minX<=B.maxX&&Z.minY<=B.maxY&&Z.maxX>=B.minX&&Z.maxY>=B.minY}function bt(B){return{children:B,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Yt(B,Z,R,H,F){for(var nt=[Z,R];nt.length;)if(!((R=nt.pop())-(Z=nt.pop())<=H)){var V=Z+Math.ceil((R-Z)/H/2)*H;vt(B,V,Z,R,F),nt.push(Z,V,V,R)}}return $.prototype.all=function(){return this._all(this.data,[])},$.prototype.search=function(B){var Z=this.data,R=[];if(!It(B,Z))return R;for(var H=this.toBBox,F=[];Z;){for(var nt=0;nt<Z.children.length;nt++){var V=Z.children[nt],j=Z.leaf?H(V):V;It(B,j)&&(Z.leaf?R.push(V):Rt(B,j)?this._all(V,R):F.push(V))}Z=F.pop()}return R},$.prototype.collides=function(B){var Z=this.data;if(!It(B,Z))return!1;for(var R=[];Z;){for(var H=0;H<Z.children.length;H++){var F=Z.children[H],nt=Z.leaf?this.toBBox(F):F;if(It(B,nt)){if(Z.leaf||Rt(B,nt))return!0;R.push(F)}}Z=R.pop()}return!1},$.prototype.load=function(B){if(!B||!B.length)return this;if(B.length<this._minEntries){for(var Z=0;Z<B.length;Z++)this.insert(B[Z]);return this}var R=this._build(B.slice(),0,B.length-1,0);if(this.data.children.length)if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var H=this.data;this.data=R,R=H}this._insert(R,this.data.height-R.height-1,!0)}else this.data=R;return this},$.prototype.insert=function(B){return B&&this._insert(B,this.data.height-1),this},$.prototype.clear=function(){return this.data=bt([]),this},$.prototype.remove=function(B,Z){if(!B)return this;for(var R,H,F,nt=this.data,V=this.toBBox(B),j=[],Y=[];nt||j.length;){if(nt||(nt=j.pop(),H=j[j.length-1],R=Y.pop(),F=!0),nt.leaf){var T=ct(B,nt.children,Z);if(-1!==T)return nt.children.splice(T,1),j.push(nt),this._condense(j),this}F||nt.leaf||!Rt(nt,V)?H?(R++,nt=H.children[R],F=!1):nt=null:(j.push(nt),Y.push(R),R=0,H=nt,nt=nt.children[0])}return this},$.prototype.toBBox=function(B){return B},$.prototype.compareMinX=function(B,Z){return B.minX-Z.minX},$.prototype.compareMinY=function(B,Z){return B.minY-Z.minY},$.prototype.toJSON=function(){return this.data},$.prototype.fromJSON=function(B){return this.data=B,this},$.prototype._all=function(B,Z){for(var R=[];B;)B.leaf?Z.push.apply(Z,B.children):R.push.apply(R,B.children),B=R.pop();return Z},$.prototype._build=function(B,Z,R,H){var F,nt=R-Z+1,V=this._maxEntries;if(nt<=V)return ut(F=bt(B.slice(Z,R+1)),this.toBBox),F;H||(H=Math.ceil(Math.log(nt)/Math.log(V)),V=Math.ceil(nt/Math.pow(V,H-1))),(F=bt([])).leaf=!1,F.height=H;var j=Math.ceil(nt/V),Y=j*Math.ceil(Math.sqrt(V));Yt(B,Z,R,Y,this.compareMinX);for(var T=Z;T<=R;T+=Y){var Ct=Math.min(T+Y-1,R);Yt(B,T,Ct,j,this.compareMinY);for(var rt=T;rt<=Ct;rt+=j){var lt=Math.min(rt+j-1,Ct);F.children.push(this._build(B,rt,lt,H-1))}}return ut(F,this.toBBox),F},$.prototype._chooseSubtree=function(B,Z,R,H){for(;H.push(Z),!Z.leaf&&H.length-1!==R;){for(var F=1/0,nt=1/0,V=void 0,j=0;j<Z.children.length;j++){var Y=Z.children[j],T=Pt(Y),Ct=(rt=B,lt=Y,(Math.max(lt.maxX,rt.maxX)-Math.min(lt.minX,rt.minX))*(Math.max(lt.maxY,rt.maxY)-Math.min(lt.minY,rt.minY))-T);Ct<nt?(nt=Ct,F=T<F?T:F,V=Y):Ct===nt&&T<F&&(F=T,V=Y)}Z=V||Z.children[0]}var rt,lt;return Z},$.prototype._insert=function(B,Z,R){var H=R?B:this.toBBox(B),F=[],nt=this._chooseSubtree(H,this.data,Z,F);for(nt.children.push(B),J(nt,H);Z>=0&&F[Z].children.length>this._maxEntries;)this._split(F,Z),Z--;this._adjustParentBBoxes(H,F,Z)},$.prototype._split=function(B,Z){var R=B[Z],H=R.children.length,F=this._minEntries;this._chooseSplitAxis(R,F,H);var nt=this._chooseSplitIndex(R,F,H),V=bt(R.children.splice(nt,R.children.length-nt));V.height=R.height,V.leaf=R.leaf,ut(R,this.toBBox),ut(V,this.toBBox),Z?B[Z-1].children.push(V):this._splitRoot(R,V)},$.prototype._splitRoot=function(B,Z){this.data=bt([B,Z]),this.data.height=B.height+1,this.data.leaf=!1,ut(this.data,this.toBBox)},$.prototype._chooseSplitIndex=function(B,Z,R){for(var H,F,nt,V,j,Y,T,Ct=1/0,rt=1/0,lt=Z;lt<=R-Z;lt++){var W=_t(B,0,lt,this.toBBox),Xt=_t(B,lt,R,this.toBBox),Bt=(F=W,nt=Xt,void 0,void 0,void 0,void 0,V=Math.max(F.minX,nt.minX),j=Math.max(F.minY,nt.minY),Y=Math.min(F.maxX,nt.maxX),T=Math.min(F.maxY,nt.maxY),Math.max(0,Y-V)*Math.max(0,T-j)),et=Pt(W)+Pt(Xt);Bt<Ct?(Ct=Bt,H=lt,rt=et<rt?et:rt):Bt===Ct&&et<rt&&(rt=et,H=lt)}return H||R-Z},$.prototype._chooseSplitAxis=function(B,Z,R){var H=B.leaf?this.compareMinX:wt,F=B.leaf?this.compareMinY:xt;this._allDistMargin(B,Z,R,H)<this._allDistMargin(B,Z,R,F)&&B.children.sort(H)},$.prototype._allDistMargin=function(B,Z,R,H){B.children.sort(H);for(var F=this.toBBox,nt=_t(B,0,Z,F),V=_t(B,R-Z,R,F),j=Ut(nt)+Ut(V),Y=Z;Y<R-Z;Y++){var T=B.children[Y];J(nt,B.leaf?F(T):T),j+=Ut(nt)}for(var Ct=R-Z-1;Ct>=Z;Ct--){var rt=B.children[Ct];J(V,B.leaf?F(rt):rt),j+=Ut(V)}return j},$.prototype._adjustParentBBoxes=function(B,Z,R){for(var H=R;H>=0;H--)J(Z[H],B)},$.prototype._condense=function(B){for(var Z=B.length-1,R=void 0;Z>=0;Z--)0===B[Z].children.length?Z>0?(R=B[Z-1].children).splice(R.indexOf(B[Z]),1):this.clear():ut(B[Z],this.toBBox)},$}()},3970:(Dt,vt,A)=>{var U=A(7809),$=A(8147),ct=A(314),ut=A(4720),_t=A(1139),J=A(2365),wt=Date.prototype.getTime;function Pt(It){return null==It}function Ut(It){return!(!It||"object"!=typeof It||"number"!=typeof It.length||"function"!=typeof It.copy||"function"!=typeof It.slice||It.length>0&&"number"!=typeof It[0])}Dt.exports=function xt(It,bt,Yt){var B=Yt||{};return!!(B.strict?ct(It,bt):It===bt)||(!It||!bt||"object"!=typeof It&&"object"!=typeof bt?B.strict?ct(It,bt):It==bt:function Rt(It,bt,Yt){var B,Z;if(typeof It!=typeof bt||Pt(It)||Pt(bt)||It.prototype!==bt.prototype||$(It)!==$(bt))return!1;var R=ut(It),H=ut(bt);if(R!==H)return!1;if(R||H)return It.source===bt.source&&_t(It)===_t(bt);if(J(It)&&J(bt))return wt.call(It)===wt.call(bt);var F=Ut(It),nt=Ut(bt);if(F!==nt)return!1;if(F||nt){if(It.length!==bt.length)return!1;for(B=0;B<It.length;B++)if(It[B]!==bt[B])return!1;return!0}if(typeof It!=typeof bt)return!1;try{var V=U(It),j=U(bt)}catch{return!1}if(V.length!==j.length)return!1;for(V.sort(),j.sort(),B=V.length-1;B>=0;B--)if(V[B]!=j[B])return!1;for(B=V.length-1;B>=0;B--)if(!xt(It[Z=V[B]],bt[Z],Yt))return!1;return!0}(It,bt,B))}},9224:(Dt,vt,A)=>{"use strict";var U=A(474),$=A(4203),ct=A(5223),ut=A(9262);Dt.exports=function(J,wt,xt){if(!J||"object"!=typeof J&&"function"!=typeof J)throw new ct("`obj` must be an object or a function`");if("string"!=typeof wt&&"symbol"!=typeof wt)throw new ct("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new ct("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new ct("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new ct("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new ct("`loose`, if provided, must be a boolean");var Pt=arguments.length>3?arguments[3]:null,Ut=arguments.length>4?arguments[4]:null,Rt=arguments.length>5?arguments[5]:null,It=arguments.length>6&&arguments[6],bt=!!ut&&ut(J,wt);if(U)U(J,wt,{configurable:null===Rt&&bt?bt.configurable:!Rt,enumerable:null===Pt&&bt?bt.enumerable:!Pt,value:xt,writable:null===Ut&&bt?bt.writable:!Ut});else{if(!It&&(Pt||Ut||Rt))throw new $("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");J[wt]=xt}}},1648:(Dt,vt,A)=>{"use strict";var U=A(7809),$="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ct=Object.prototype.toString,ut=Array.prototype.concat,_t=A(9224),wt=A(2486)(),xt=function(Ut,Rt,It,bt){if(Rt in Ut)if(!0===bt){if(Ut[Rt]===It)return}else if(!function(Ut){return"function"==typeof Ut&&"[object Function]"===ct.call(Ut)}(bt)||!bt())return;wt?_t(Ut,Rt,It,!0):_t(Ut,Rt,It)},Pt=function(Ut,Rt){var It=arguments.length>2?arguments[2]:{},bt=U(Rt);$&&(bt=ut.call(bt,Object.getOwnPropertySymbols(Rt)));for(var Yt=0;Yt<bt.length;Yt+=1)xt(Ut,bt[Yt],Rt[bt[Yt]],It[bt[Yt]])};Pt.supportsDescriptors=!!wt,Dt.exports=Pt},7649:Dt=>{function vt(A,U,$,ct){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(A,U,$,ct)}vt.prototype.run=function(A,U,$,ct){this._init(A,U,$,ct);for(var ut=0;ut<this._datasetLength;ut++)if(1!==this._visited[ut]){this._visited[ut]=1;var _t=this._regionQuery(ut);if(_t.length<this.minPts)this.noise.push(ut);else{var J=this.clusters.length;this.clusters.push([]),this._addToCluster(ut,J),this._expandCluster(J,_t)}}return this.clusters},vt.prototype._init=function(A,U,$,ct){if(A){if(!(A instanceof Array))throw Error("Dataset must be of type array, "+typeof A+" given");this.dataset=A,this.clusters=[],this.noise=[],this._datasetLength=A.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}U&&(this.epsilon=U),$&&(this.minPts=$),ct&&(this.distance=ct)},vt.prototype._expandCluster=function(A,U){for(var $=0;$<U.length;$++){var ct=U[$];if(1!==this._visited[ct]){this._visited[ct]=1;var ut=this._regionQuery(ct);ut.length>=this.minPts&&(U=this._mergeArrays(U,ut))}1!==this._assigned[ct]&&this._addToCluster(ct,A)}},vt.prototype._addToCluster=function(A,U){this.clusters[U].push(A),this._assigned[A]=1},vt.prototype._regionQuery=function(A){for(var U=[],$=0;$<this._datasetLength;$++)this.distance(this.dataset[A],this.dataset[$])<this.epsilon&&U.push($);return U},vt.prototype._mergeArrays=function(A,U){for(var $=U.length,ct=0;ct<$;ct++){var ut=U[ct];A.indexOf(ut)<0&&A.push(ut)}return A},vt.prototype._euclideanDistance=function(A,U){for(var $=0,ct=Math.min(A.length,U.length);ct--;)$+=(A[ct]-U[ct])*(A[ct]-U[ct]);return Math.sqrt($)},Dt.exports&&(Dt.exports=vt)},442:Dt=>{function vt(A,U,$){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(A,U,$)}vt.prototype.init=function(A,U,$){this.assignments=[],this.centroids=[],typeof A<"u"&&(this.dataset=A),typeof U<"u"&&(this.k=U),typeof $<"u"&&(this.distance=$)},vt.prototype.run=function(A,U){this.init(A,U);for(var $=this.dataset.length,ct=0;ct<this.k;ct++)this.centroids[ct]=this.randomCentroid();for(var ut=!0;ut;){ut=this.assign();for(var _t=0;_t<this.k;_t++){for(var J=new Array(Ut),wt=0,xt=0;xt<Ut;xt++)J[xt]=0;for(var Pt=0;Pt<$;Pt++){var Ut=this.dataset[Pt].length;if(_t===this.assignments[Pt]){for(xt=0;xt<Ut;xt++)J[xt]+=this.dataset[Pt][xt];wt++}}if(wt>0){for(xt=0;xt<Ut;xt++)J[xt]/=wt;this.centroids[_t]=J}else this.centroids[_t]=this.randomCentroid(),ut=!0}}return this.getClusters()},vt.prototype.randomCentroid=function(){var U,$,A=this.dataset.length-1;do{$=Math.round(Math.random()*A),U=this.dataset[$]}while(this.centroids.indexOf(U)>=0);return U},vt.prototype.assign=function(){for(var $,A=!1,U=this.dataset.length,ct=0;ct<U;ct++)($=this.argmin(this.dataset[ct],this.centroids,this.distance))!=this.assignments[ct]&&(this.assignments[ct]=$,A=!0);return A},vt.prototype.getClusters=function(){for(var U,A=new Array(this.k),$=0;$<this.assignments.length;$++)typeof A[U=this.assignments[$]]>"u"&&(A[U]=[]),A[U].push($);return A},vt.prototype.argmin=function(A,U,$){for(var J,ct=Number.MAX_VALUE,ut=0,_t=U.length,wt=0;wt<_t;wt++)(J=$(A,U[wt]))<ct&&(ct=J,ut=wt);return ut},vt.prototype.distance=function(A,U){for(var $=0,ct=Math.min(A.length,U.length);ct--;){var ut=A[ct]-U[ct];$+=ut*ut}return Math.sqrt($)},Dt.exports&&(Dt.exports=vt)},2195:(Dt,vt,A)=>{if(Dt.exports)var U=A(6216);function $(ct,ut,_t,J){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(ct,ut,_t,J)}$.prototype.run=function(ct,ut,_t,J){this._init(ct,ut,_t,J);for(var wt=0,xt=this.dataset.length;wt<xt;wt++)if(1!==this._processed[wt]){this._processed[wt]=1,this.clusters.push([wt]);var Pt=this.clusters.length-1;this._orderedList.push(wt);var Ut=new U(null,null,"asc"),Rt=this._regionQuery(wt);void 0!==this._distanceToCore(wt)&&(this._updateQueue(wt,Rt,Ut),this._expandCluster(Pt,Ut))}return this.clusters},$.prototype.getReachabilityPlot=function(){for(var ct=[],ut=0,_t=this._orderedList.length;ut<_t;ut++){var J=this._orderedList[ut];ct.push([J,this._reachability[J]])}return ct},$.prototype._init=function(ct,ut,_t,J){if(ct){if(!(ct instanceof Array))throw Error("Dataset must be of type array, "+typeof ct+" given");this.dataset=ct,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}ut&&(this.epsilon=ut),_t&&(this.minPts=_t),J&&(this.distance=J)},$.prototype._updateQueue=function(ct,ut,_t){var J=this;this._coreDistance=this._distanceToCore(ct),ut.forEach(function(wt){if(void 0===J._processed[wt]){var xt=J.distance(J.dataset[ct],J.dataset[wt]),Pt=Math.max(J._coreDistance,xt);void 0===J._reachability[wt]?(J._reachability[wt]=Pt,_t.insert(wt,Pt)):Pt<J._reachability[wt]&&(J._reachability[wt]=Pt,_t.remove(wt),_t.insert(wt,Pt))}})},$.prototype._expandCluster=function(ct,ut){for(var _t=ut.getElements(),J=0,wt=_t.length;J<wt;J++){var xt=_t[J];if(void 0===this._processed[xt]){var Pt=this._regionQuery(xt);this._processed[xt]=1,this.clusters[ct].push(xt),this._orderedList.push(xt),void 0!==this._distanceToCore(xt)&&(this._updateQueue(xt,Pt,ut),this._expandCluster(ct,ut))}}},$.prototype._distanceToCore=function(ct){for(var ut=this.epsilon,_t=0;_t<ut;_t++)if(this._regionQuery(ct,_t).length>=this.minPts)return _t},$.prototype._regionQuery=function(ct,ut){ut=ut||this.epsilon;for(var _t=[],J=0,wt=this.dataset.length;J<wt;J++)this.distance(this.dataset[ct],this.dataset[J])<ut&&_t.push(J);return _t},$.prototype._euclideanDistance=function(ct,ut){for(var _t=0,J=Math.min(ct.length,ut.length);J--;)_t+=(ct[J]-ut[J])*(ct[J]-ut[J]);return Math.sqrt(_t)},Dt.exports&&(Dt.exports=$)},6216:Dt=>{function vt(A,U,$){this._queue=[],this._priorities=[],this._sorting="desc",this._init(A,U,$)}vt.prototype.insert=function(A,U){for(var $=this._queue.length,ct=$;ct--;){var ut=this._priorities[ct];"desc"===this._sorting?U>ut&&($=ct):U<ut&&($=ct)}this._insertAt(A,U,$)},vt.prototype.remove=function(A){for(var U=this._queue.length;U--;)if(A===this._queue[U]){this._queue.splice(U,1),this._priorities.splice(U,1);break}},vt.prototype.forEach=function(A){this._queue.forEach(A)},vt.prototype.getElements=function(){return this._queue},vt.prototype.getElementPriority=function(A){return this._priorities[A]},vt.prototype.getPriorities=function(){return this._priorities},vt.prototype.getElementsWithPriorities=function(){for(var A=[],U=0,$=this._queue.length;U<$;U++)A.push([this._queue[U],this._priorities[U]]);return A},vt.prototype._init=function(A,U,$){if(A&&U){if(this._queue=[],this._priorities=[],A.length!==U.length)throw new Error("Arrays must have the same length");for(var ct=0;ct<A.length;ct++)this.insert(A[ct],U[ct])}$&&(this._sorting=$)},vt.prototype._insertAt=function(A,U,$){this._queue.length===$?(this._queue.push(A),this._priorities.push(U)):(this._queue.splice($,0,A),this._priorities.splice($,0,U))},Dt.exports&&(Dt.exports=vt)},3367:(Dt,vt,A)=>{Dt.exports&&(Dt.exports={DBSCAN:A(7649),KMEANS:A(442),OPTICS:A(2195),PriorityQueue:A(6216)})},9145:Dt=>{"use strict";function vt(et,gt,it){it=it||2;var Mt,$t,St,te,oe,De,re,ot=gt&&gt.length,ht=ot?gt[0]*it:et.length,X=A(et,0,ht,it,!0),Lt=[];if(!X||X.next===X.prev)return Lt;if(ot&&(X=function wt(et,gt,it,ot){var X,Lt,St,ht=[];for(X=0,Lt=gt.length;X<Lt;X++)(St=A(et,gt[X]*ot,X<Lt-1?gt[X+1]*ot:et.length,ot,!1))===St.next&&(St.steiner=!0),ht.push(B(St));for(ht.sort(xt),X=0;X<ht.length;X++)it=Pt(ht[X],it);return it}(et,gt,X,it)),et.length>80*it){Mt=St=et[0],$t=te=et[1];for(var me=it;me<ht;me+=it)(oe=et[me])<Mt&&(Mt=oe),(De=et[me+1])<$t&&($t=De),oe>St&&(St=oe),De>te&&(te=De);re=0!==(re=Math.max(St-Mt,te-$t))?32767/re:0}return $(X,Lt,it,Mt,$t,re,0),Lt}function A(et,gt,it,ot,ht){var X,Lt;if(ht===Bt(et,gt,it,ot)>0)for(X=gt;X<it;X+=ot)Lt=lt(X,et[X],et[X+1],Lt);else for(X=it-ot;X>=gt;X-=ot)Lt=lt(X,et[X],et[X+1],Lt);return Lt&&F(Lt,Lt.next)&&(W(Lt),Lt=Lt.next),Lt}function U(et,gt){if(!et)return et;gt||(gt=et);var ot,it=et;do{if(ot=!1,it.steiner||!F(it,it.next)&&0!==H(it.prev,it,it.next))it=it.next;else{if(W(it),(it=gt=it.prev)===it.next)break;ot=!0}}while(ot||it!==gt);return gt}function $(et,gt,it,ot,ht,X,Lt){if(et){!Lt&&X&&function It(et,gt,it,ot){var ht=et;do{0===ht.z&&(ht.z=Yt(ht.x,ht.y,gt,it,ot)),ht.prevZ=ht.prev,ht.nextZ=ht.next,ht=ht.next}while(ht!==et);ht.prevZ.nextZ=null,ht.prevZ=null,function bt(et){var gt,it,ot,ht,X,Lt,Mt,$t,St=1;do{for(it=et,et=null,X=null,Lt=0;it;){for(Lt++,ot=it,Mt=0,gt=0;gt<St&&(Mt++,ot=ot.nextZ);gt++);for($t=St;Mt>0||$t>0&&ot;)0!==Mt&&(0===$t||!ot||it.z<=ot.z)?(ht=it,it=it.nextZ,Mt--):(ht=ot,ot=ot.nextZ,$t--),X?X.nextZ=ht:et=ht,ht.prevZ=X,X=ht;it=ot}X.nextZ=null,St*=2}while(Lt>1)}(ht)}(et,ot,ht,X);for(var $t,St,Mt=et;et.prev!==et.next;)if($t=et.prev,St=et.next,X?ut(et,ot,ht,X):ct(et))gt.push($t.i/it|0),gt.push(et.i/it|0),gt.push(St.i/it|0),W(et),et=St.next,Mt=St.next;else if((et=St)===Mt){Lt?1===Lt?$(et=_t(U(et),gt,it),gt,it,ot,ht,X,2):2===Lt&&J(et,gt,it,ot,ht,X):$(U(et),gt,it,ot,ht,X,1);break}}}function ct(et){var gt=et.prev,it=et,ot=et.next;if(H(gt,it,ot)>=0)return!1;for(var ht=gt.x,X=it.x,Lt=ot.x,Mt=gt.y,$t=it.y,St=ot.y,te=ht<X?ht<Lt?ht:Lt:X<Lt?X:Lt,oe=Mt<$t?Mt<St?Mt:St:$t<St?$t:St,De=ht>X?ht>Lt?ht:Lt:X>Lt?X:Lt,re=Mt>$t?Mt>St?Mt:St:$t>St?$t:St,me=ot.next;me!==gt;){if(me.x>=te&&me.x<=De&&me.y>=oe&&me.y<=re&&Z(ht,Mt,X,$t,Lt,St,me.x,me.y)&&H(me.prev,me,me.next)>=0)return!1;me=me.next}return!0}function ut(et,gt,it,ot){var ht=et.prev,X=et,Lt=et.next;if(H(ht,X,Lt)>=0)return!1;for(var Mt=ht.x,$t=X.x,St=Lt.x,te=ht.y,oe=X.y,De=Lt.y,re=Mt<$t?Mt<St?Mt:St:$t<St?$t:St,me=te<oe?te<De?te:De:oe<De?oe:De,Qt=Mt>$t?Mt>St?Mt:St:$t>St?$t:St,Qe=te>oe?te>De?te:De:oe>De?oe:De,Cn=Yt(re,me,gt,it,ot),cn=Yt(Qt,Qe,gt,it,ot),Pe=et.prevZ,ze=et.nextZ;Pe&&Pe.z>=Cn&&ze&&ze.z<=cn;){if(Pe.x>=re&&Pe.x<=Qt&&Pe.y>=me&&Pe.y<=Qe&&Pe!==ht&&Pe!==Lt&&Z(Mt,te,$t,oe,St,De,Pe.x,Pe.y)&&H(Pe.prev,Pe,Pe.next)>=0||(Pe=Pe.prevZ,ze.x>=re&&ze.x<=Qt&&ze.y>=me&&ze.y<=Qe&&ze!==ht&&ze!==Lt&&Z(Mt,te,$t,oe,St,De,ze.x,ze.y)&&H(ze.prev,ze,ze.next)>=0))return!1;ze=ze.nextZ}for(;Pe&&Pe.z>=Cn;){if(Pe.x>=re&&Pe.x<=Qt&&Pe.y>=me&&Pe.y<=Qe&&Pe!==ht&&Pe!==Lt&&Z(Mt,te,$t,oe,St,De,Pe.x,Pe.y)&&H(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.prevZ}for(;ze&&ze.z<=cn;){if(ze.x>=re&&ze.x<=Qt&&ze.y>=me&&ze.y<=Qe&&ze!==ht&&ze!==Lt&&Z(Mt,te,$t,oe,St,De,ze.x,ze.y)&&H(ze.prev,ze,ze.next)>=0)return!1;ze=ze.nextZ}return!0}function _t(et,gt,it){var ot=et;do{var ht=ot.prev,X=ot.next.next;!F(ht,X)&&nt(ht,ot,ot.next,X)&&T(ht,X)&&T(X,ht)&&(gt.push(ht.i/it|0),gt.push(ot.i/it|0),gt.push(X.i/it|0),W(ot),W(ot.next),ot=et=X),ot=ot.next}while(ot!==et);return U(ot)}function J(et,gt,it,ot,ht,X){var Lt=et;do{for(var Mt=Lt.next.next;Mt!==Lt.prev;){if(Lt.i!==Mt.i&&R(Lt,Mt)){var $t=rt(Lt,Mt);return Lt=U(Lt,Lt.next),$t=U($t,$t.next),$(Lt,gt,it,ot,ht,X,0),void $($t,gt,it,ot,ht,X,0)}Mt=Mt.next}Lt=Lt.next}while(Lt!==et)}function xt(et,gt){return et.x-gt.x}function Pt(et,gt){var it=function Ut(et,gt){var Lt,it=gt,ot=et.x,ht=et.y,X=-1/0;do{if(ht<=it.y&&ht>=it.next.y&&it.next.y!==it.y){var Mt=it.x+(ht-it.y)*(it.next.x-it.x)/(it.next.y-it.y);if(Mt<=ot&&Mt>X&&(X=Mt,Lt=it.x<it.next.x?it:it.next,Mt===ot))return Lt}it=it.next}while(it!==gt);if(!Lt)return null;var De,$t=Lt,St=Lt.x,te=Lt.y,oe=1/0;it=Lt;do{ot>=it.x&&it.x>=St&&ot!==it.x&&Z(ht<te?ot:X,ht,St,te,ht<te?X:ot,ht,it.x,it.y)&&(De=Math.abs(ht-it.y)/(ot-it.x),T(it,et)&&(De<oe||De===oe&&(it.x>Lt.x||it.x===Lt.x&&Rt(Lt,it)))&&(Lt=it,oe=De)),it=it.next}while(it!==$t);return Lt}(et,gt);if(!it)return gt;var ot=rt(it,et);return U(ot,ot.next),U(it,it.next)}function Rt(et,gt){return H(et.prev,et,gt.prev)<0&&H(gt.next,et,et.next)<0}function Yt(et,gt,it,ot,ht){return(et=1431655765&((et=858993459&((et=252645135&((et=16711935&((et=(et-it)*ht|0)|et<<8))|et<<4))|et<<2))|et<<1))|(gt=1431655765&((gt=858993459&((gt=252645135&((gt=16711935&((gt=(gt-ot)*ht|0)|gt<<8))|gt<<4))|gt<<2))|gt<<1))<<1}function B(et){var gt=et,it=et;do{(gt.x<it.x||gt.x===it.x&&gt.y<it.y)&&(it=gt),gt=gt.next}while(gt!==et);return it}function Z(et,gt,it,ot,ht,X,Lt,Mt){return(ht-Lt)*(gt-Mt)>=(et-Lt)*(X-Mt)&&(et-Lt)*(ot-Mt)>=(it-Lt)*(gt-Mt)&&(it-Lt)*(X-Mt)>=(ht-Lt)*(ot-Mt)}function R(et,gt){return et.next.i!==gt.i&&et.prev.i!==gt.i&&!function Y(et,gt){var it=et;do{if(it.i!==et.i&&it.next.i!==et.i&&it.i!==gt.i&&it.next.i!==gt.i&&nt(it,it.next,et,gt))return!0;it=it.next}while(it!==et);return!1}(et,gt)&&(T(et,gt)&&T(gt,et)&&function Ct(et,gt){var it=et,ot=!1,ht=(et.x+gt.x)/2,X=(et.y+gt.y)/2;do{it.y>X!=it.next.y>X&&it.next.y!==it.y&&ht<(it.next.x-it.x)*(X-it.y)/(it.next.y-it.y)+it.x&&(ot=!ot),it=it.next}while(it!==et);return ot}(et,gt)&&(H(et.prev,et,gt.prev)||H(et,gt.prev,gt))||F(et,gt)&&H(et.prev,et,et.next)>0&&H(gt.prev,gt,gt.next)>0)}function H(et,gt,it){return(gt.y-et.y)*(it.x-gt.x)-(gt.x-et.x)*(it.y-gt.y)}function F(et,gt){return et.x===gt.x&&et.y===gt.y}function nt(et,gt,it,ot){var ht=j(H(et,gt,it)),X=j(H(et,gt,ot)),Lt=j(H(it,ot,et)),Mt=j(H(it,ot,gt));return!!(ht!==X&&Lt!==Mt||0===ht&&V(et,it,gt)||0===X&&V(et,ot,gt)||0===Lt&&V(it,et,ot)||0===Mt&&V(it,gt,ot))}function V(et,gt,it){return gt.x<=Math.max(et.x,it.x)&&gt.x>=Math.min(et.x,it.x)&&gt.y<=Math.max(et.y,it.y)&&gt.y>=Math.min(et.y,it.y)}function j(et){return et>0?1:et<0?-1:0}function T(et,gt){return H(et.prev,et,et.next)<0?H(et,gt,et.next)>=0&&H(et,et.prev,gt)>=0:H(et,gt,et.prev)<0||H(et,et.next,gt)<0}function rt(et,gt){var it=new Xt(et.i,et.x,et.y),ot=new Xt(gt.i,gt.x,gt.y),ht=et.next,X=gt.prev;return et.next=gt,gt.prev=et,it.next=ht,ht.prev=it,ot.next=it,it.prev=ot,X.next=ot,ot.prev=X,ot}function lt(et,gt,it,ot){var ht=new Xt(et,gt,it);return ot?(ht.next=ot.next,ht.prev=ot,ot.next.prev=ht,ot.next=ht):(ht.prev=ht,ht.next=ht),ht}function W(et){et.next.prev=et.prev,et.prev.next=et.next,et.prevZ&&(et.prevZ.nextZ=et.nextZ),et.nextZ&&(et.nextZ.prevZ=et.prevZ)}function Xt(et,gt,it){this.i=et,this.x=gt,this.y=it,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Bt(et,gt,it,ot){for(var ht=0,X=gt,Lt=it-ot;X<it;X+=ot)ht+=(et[Lt]-et[X])*(et[X+1]+et[Lt+1]),Lt=X;return ht}Dt.exports=vt,Dt.exports.default=vt,vt.deviation=function(et,gt,it,ot){var ht=gt&&gt.length,Lt=Math.abs(Bt(et,0,ht?gt[0]*it:et.length,it));if(ht)for(var Mt=0,$t=gt.length;Mt<$t;Mt++)Lt-=Math.abs(Bt(et,gt[Mt]*it,Mt<$t-1?gt[Mt+1]*it:et.length,it));var oe=0;for(Mt=0;Mt<ot.length;Mt+=3){var De=ot[Mt]*it,re=ot[Mt+1]*it,me=ot[Mt+2]*it;oe+=Math.abs((et[De]-et[me])*(et[re+1]-et[De+1])-(et[De]-et[re])*(et[me+1]-et[De+1]))}return 0===Lt&&0===oe?0:Math.abs((oe-Lt)/Lt)},vt.flatten=function(et){for(var gt=et[0][0].length,it={vertices:[],holes:[],dimensions:gt},ot=0,ht=0;ht<et.length;ht++){for(var X=0;X<et[ht].length;X++)for(var Lt=0;Lt<gt;Lt++)it.vertices.push(et[ht][X][Lt]);ht>0&&it.holes.push(ot+=et[ht-1].length)}return it}},474:(Dt,vt,A)=>{"use strict";var $=A(491)("%Object.defineProperty%",!0)||!1;if($)try{$({},"a",{value:1})}catch{$=!1}Dt.exports=$},4500:Dt=>{"use strict";Dt.exports=EvalError},2050:Dt=>{"use strict";Dt.exports=Error},2992:Dt=>{"use strict";Dt.exports=RangeError},3944:Dt=>{"use strict";Dt.exports=ReferenceError},4203:Dt=>{"use strict";Dt.exports=SyntaxError},5223:Dt=>{"use strict";Dt.exports=TypeError},6130:Dt=>{"use strict";Dt.exports=URIError},238:Dt=>{"use strict";var A=Object.prototype.toString,U=Math.max,ct=function(wt,xt){for(var Pt=[],Ut=0;Ut<wt.length;Ut+=1)Pt[Ut]=wt[Ut];for(var Rt=0;Rt<xt.length;Rt+=1)Pt[Rt+wt.length]=xt[Rt];return Pt};Dt.exports=function(wt){var xt=this;if("function"!=typeof xt||"[object Function]"!==A.apply(xt))throw new TypeError("Function.prototype.bind called on incompatible "+xt);for(var Ut,Pt=function(wt,xt){for(var Pt=[],Ut=1,Rt=0;Ut<wt.length;Ut+=1,Rt+=1)Pt[Rt]=wt[Ut];return Pt}(arguments),It=U(0,xt.length-Pt.length),bt=[],Yt=0;Yt<It;Yt++)bt[Yt]="$"+Yt;if(Ut=Function("binder","return function ("+function(J,wt){for(var xt="",Pt=0;Pt<J.length;Pt+=1)xt+=J[Pt],Pt+1<J.length&&(xt+=",");return xt}(bt)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof Ut){var Z=xt.apply(this,ct(Pt,arguments));return Object(Z)===Z?Z:this}return xt.apply(wt,ct(Pt,arguments))}),xt.prototype){var B=function(){};B.prototype=xt.prototype,Ut.prototype=new B,B.prototype=null}return Ut}},5333:(Dt,vt,A)=>{"use strict";var U=A(238);Dt.exports=Function.prototype.bind||U},1552:Dt=>{"use strict";var vt=function(){return"string"==typeof function(){}.name},A=Object.getOwnPropertyDescriptor;if(A)try{A([],"length")}catch{A=null}vt.functionsHaveConfigurableNames=function(){if(!vt()||!A)return!1;var ct=A(function(){},"name");return!!ct&&!!ct.configurable};var U=Function.prototype.bind;vt.boundFunctionsHaveNames=function(){return vt()&&"function"==typeof U&&""!==function(){}.bind().name},Dt.exports=vt},3198:(Dt,vt,A)=>{var U=A(3970),$=function(J){this.precision=J&&J.precision?J.precision:17,this.direction=!(!J||!J.direction)&&J.direction,this.pseudoNode=!(!J||!J.pseudoNode)&&J.pseudoNode,this.objectComparator=J&&J.objectComparator?J.objectComparator:_t};function ct(J){return J.coordinates.map(function(wt){return{type:J.type.replace("Multi",""),coordinates:wt}})}function ut(J,wt){return J.hasOwnProperty("coordinates")?J.coordinates.length===wt.coordinates.length:J.length===wt.length}function _t(J,wt){return U(J,wt,{strict:!0})}$.prototype.compare=function(J,wt){if(J.type!==wt.type||!ut(J,wt))return!1;switch(J.type){case"Point":return this.compareCoord(J.coordinates,wt.coordinates);case"LineString":return this.compareLine(J.coordinates,wt.coordinates,0,!1);case"Polygon":return this.comparePolygon(J,wt);case"Feature":return this.compareFeature(J,wt);default:if(0===J.type.indexOf("Multi")){var xt=this,Pt=ct(J),Ut=ct(wt);return Pt.every(function(Rt){return this.some(function(It){return xt.compare(Rt,It)})},Ut)}}return!1},$.prototype.compareCoord=function(J,wt){if(J.length!==wt.length)return!1;for(var xt=0;xt<J.length;xt++)if(J[xt].toFixed(this.precision)!==wt[xt].toFixed(this.precision))return!1;return!0},$.prototype.compareLine=function(J,wt,xt,Pt){if(!ut(J,wt))return!1;var Ut=this.pseudoNode?J:this.removePseudo(J),Rt=this.pseudoNode?wt:this.removePseudo(wt);if(!Pt||this.compareCoord(Ut[0],Rt[0])||(Rt=this.fixStartIndex(Rt,Ut))){var It=this.compareCoord(Ut[xt],Rt[xt]);return this.direction||It?this.comparePath(Ut,Rt):!!this.compareCoord(Ut[xt],Rt[Rt.length-(1+xt)])&&this.comparePath(Ut.slice().reverse(),Rt)}},$.prototype.fixStartIndex=function(J,wt){for(var xt,Pt=-1,Ut=0;Ut<J.length;Ut++)if(this.compareCoord(J[Ut],wt[0])){Pt=Ut;break}return Pt>=0&&(xt=[].concat(J.slice(Pt,J.length),J.slice(1,Pt+1))),xt},$.prototype.comparePath=function(J,wt){var xt=this;return J.every(function(Pt,Ut){return xt.compareCoord(Pt,this[Ut])},wt)},$.prototype.comparePolygon=function(J,wt){if(this.compareLine(J.coordinates[0],wt.coordinates[0],1,!0)){var xt=J.coordinates.slice(1,J.coordinates.length),Pt=wt.coordinates.slice(1,wt.coordinates.length),Ut=this;return xt.every(function(Rt){return this.some(function(It){return Ut.compareLine(Rt,It,1,!0)})},Pt)}return!1},$.prototype.compareFeature=function(J,wt){return!(J.id!==wt.id||!this.objectComparator(J.properties,wt.properties)||!this.compareBBox(J,wt))&&this.compare(J.geometry,wt.geometry)},$.prototype.compareBBox=function(J,wt){return!!(!J.bbox&&!wt.bbox||J.bbox&&wt.bbox&&this.compareCoord(J.bbox,wt.bbox))},$.prototype.removePseudo=function(J){return J},Dt.exports=$},5665:(Dt,vt,A)=>{var U=A(7571),$=A(621),ct=A(8570),ut=A(1568).Z,_t=ct.featureEach,xt=$.featureCollection;function Pt(Ut){var Rt=new U(Ut);return Rt.insert=function(It){if("Feature"!==It.type)throw new Error("invalid feature");return It.bbox=It.bbox?It.bbox:ut(It),U.prototype.insert.call(this,It)},Rt.load=function(It){var bt=[];return Array.isArray(It)?It.forEach(function(Yt){if("Feature"!==Yt.type)throw new Error("invalid features");Yt.bbox=Yt.bbox?Yt.bbox:ut(Yt),bt.push(Yt)}):_t(It,function(Yt){if("Feature"!==Yt.type)throw new Error("invalid features");Yt.bbox=Yt.bbox?Yt.bbox:ut(Yt),bt.push(Yt)}),U.prototype.load.call(this,bt)},Rt.remove=function(It,bt){if("Feature"!==It.type)throw new Error("invalid feature");return It.bbox=It.bbox?It.bbox:ut(It),U.prototype.remove.call(this,It,bt)},Rt.clear=function(){return U.prototype.clear.call(this)},Rt.search=function(It){var bt=U.prototype.search.call(this,this.toBBox(It));return xt(bt)},Rt.collides=function(It){return U.prototype.collides.call(this,this.toBBox(It))},Rt.all=function(){var It=U.prototype.all.call(this);return xt(It)},Rt.toJSON=function(){return U.prototype.toJSON.call(this)},Rt.fromJSON=function(It){return U.prototype.fromJSON.call(this,It)},Rt.toBBox=function(It){var bt;if(It.bbox)bt=It.bbox;else if(Array.isArray(It)&&4===It.length)bt=It;else if(Array.isArray(It)&&6===It.length)bt=[It[0],It[1],It[3],It[4]];else if("Feature"===It.type)bt=ut(It);else{if("FeatureCollection"!==It.type)throw new Error("invalid geojson");bt=ut(It)}return{minX:bt[0],minY:bt[1],maxX:bt[2],maxY:bt[3]}},Rt}Dt.exports=Pt,Dt.exports.default=Pt},7571:function(Dt){Dt.exports=function(){"use strict";function vt(B,Z,R,H,F){!function nt(V,j,Y,T,Ct){for(;T>Y;){if(T-Y>600){var rt=T-Y+1,lt=j-Y+1,W=Math.log(rt),Xt=.5*Math.exp(2*W/3),Bt=.5*Math.sqrt(W*Xt*(rt-Xt)/rt)*(lt-rt/2<0?-1:1);nt(V,j,Math.max(Y,Math.floor(j-lt*Xt/rt+Bt)),Math.min(T,Math.floor(j+(rt-lt)*Xt/rt+Bt)),Ct)}var it=V[j],ot=Y,ht=T;for(A(V,Y,j),Ct(V[T],it)>0&&A(V,Y,T);ot<ht;){for(A(V,ot,ht),ot++,ht--;Ct(V[ot],it)<0;)ot++;for(;Ct(V[ht],it)>0;)ht--}0===Ct(V[Y],it)?A(V,Y,ht):A(V,++ht,T),ht<=j&&(Y=ht+1),j<=ht&&(T=ht-1)}}(B,Z,R||0,H||B.length-1,F||U)}function A(B,Z,R){var H=B[Z];B[Z]=B[R],B[R]=H}function U(B,Z){return B<Z?-1:B>Z?1:0}var $=function(B){void 0===B&&(B=9),this._maxEntries=Math.max(4,B),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function ct(B,Z,R){if(!R)return Z.indexOf(B);for(var H=0;H<Z.length;H++)if(R(B,Z[H]))return H;return-1}function ut(B,Z){_t(B,0,B.children.length,Z,B)}function _t(B,Z,R,H,F){F||(F=bt(null)),F.minX=1/0,F.minY=1/0,F.maxX=-1/0,F.maxY=-1/0;for(var nt=Z;nt<R;nt++){var V=B.children[nt];J(F,B.leaf?H(V):V)}return F}function J(B,Z){return B.minX=Math.min(B.minX,Z.minX),B.minY=Math.min(B.minY,Z.minY),B.maxX=Math.max(B.maxX,Z.maxX),B.maxY=Math.max(B.maxY,Z.maxY),B}function wt(B,Z){return B.minX-Z.minX}function xt(B,Z){return B.minY-Z.minY}function Pt(B){return(B.maxX-B.minX)*(B.maxY-B.minY)}function Ut(B){return B.maxX-B.minX+(B.maxY-B.minY)}function Rt(B,Z){return B.minX<=Z.minX&&B.minY<=Z.minY&&Z.maxX<=B.maxX&&Z.maxY<=B.maxY}function It(B,Z){return Z.minX<=B.maxX&&Z.minY<=B.maxY&&Z.maxX>=B.minX&&Z.maxY>=B.minY}function bt(B){return{children:B,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Yt(B,Z,R,H,F){for(var nt=[Z,R];nt.length;)if(!((R=nt.pop())-(Z=nt.pop())<=H)){var V=Z+Math.ceil((R-Z)/H/2)*H;vt(B,V,Z,R,F),nt.push(Z,V,V,R)}}return $.prototype.all=function(){return this._all(this.data,[])},$.prototype.search=function(B){var Z=this.data,R=[];if(!It(B,Z))return R;for(var H=this.toBBox,F=[];Z;){for(var nt=0;nt<Z.children.length;nt++){var V=Z.children[nt],j=Z.leaf?H(V):V;It(B,j)&&(Z.leaf?R.push(V):Rt(B,j)?this._all(V,R):F.push(V))}Z=F.pop()}return R},$.prototype.collides=function(B){var Z=this.data;if(!It(B,Z))return!1;for(var R=[];Z;){for(var H=0;H<Z.children.length;H++){var F=Z.children[H],nt=Z.leaf?this.toBBox(F):F;if(It(B,nt)){if(Z.leaf||Rt(B,nt))return!0;R.push(F)}}Z=R.pop()}return!1},$.prototype.load=function(B){if(!B||!B.length)return this;if(B.length<this._minEntries){for(var Z=0;Z<B.length;Z++)this.insert(B[Z]);return this}var R=this._build(B.slice(),0,B.length-1,0);if(this.data.children.length)if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var H=this.data;this.data=R,R=H}this._insert(R,this.data.height-R.height-1,!0)}else this.data=R;return this},$.prototype.insert=function(B){return B&&this._insert(B,this.data.height-1),this},$.prototype.clear=function(){return this.data=bt([]),this},$.prototype.remove=function(B,Z){if(!B)return this;for(var R,H,F,nt=this.data,V=this.toBBox(B),j=[],Y=[];nt||j.length;){if(nt||(nt=j.pop(),H=j[j.length-1],R=Y.pop(),F=!0),nt.leaf){var T=ct(B,nt.children,Z);if(-1!==T)return nt.children.splice(T,1),j.push(nt),this._condense(j),this}F||nt.leaf||!Rt(nt,V)?H?(R++,nt=H.children[R],F=!1):nt=null:(j.push(nt),Y.push(R),R=0,H=nt,nt=nt.children[0])}return this},$.prototype.toBBox=function(B){return B},$.prototype.compareMinX=function(B,Z){return B.minX-Z.minX},$.prototype.compareMinY=function(B,Z){return B.minY-Z.minY},$.prototype.toJSON=function(){return this.data},$.prototype.fromJSON=function(B){return this.data=B,this},$.prototype._all=function(B,Z){for(var R=[];B;)B.leaf?Z.push.apply(Z,B.children):R.push.apply(R,B.children),B=R.pop();return Z},$.prototype._build=function(B,Z,R,H){var F,nt=R-Z+1,V=this._maxEntries;if(nt<=V)return ut(F=bt(B.slice(Z,R+1)),this.toBBox),F;H||(H=Math.ceil(Math.log(nt)/Math.log(V)),V=Math.ceil(nt/Math.pow(V,H-1))),(F=bt([])).leaf=!1,F.height=H;var j=Math.ceil(nt/V),Y=j*Math.ceil(Math.sqrt(V));Yt(B,Z,R,Y,this.compareMinX);for(var T=Z;T<=R;T+=Y){var Ct=Math.min(T+Y-1,R);Yt(B,T,Ct,j,this.compareMinY);for(var rt=T;rt<=Ct;rt+=j){var lt=Math.min(rt+j-1,Ct);F.children.push(this._build(B,rt,lt,H-1))}}return ut(F,this.toBBox),F},$.prototype._chooseSubtree=function(B,Z,R,H){for(;H.push(Z),!Z.leaf&&H.length-1!==R;){for(var F=1/0,nt=1/0,V=void 0,j=0;j<Z.children.length;j++){var Y=Z.children[j],T=Pt(Y),Ct=(rt=B,lt=Y,(Math.max(lt.maxX,rt.maxX)-Math.min(lt.minX,rt.minX))*(Math.max(lt.maxY,rt.maxY)-Math.min(lt.minY,rt.minY))-T);Ct<nt?(nt=Ct,F=T<F?T:F,V=Y):Ct===nt&&T<F&&(F=T,V=Y)}Z=V||Z.children[0]}var rt,lt;return Z},$.prototype._insert=function(B,Z,R){var H=R?B:this.toBBox(B),F=[],nt=this._chooseSubtree(H,this.data,Z,F);for(nt.children.push(B),J(nt,H);Z>=0&&F[Z].children.length>this._maxEntries;)this._split(F,Z),Z--;this._adjustParentBBoxes(H,F,Z)},$.prototype._split=function(B,Z){var R=B[Z],H=R.children.length,F=this._minEntries;this._chooseSplitAxis(R,F,H);var nt=this._chooseSplitIndex(R,F,H),V=bt(R.children.splice(nt,R.children.length-nt));V.height=R.height,V.leaf=R.leaf,ut(R,this.toBBox),ut(V,this.toBBox),Z?B[Z-1].children.push(V):this._splitRoot(R,V)},$.prototype._splitRoot=function(B,Z){this.data=bt([B,Z]),this.data.height=B.height+1,this.data.leaf=!1,ut(this.data,this.toBBox)},$.prototype._chooseSplitIndex=function(B,Z,R){for(var H,F,nt,V,j,Y,T,Ct=1/0,rt=1/0,lt=Z;lt<=R-Z;lt++){var W=_t(B,0,lt,this.toBBox),Xt=_t(B,lt,R,this.toBBox),Bt=(F=W,nt=Xt,void 0,void 0,void 0,void 0,V=Math.max(F.minX,nt.minX),j=Math.max(F.minY,nt.minY),Y=Math.min(F.maxX,nt.maxX),T=Math.min(F.maxY,nt.maxY),Math.max(0,Y-V)*Math.max(0,T-j)),et=Pt(W)+Pt(Xt);Bt<Ct?(Ct=Bt,H=lt,rt=et<rt?et:rt):Bt===Ct&&et<rt&&(rt=et,H=lt)}return H||R-Z},$.prototype._chooseSplitAxis=function(B,Z,R){var H=B.leaf?this.compareMinX:wt,F=B.leaf?this.compareMinY:xt;this._allDistMargin(B,Z,R,H)<this._allDistMargin(B,Z,R,F)&&B.children.sort(H)},$.prototype._allDistMargin=function(B,Z,R,H){B.children.sort(H);for(var F=this.toBBox,nt=_t(B,0,Z,F),V=_t(B,R-Z,R,F),j=Ut(nt)+Ut(V),Y=Z;Y<R-Z;Y++){var T=B.children[Y];J(nt,B.leaf?F(T):T),j+=Ut(nt)}for(var Ct=R-Z-1;Ct>=Z;Ct--){var rt=B.children[Ct];J(V,B.leaf?F(rt):rt),j+=Ut(V)}return j},$.prototype._adjustParentBBoxes=function(B,Z,R){for(var H=R;H>=0;H--)J(Z[H],B)},$.prototype._condense=function(B){for(var Z=B.length-1,R=void 0;Z>=0;Z--)0===B[Z].children.length?Z>0?(R=B[Z-1].children).splice(R.indexOf(B[Z]),1):this.clear():ut(B[Z],this.toBBox)},$}()},491:(Dt,vt,A)=>{"use strict";var U,$=A(2050),ct=A(4500),ut=A(2992),_t=A(3944),J=A(4203),wt=A(5223),xt=A(6130),Pt=Function,Ut=function(ot){try{return Pt('"use strict"; return ('+ot+").constructor;")()}catch{}},Rt=Object.getOwnPropertyDescriptor;if(Rt)try{Rt({},"")}catch{Rt=null}var It=function(){throw new wt},bt=Rt?function(){try{return It}catch{try{return Rt(arguments,"callee").get}catch{return It}}}():It,Yt=A(6152)(),B=A(9028)(),Z=Object.getPrototypeOf||(B?function(ot){return ot.__proto__}:null),R={},H=typeof Uint8Array>"u"||!Z?U:Z(Uint8Array),F={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?U:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?U:ArrayBuffer,"%ArrayIteratorPrototype%":Yt&&Z?Z([][Symbol.iterator]()):U,"%AsyncFromSyncIteratorPrototype%":U,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":typeof Atomics>"u"?U:Atomics,"%BigInt%":typeof BigInt>"u"?U:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?U:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?U:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?U:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$,"%eval%":eval,"%EvalError%":ct,"%Float32Array%":typeof Float32Array>"u"?U:Float32Array,"%Float64Array%":typeof Float64Array>"u"?U:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?U:FinalizationRegistry,"%Function%":Pt,"%GeneratorFunction%":R,"%Int8Array%":typeof Int8Array>"u"?U:Int8Array,"%Int16Array%":typeof Int16Array>"u"?U:Int16Array,"%Int32Array%":typeof Int32Array>"u"?U:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Yt&&Z?Z(Z([][Symbol.iterator]())):U,"%JSON%":"object"==typeof JSON?JSON:U,"%Map%":typeof Map>"u"?U:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Yt||!Z?U:Z((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?U:Promise,"%Proxy%":typeof Proxy>"u"?U:Proxy,"%RangeError%":ut,"%ReferenceError%":_t,"%Reflect%":typeof Reflect>"u"?U:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?U:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Yt||!Z?U:Z((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?U:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Yt&&Z?Z(""[Symbol.iterator]()):U,"%Symbol%":Yt?Symbol:U,"%SyntaxError%":J,"%ThrowTypeError%":bt,"%TypedArray%":H,"%TypeError%":wt,"%Uint8Array%":typeof Uint8Array>"u"?U:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?U:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?U:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?U:Uint32Array,"%URIError%":xt,"%WeakMap%":typeof WeakMap>"u"?U:WeakMap,"%WeakRef%":typeof WeakRef>"u"?U:WeakRef,"%WeakSet%":typeof WeakSet>"u"?U:WeakSet};if(Z)try{null.error}catch(ot){var nt=Z(Z(ot));F["%Error.prototype%"]=nt}var V=function ot(ht){var X;if("%AsyncFunction%"===ht)X=Ut("async function () {}");else if("%GeneratorFunction%"===ht)X=Ut("function* () {}");else if("%AsyncGeneratorFunction%"===ht)X=Ut("async function* () {}");else if("%AsyncGenerator%"===ht){var Lt=ot("%AsyncGeneratorFunction%");Lt&&(X=Lt.prototype)}else if("%AsyncIteratorPrototype%"===ht){var Mt=ot("%AsyncGenerator%");Mt&&Z&&(X=Z(Mt.prototype))}return F[ht]=X,X},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Y=A(5333),T=A(836),Ct=Y.call(Function.call,Array.prototype.concat),rt=Y.call(Function.apply,Array.prototype.splice),lt=Y.call(Function.call,String.prototype.replace),W=Y.call(Function.call,String.prototype.slice),Xt=Y.call(Function.call,RegExp.prototype.exec),Bt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,et=/\\(\\)?/g,it=function(ht,X){var Mt,Lt=ht;if(T(j,Lt)&&(Lt="%"+(Mt=j[Lt])[0]+"%"),T(F,Lt)){var $t=F[Lt];if($t===R&&($t=V(Lt)),typeof $t>"u"&&!X)throw new wt("intrinsic "+ht+" exists, but is not available. Please file an issue!");return{alias:Mt,name:Lt,value:$t}}throw new J("intrinsic "+ht+" does not exist!")};Dt.exports=function(ht,X){if("string"!=typeof ht||0===ht.length)throw new wt("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof X)throw new wt('"allowMissing" argument must be a boolean');if(null===Xt(/^%?[^%]*%?$/,ht))throw new J("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Lt=function(ht){var X=W(ht,0,1),Lt=W(ht,-1);if("%"===X&&"%"!==Lt)throw new J("invalid intrinsic syntax, expected closing `%`");if("%"===Lt&&"%"!==X)throw new J("invalid intrinsic syntax, expected opening `%`");var Mt=[];return lt(ht,Bt,function($t,St,te,oe){Mt[Mt.length]=te?lt(oe,et,"$1"):St||$t}),Mt}(ht),Mt=Lt.length>0?Lt[0]:"",$t=it("%"+Mt+"%",X),St=$t.name,te=$t.value,oe=!1,De=$t.alias;De&&(Mt=De[0],rt(Lt,Ct([0,1],De)));for(var re=1,me=!0;re<Lt.length;re+=1){var Qt=Lt[re],Qe=W(Qt,0,1),Cn=W(Qt,-1);if(('"'===Qe||"'"===Qe||"`"===Qe||'"'===Cn||"'"===Cn||"`"===Cn)&&Qe!==Cn)throw new J("property names with quotes must have matching quotes");if(("constructor"===Qt||!me)&&(oe=!0),T(F,St="%"+(Mt+="."+Qt)+"%"))te=F[St];else if(null!=te){if(!(Qt in te)){if(!X)throw new wt("base intrinsic for "+ht+" exists, but the property is not available.");return}if(Rt&&re+1>=Lt.length){var cn=Rt(te,Qt);te=(me=!!cn)&&"get"in cn&&!("originalValue"in cn.get)?cn.get:te[Qt]}else me=T(te,Qt),te=te[Qt];me&&!oe&&(F[St]=te)}}return te}},9262:(Dt,vt,A)=>{"use strict";var $=A(491)("%Object.getOwnPropertyDescriptor%",!0);if($)try{$([],"length")}catch{$=null}Dt.exports=$},2486:(Dt,vt,A)=>{"use strict";var U=A(474),$=function(){return!!U};$.hasArrayLengthDefineBug=function(){if(!U)return null;try{return 1!==U([],"length",{value:1}).length}catch{return!0}},Dt.exports=$},9028:Dt=>{"use strict";var vt={__proto__:null,foo:{}},A=Object;Dt.exports=function(){return{__proto__:vt}.foo===vt.foo&&!(vt instanceof A)}},6152:(Dt,vt,A)=>{"use strict";var U=typeof Symbol<"u"&&Symbol,$=A(5441);Dt.exports=function(){return"function"==typeof U&&"function"==typeof Symbol&&"symbol"==typeof U("foo")&&"symbol"==typeof Symbol("bar")&&$()}},5441:Dt=>{"use strict";Dt.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var A={},U=Symbol("test"),$=Object(U);if("string"==typeof U||"[object Symbol]"!==Object.prototype.toString.call(U)||"[object Symbol]"!==Object.prototype.toString.call($))return!1;for(U in A[U]=42,A)return!1;if("function"==typeof Object.keys&&0!==Object.keys(A).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(A).length)return!1;var ut=Object.getOwnPropertySymbols(A);if(1!==ut.length||ut[0]!==U||!Object.prototype.propertyIsEnumerable.call(A,U))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var _t=Object.getOwnPropertyDescriptor(A,U);if(42!==_t.value||!0!==_t.enumerable)return!1}return!0}},8041:(Dt,vt,A)=>{"use strict";var U=A(5441);Dt.exports=function(){return U()&&!!Symbol.toStringTag}},836:(Dt,vt,A)=>{"use strict";var U=Function.prototype.call,$=Object.prototype.hasOwnProperty,ct=A(5333);Dt.exports=ct.call(U,$)},8147:(Dt,vt,A)=>{"use strict";var U=A(8041)(),ct=A(1098)("Object.prototype.toString"),ut=function(xt){return!(U&&xt&&"object"==typeof xt&&Symbol.toStringTag in xt)&&"[object Arguments]"===ct(xt)},_t=function(xt){return!!ut(xt)||null!==xt&&"object"==typeof xt&&"number"==typeof xt.length&&xt.length>=0&&"[object Array]"!==ct(xt)&&"[object Function]"===ct(xt.callee)},J=function(){return ut(arguments)}();ut.isLegacyArguments=_t,Dt.exports=J?ut:_t},2365:(Dt,vt,A)=>{"use strict";var U=Date.prototype.getDay,ct=Object.prototype.toString,_t=A(8041)();Dt.exports=function(wt){return"object"==typeof wt&&null!==wt&&(_t?function(wt){try{return U.call(wt),!0}catch{return!1}}(wt):"[object Date]"===ct.call(wt))}},4720:(Dt,vt,A)=>{"use strict";var ct,ut,_t,J,U=A(1098),$=A(8041)();if($){ct=U("Object.prototype.hasOwnProperty"),ut=U("RegExp.prototype.exec"),_t={};var wt=function(){throw _t};J={toString:wt,valueOf:wt},"symbol"==typeof Symbol.toPrimitive&&(J[Symbol.toPrimitive]=wt)}var xt=U("Object.prototype.toString"),Pt=Object.getOwnPropertyDescriptor;Dt.exports=$?function(It){if(!It||"object"!=typeof It)return!1;var bt=Pt(It,"lastIndex");if(!bt||!ct(bt,"value"))return!1;try{ut(It,J)}catch(B){return B===_t}}:function(It){return!(!It||"object"!=typeof It&&"function"!=typeof It)&&"[object RegExp]"===xt(It)}},3727:()=>{(function(){"use strict";function Dt(vt){return this instanceof Dt?(this._canvas=vt="string"==typeof vt?document.getElementById(vt):vt,this._ctx=vt.getContext("2d"),this._width=vt.width,this._height=vt.height,this._max=1,void this.clear()):new Dt(vt)}Dt.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(vt,A){return this._data=vt,this},max:function(vt){return this._max=vt,this},add:function(vt){return this._data.push(vt),this},clear:function(){return this._data=[],this},radius:function(vt,A){A=A||15;var U=this._circle=document.createElement("canvas"),$=U.getContext("2d"),ct=this._r=vt+A;return U.width=U.height=2*ct,$.shadowOffsetX=$.shadowOffsetY=200,$.shadowBlur=A,$.shadowColor="black",$.beginPath(),$.arc(ct-200,ct-200,vt,0,2*Math.PI,!0),$.closePath(),$.fill(),this},gradient:function(vt){var A=document.createElement("canvas"),U=A.getContext("2d"),$=U.createLinearGradient(0,0,0,256);for(var ct in A.width=1,A.height=256,vt)$.addColorStop(ct,vt[ct]);return U.fillStyle=$,U.fillRect(0,0,1,256),this._grad=U.getImageData(0,0,1,256).data,this},draw:function(vt){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var A=this._ctx;A.clearRect(0,0,this._width,this._height);for(var U,$=0,ct=this._data.length;ct>$;$++)U=this._data[$],A.globalAlpha=Math.max(U[2]/this._max,vt||.05),A.drawImage(this._circle,U[0]-this._r,U[1]-this._r);var ut=A.getImageData(0,0,this._width,this._height);return this._colorize(ut.data,this._grad),A.putImageData(ut,0,0),this},_colorize:function(vt,A){for(var U,$=3,ct=vt.length;ct>$;$+=4)(U=4*vt[$])&&(vt[$-3]=A[U],vt[$-2]=A[U+1],vt[$-1]=A[U+2])}},window.simpleheat=Dt})(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(Dt,vt){this._latlngs=Dt,L.setOptions(this,vt)},setLatLngs:function(Dt){return this._latlngs=Dt,this.redraw()},addLatLng:function(Dt){return this._latlngs.push(Dt),this.redraw()},setOptions:function(Dt){return L.setOptions(this,Dt),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(Dt){this._map=Dt,this._canvas||this._initCanvas(),Dt._panes.overlayPane.appendChild(this._canvas),Dt.on("moveend",this._reset,this),Dt.options.zoomAnimation&&L.Browser.any3d&&Dt.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(Dt){Dt.getPanes().overlayPane.removeChild(this._canvas),Dt.off("moveend",this._reset,this),Dt.options.zoomAnimation&&Dt.off("zoomanim",this._animateZoom,this)},addTo:function(Dt){return Dt.addLayer(this),this},_initCanvas:function(){var Dt=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),vt=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);Dt.style[vt]="50% 50%";var A=this._map.getSize();Dt.width=A.x,Dt.height=A.y;var U=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(Dt,"leaflet-zoom-"+(U?"animated":"hide")),this._heat=simpleheat(Dt),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var Dt=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,Dt);var vt=this._map.getSize();this._heat._width!==vt.x&&(this._canvas.width=this._heat._width=vt.x),this._heat._height!==vt.y&&(this._canvas.height=this._heat._height=vt.y),this._redraw()},_redraw:function(){var Dt,vt,A,U,$,ct,ut,_t,J,wt=[],xt=this._heat._r,Pt=this._map.getSize(),Ut=new L.Bounds(L.point([-xt,-xt]),Pt.add([xt,xt])),Rt=void 0===this.options.max?1:this.options.max,It=void 0===this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom,bt=1/Math.pow(2,Math.max(0,Math.min(It-this._map.getZoom(),12))),Yt=xt/2,B=[],Z=this._map._getMapPanePos(),R=Z.x%Yt,H=Z.y%Yt;for(Dt=0,vt=this._latlngs.length;vt>Dt;Dt++)A=this._map.latLngToContainerPoint(this._latlngs[Dt]),Ut.contains(A)&&($=Math.floor((A.x-R)/Yt)+2,ct=Math.floor((A.y-H)/Yt)+2,J=(void 0!==this._latlngs[Dt].alt?this._latlngs[Dt].alt:void 0!==this._latlngs[Dt][2]?+this._latlngs[Dt][2]:1)*bt,B[ct]=B[ct]||[],(U=B[ct][$])?(U[0]=(U[0]*U[2]+A.x*J)/(U[2]+J),U[1]=(U[1]*U[2]+A.y*J)/(U[2]+J),U[2]+=J):B[ct][$]=[A.x,A.y,J]);for(Dt=0,vt=B.length;vt>Dt;Dt++)if(B[Dt])for(ut=0,_t=B[Dt].length;_t>ut;ut++)(U=B[Dt][ut])&&wt.push([Math.round(U[0]),Math.round(U[1]),Math.min(U[2],Rt)]);this._heat.data(wt).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(Dt){var vt=this._map.getZoomScale(Dt.zoom),A=this._map._getCenterOffset(Dt.center)._multiplyBy(-vt).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,A,vt):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(A)+" scale("+vt+")"}}),L.heatLayer=function(Dt,vt){return new L.HeatLayer(Dt,vt)}},8433:function(Dt,vt){!function(A){"use strict";function $(l){var g,_,x,I;for(_=1,x=arguments.length;_<x;_++)for(g in I=arguments[_])l[g]=I[g];return l}var ct=Object.create||function(){function l(){}return function(g){return l.prototype=g,new l}}();function ut(l,g){var _=Array.prototype.slice;if(l.bind)return l.bind.apply(l,_.call(arguments,1));var x=_.call(arguments,2);return function(){return l.apply(g,x.length?x.concat(_.call(arguments)):arguments)}}var _t=0;function J(l){return"_leaflet_id"in l||(l._leaflet_id=++_t),l._leaflet_id}function wt(l,g,_){var x,I,z,st;return st=function(){x=!1,I&&(z.apply(_,I),I=!1)},z=function(){x?I=arguments:(l.apply(_,arguments),setTimeout(st,g),x=!0)},z}function xt(l,g,_){var x=g[1],I=g[0],z=x-I;return l===x&&_?l:((l-I)%z+z)%z+I}function Pt(){return!1}function Ut(l,g){if(!1===g)return l;var _=Math.pow(10,void 0===g?6:g);return Math.round(l*_)/_}function Rt(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function It(l){return Rt(l).split(/\s+/)}function bt(l,g){for(var _ in Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?ct(l.options):{}),g)l.options[_]=g[_];return l.options}function Yt(l,g,_){var x=[];for(var I in l)x.push(encodeURIComponent(_?I.toUpperCase():I)+"="+encodeURIComponent(l[I]));return(g&&-1!==g.indexOf("?")?"&":"?")+x.join("&")}var B=/\{ *([\w_ -]+) *\}/g;function Z(l,g){return l.replace(B,function(_,x){var I=g[x];if(void 0===I)throw new Error("No value provided for variable "+_);return"function"==typeof I&&(I=I(g)),I})}var R=Array.isArray||function(l){return"[object Array]"===Object.prototype.toString.call(l)};function H(l,g){for(var _=0;_<l.length;_++)if(l[_]===g)return _;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function nt(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var V=0;function j(l){var g=+new Date,_=Math.max(0,16-(g-V));return V=g+_,window.setTimeout(l,_)}var Y=window.requestAnimationFrame||nt("RequestAnimationFrame")||j,T=window.cancelAnimationFrame||nt("CancelAnimationFrame")||nt("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function Ct(l,g,_){if(!_||Y!==j)return Y.call(window,ut(l,g));l.call(g)}function rt(l){l&&T.call(window,l)}var lt={__proto__:null,extend:$,create:ct,bind:ut,get lastId(){return _t},stamp:J,throttle:wt,wrapNum:xt,falseFn:Pt,formatNum:Ut,trim:Rt,splitWords:It,setOptions:bt,getParamString:Yt,template:Z,isArray:R,indexOf:H,emptyImageUrl:F,requestFn:Y,cancelFn:T,requestAnimFrame:Ct,cancelAnimFrame:rt};function W(){}W.extend=function(l){var g=function(){bt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=g.__super__=this.prototype,x=ct(_);for(var I in x.constructor=g,g.prototype=x,this)Object.prototype.hasOwnProperty.call(this,I)&&"prototype"!==I&&"__super__"!==I&&(g[I]=this[I]);return l.statics&&$(g,l.statics),l.includes&&(function Xt(l){if(!(typeof L>"u")&&L&&L.Mixin){l=R(l)?l:[l];for(var g=0;g<l.length;g++)l[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(l.includes),$.apply(null,[x].concat(l.includes))),$(x,l),delete x.statics,delete x.includes,x.options&&(x.options=_.options?ct(_.options):{},$(x.options,l.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var z=0,st=x._initHooks.length;z<st;z++)x._initHooks[z].call(this)}},g},W.include=function(l){var g=this.prototype.options;return $(this.prototype,l),l.options&&(this.prototype.options=g,this.mergeOptions(l.options)),this},W.mergeOptions=function(l){return $(this.prototype.options,l),this},W.addInitHook=function(l){var g=Array.prototype.slice.call(arguments,1),_="function"==typeof l?l:function(){this[l].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};var Bt={on:function(l,g,_){if("object"==typeof l)for(var x in l)this._on(x,l[x],g);else for(var I=0,z=(l=It(l)).length;I<z;I++)this._on(l[I],g,_);return this},off:function(l,g,_){if(arguments.length)if("object"==typeof l)for(var x in l)this._off(x,l[x],g);else{l=It(l);for(var I=1===arguments.length,z=0,st=l.length;z<st;z++)I?this._off(l[z]):this._off(l[z],g,_)}else delete this._events;return this},_on:function(l,g,_,x){if("function"==typeof g){if(!1===this._listens(l,g,_)){_===this&&(_=void 0);var I={fn:g,ctx:_};x&&(I.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(I)}}else console.warn("wrong listener type: "+typeof g)},_off:function(l,g,_){var x,I,z;if(this._events&&(x=this._events[l])){if(1===arguments.length){if(this._firingCount)for(I=0,z=x.length;I<z;I++)x[I].fn=Pt;return void delete this._events[l]}if("function"!=typeof g)return void console.warn("wrong listener type: "+typeof g);var st=this._listens(l,g,_);!1!==st&&(this._firingCount&&(x[st].fn=Pt,this._events[l]=x=x.slice()),x.splice(st,1))}},fire:function(l,g,_){if(!this.listens(l,_))return this;var x=$({},g,{type:l,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var I=this._events[l];if(I){this._firingCount=this._firingCount+1||1;for(var z=0,st=I.length;z<st;z++){var Ot=I[z],jt=Ot.fn;Ot.once&&this.off(l,jt,Ot.ctx),jt.call(Ot.ctx||this,x)}this._firingCount--}}return _&&this._propagateEvent(x),this},listens:function(l,g,_,x){"string"!=typeof l&&console.warn('"string" type argument expected');var I=g;"function"!=typeof g&&(x=!!g,I=void 0,_=void 0);var z=this._events&&this._events[l];if(z&&z.length&&!1!==this._listens(l,I,_))return!0;if(x)for(var st in this._eventParents)if(this._eventParents[st].listens(l,g,_,x))return!0;return!1},_listens:function(l,g,_){if(!this._events)return!1;var x=this._events[l]||[];if(!g)return!!x.length;_===this&&(_=void 0);for(var I=0,z=x.length;I<z;I++)if(x[I].fn===g&&x[I].ctx===_)return I;return!1},once:function(l,g,_){if("object"==typeof l)for(var x in l)this._on(x,l[x],g,!0);else for(var I=0,z=(l=It(l)).length;I<z;I++)this._on(l[I],g,_,!0);return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[J(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[J(l)],this},_propagateEvent:function(l){for(var g in this._eventParents)this._eventParents[g].fire(l.type,$({layer:l.target,propagatedFrom:l.target},l),!0)}};Bt.addEventListener=Bt.on,Bt.removeEventListener=Bt.clearAllEventListeners=Bt.off,Bt.addOneTimeEventListener=Bt.once,Bt.fireEvent=Bt.fire,Bt.hasEventListeners=Bt.listens;var et=W.extend(Bt);function gt(l,g,_){this.x=_?Math.round(l):l,this.y=_?Math.round(g):g}var it=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};function ot(l,g,_){return l instanceof gt?l:R(l)?new gt(l[0],l[1]):null==l?l:"object"==typeof l&&"x"in l&&"y"in l?new gt(l.x,l.y):new gt(l,g,_)}function ht(l,g){if(l)for(var _=g?[l,g]:l,x=0,I=_.length;x<I;x++)this.extend(_[x])}function X(l,g){return!l||l instanceof ht?l:new ht(l,g)}function Lt(l,g){if(l)for(var _=g?[l,g]:l,x=0,I=_.length;x<I;x++)this.extend(_[x])}function Mt(l,g){return l instanceof Lt?l:new Lt(l,g)}function $t(l,g,_){if(isNaN(l)||isNaN(g))throw new Error("Invalid LatLng object: ("+l+", "+g+")");this.lat=+l,this.lng=+g,void 0!==_&&(this.alt=+_)}function St(l,g,_){return l instanceof $t?l:R(l)&&"object"!=typeof l[0]?3===l.length?new $t(l[0],l[1],l[2]):2===l.length?new $t(l[0],l[1]):null:null==l?l:"object"==typeof l&&"lat"in l?new $t(l.lat,"lng"in l?l.lng:l.lon,l.alt):void 0===g?null:new $t(l,g,_)}gt.prototype={clone:function(){return new gt(this.x,this.y)},add:function(l){return this.clone()._add(ot(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(ot(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new gt(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new gt(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=it(this.x),this.y=it(this.y),this},distanceTo:function(l){var g=(l=ot(l)).x-this.x,_=l.y-this.y;return Math.sqrt(g*g+_*_)},equals:function(l){return(l=ot(l)).x===this.x&&l.y===this.y},contains:function(l){return l=ot(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+Ut(this.x)+", "+Ut(this.y)+")"}},ht.prototype={extend:function(l){var g,_;if(!l)return this;if(l instanceof gt||"number"==typeof l[0]||"x"in l)g=_=ot(l);else if(_=(l=X(l)).max,!(g=l.min)||!_)return this;return this.min||this.max?(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)):(this.min=g.clone(),this.max=_.clone()),this},getCenter:function(l){return ot((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return ot(this.min.x,this.max.y)},getTopRight:function(){return ot(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var g,_;return(l="number"==typeof l[0]||l instanceof gt?ot(l):X(l))instanceof ht?(g=l.min,_=l.max):g=_=l,g.x>=this.min.x&&_.x<=this.max.x&&g.y>=this.min.y&&_.y<=this.max.y},intersects:function(l){l=X(l);var g=this.min,_=this.max,x=l.min,I=l.max;return I.x>=g.x&&x.x<=_.x&&I.y>=g.y&&x.y<=_.y},overlaps:function(l){l=X(l);var g=this.min,_=this.max,x=l.min,I=l.max;return I.x>g.x&&x.x<_.x&&I.y>g.y&&x.y<_.y},isValid:function(){return!(!this.min||!this.max)},pad:function(l){var g=this.min,_=this.max,x=Math.abs(g.x-_.x)*l,I=Math.abs(g.y-_.y)*l;return X(ot(g.x-x,g.y-I),ot(_.x+x,_.y+I))},equals:function(l){return!!l&&(l=X(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight()))}},Lt.prototype={extend:function(l){var x,I,g=this._southWest,_=this._northEast;if(l instanceof $t)x=l,I=l;else{if(!(l instanceof Lt))return l?this.extend(St(l)||Mt(l)):this;if(I=l._northEast,!(x=l._southWest)||!I)return this}return g||_?(g.lat=Math.min(x.lat,g.lat),g.lng=Math.min(x.lng,g.lng),_.lat=Math.max(I.lat,_.lat),_.lng=Math.max(I.lng,_.lng)):(this._southWest=new $t(x.lat,x.lng),this._northEast=new $t(I.lat,I.lng)),this},pad:function(l){var g=this._southWest,_=this._northEast,x=Math.abs(g.lat-_.lat)*l,I=Math.abs(g.lng-_.lng)*l;return new Lt(new $t(g.lat-x,g.lng-I),new $t(_.lat+x,_.lng+I))},getCenter:function(){return new $t((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new $t(this.getNorth(),this.getWest())},getSouthEast:function(){return new $t(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){l="number"==typeof l[0]||l instanceof $t||"lat"in l?St(l):Mt(l);var x,I,g=this._southWest,_=this._northEast;return l instanceof Lt?(x=l.getSouthWest(),I=l.getNorthEast()):x=I=l,x.lat>=g.lat&&I.lat<=_.lat&&x.lng>=g.lng&&I.lng<=_.lng},intersects:function(l){l=Mt(l);var g=this._southWest,_=this._northEast,x=l.getSouthWest(),I=l.getNorthEast();return I.lat>=g.lat&&x.lat<=_.lat&&I.lng>=g.lng&&x.lng<=_.lng},overlaps:function(l){l=Mt(l);var g=this._southWest,_=this._northEast,x=l.getSouthWest(),I=l.getNorthEast();return I.lat>g.lat&&x.lat<_.lat&&I.lng>g.lng&&x.lng<_.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,g){return!!l&&(l=Mt(l),this._southWest.equals(l.getSouthWest(),g)&&this._northEast.equals(l.getNorthEast(),g))},isValid:function(){return!(!this._southWest||!this._northEast)}},$t.prototype={equals:function(l,g){return!!l&&(l=St(l),Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng))<=(void 0===g?1e-9:g))},toString:function(l){return"LatLng("+Ut(this.lat,l)+", "+Ut(this.lng,l)+")"},distanceTo:function(l){return oe.distance(this,St(l))},wrap:function(){return oe.wrapLatLng(this)},toBounds:function(l){var g=180*l/40075017,_=g/Math.cos(Math.PI/180*this.lat);return Mt([this.lat-g,this.lng-_],[this.lat+g,this.lng+_])},clone:function(){return new $t(this.lat,this.lng,this.alt)}};var l,te={latLngToPoint:function(l,g){var _=this.projection.project(l),x=this.scale(g);return this.transformation._transform(_,x)},pointToLatLng:function(l,g){var _=this.scale(g),x=this.transformation.untransform(l,_);return this.projection.unproject(x)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var g=this.projection.bounds,_=this.scale(l);return new ht(this.transformation.transform(g.min,_),this.transformation.transform(g.max,_))},infinite:!1,wrapLatLng:function(l){var g=this.wrapLng?xt(l.lng,this.wrapLng,!0):l.lng;return new $t(this.wrapLat?xt(l.lat,this.wrapLat,!0):l.lat,g,l.alt)},wrapLatLngBounds:function(l){var g=l.getCenter(),_=this.wrapLatLng(g),x=g.lat-_.lat,I=g.lng-_.lng;if(0===x&&0===I)return l;var z=l.getSouthWest(),st=l.getNorthEast();return new Lt(new $t(z.lat-x,z.lng-I),new $t(st.lat-x,st.lng-I))}},oe=$({},te,{wrapLng:[-180,180],R:6371e3,distance:function(l,g){var _=Math.PI/180,x=l.lat*_,I=g.lat*_,z=Math.sin((g.lat-l.lat)*_/2),st=Math.sin((g.lng-l.lng)*_/2),Ot=z*z+Math.cos(x)*Math.cos(I)*st*st,jt=2*Math.atan2(Math.sqrt(Ot),Math.sqrt(1-Ot));return this.R*jt}}),re={R:6378137,MAX_LATITUDE:85.0511287798,project:function(l){var g=Math.PI/180,_=this.MAX_LATITUDE,x=Math.max(Math.min(_,l.lat),-_),I=Math.sin(x*g);return new gt(this.R*l.lng*g,this.R*Math.log((1+I)/(1-I))/2)},unproject:function(l){var g=180/Math.PI;return new $t((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*g,l.x*g/this.R)},bounds:(l=6378137*Math.PI,new ht([-l,-l],[l,l]))};function me(l,g,_,x){if(R(l))return this._a=l[0],this._b=l[1],this._c=l[2],void(this._d=l[3]);this._a=l,this._b=g,this._c=_,this._d=x}function Qt(l,g,_,x){return new me(l,g,_,x)}me.prototype={transform:function(l,g){return this._transform(l.clone(),g)},_transform:function(l,g){return l.x=(g=g||1)*(this._a*l.x+this._b),l.y=g*(this._c*l.y+this._d),l},untransform:function(l,g){return new gt((l.x/(g=g||1)-this._b)/this._a,(l.y/g-this._d)/this._c)}};var Qe=$({},oe,{code:"EPSG:3857",projection:re,transformation:function(){var l=.5/(Math.PI*re.R);return Qt(l,.5,-l,.5)}()}),Cn=$({},Qe,{code:"EPSG:900913"});function cn(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Pe(l,g){var x,I,z,st,Ot,jt,_="";for(x=0,z=l.length;x<z;x++){for(I=0,st=(Ot=l[x]).length;I<st;I++)_+=(I?"L":"M")+(jt=Ot[I]).x+" "+jt.y;_+=g?ve.svg?"z":"x":""}return _||"M0 0"}var ze=document.documentElement.style,pr="ActiveXObject"in window,bi=pr&&!document.addEventListener,js="msLaunchUri"in navigator&&!("documentMode"in document),Ue=Sn("webkit"),ur=Sn("android"),Vo=Sn("android 2")||Sn("android 3"),fo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xo=ur&&Sn("Google")&&fo<537&&!("AudioNode"in window),cr=!!window.opera,le=!js&&Sn("chrome"),Hs=Sn("gecko")&&!Ue&&!cr&&!pr,fs=!le&&Sn("safari"),Le=Sn("phantom"),di="OTransition"in ze,Nt=0===navigator.platform.indexOf("Win"),S=pr&&"transition"in ze,O="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vo,tt="MozPerspective"in ze,ft=!window.L_DISABLE_3D&&(S||O||tt)&&!di&&!Le,at=typeof orientation<"u"||Sn("mobile"),Gt=at&&Ue,kt=at&&O,Ht=!window.PointerEvent&&window.MSPointerEvent,qt=!(!window.PointerEvent&&!Ht),de="ontouchstart"in window||!!window.TouchEvent,mt=!window.L_NO_TOUCH&&(de||qt),Kt=at&&cr,ce=at&&Hs,se=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ge=function(){var l=!1;try{var g=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",Pt,g),window.removeEventListener("testPassiveEventSupport",Pt,g)}catch{}return l}(),mn=!!document.createElement("canvas").getContext,Ke=!(!document.createElementNS||!cn("svg").createSVGRect),lr=!!Ke&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(l.firstChild&&l.firstChild.namespaceURI)}(),Hi=!Ke&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var g=l.firstChild;return g.style.behavior="url(#default#VML)",g&&"object"==typeof g.adj}catch{return!1}}();function Sn(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var ve={ie:pr,ielt9:bi,edge:js,webkit:Ue,android:ur,android23:Vo,androidStock:Xo,opera:cr,chrome:le,gecko:Hs,safari:fs,phantom:Le,opera12:di,win:Nt,ie3d:S,webkit3d:O,gecko3d:tt,any3d:ft,mobile:at,mobileWebkit:Gt,mobileWebkit3d:kt,msPointer:Ht,pointer:qt,touch:mt,touchNative:de,mobileOpera:Kt,mobileGecko:ce,retina:se,passiveEvents:Ge,canvas:mn,svg:Ke,vml:Hi,inlineSvg:lr,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},rr=ve.msPointer?"MSPointerDown":"pointerdown",gi=ve.msPointer?"MSPointerMove":"pointermove",Je=ve.msPointer?"MSPointerUp":"pointerup",Fr=ve.msPointer?"MSPointerCancel":"pointercancel",kr={touchstart:rr,touchmove:gi,touchend:Je,touchcancel:Fr},jr={touchstart:function ro(l,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&vi(g),fa(l,g)},touchmove:fa,touchend:fa,touchcancel:fa},wr={},hs=!1;function Yr(l,g,_){return"touchstart"===g&&function Hr(){hs||(document.addEventListener(rr,gr,!0),document.addEventListener(gi,ca,!0),document.addEventListener(Je,Nn,!0),document.addEventListener(Fr,Nn,!0),hs=!0)}(),jr[g]?(_=jr[g].bind(this,_),l.addEventListener(kr[g],_,!1),_):(console.warn("wrong event specified:",g),Pt)}function gr(l){wr[l.pointerId]=l}function ca(l){wr[l.pointerId]&&(wr[l.pointerId]=l)}function Nn(l){delete wr[l.pointerId]}function fa(l,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){for(var _ in g.touches=[],wr)g.touches.push(wr[_]);g.changedTouches=[g],l(g)}}var Xr=200;var qs,ja,Wt,Ha,mi,So=zu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ri=zu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),mu="webkitTransition"===Ri||"OTransition"===Ri?Ri+"End":"transitionend";function Ga(l){return"string"==typeof l?document.getElementById(l):l}function $s(l,g){var _=l.style[g]||l.currentStyle&&l.currentStyle[g];if((!_||"auto"===_)&&document.defaultView){var x=document.defaultView.getComputedStyle(l,null);_=x?x[g]:null}return"auto"===_?null:_}function Pn(l,g,_){var x=document.createElement(l);return x.className=g||"",_&&_.appendChild(x),x}function nn(l){var g=l.parentNode;g&&g.removeChild(l)}function yu(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function io(l){var g=l.parentNode;g&&g.lastChild!==l&&g.appendChild(l)}function $r(l){var g=l.parentNode;g&&g.firstChild!==l&&g.insertBefore(l,g.firstChild)}function Vu(l,g){if(void 0!==l.classList)return l.classList.contains(g);var _=ha(l);return _.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(_)}function fe(l,g){if(void 0!==l.classList)for(var _=It(g),x=0,I=_.length;x<I;x++)l.classList.add(_[x]);else if(!Vu(l,g)){var z=ha(l);ho(l,(z?z+" ":"")+g)}}function be(l,g){void 0!==l.classList?l.classList.remove(g):ho(l,Rt((" "+ha(l)+" ").replace(" "+g+" "," ")))}function ho(l,g){void 0===l.className.baseVal?l.className=g:l.className.baseVal=g}function ha(l){return l.correspondingElement&&(l=l.correspondingElement),void 0===l.className.baseVal?l.className:l.className.baseVal}function Ne(l,g){"opacity"in l.style?l.style.opacity=g:"filter"in l.style&&function Fl(l,g){var _=!1,x="DXImageTransform.Microsoft.Alpha";try{_=l.filters.item(x)}catch{if(1===g)return}g=Math.round(100*g),_?(_.Enabled=100!==g,_.Opacity=g):l.style.filter+=" progid:"+x+"(opacity="+g+")"}(l,g)}function zu(l){for(var g=document.documentElement.style,_=0;_<l.length;_++)if(l[_]in g)return l[_];return!1}function xn(l,g,_){var x=g||new gt(0,0);l.style[So]=(ve.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(_?" scale("+_+")":"")}function ir(l,g){l._leaflet_pos=g,ve.any3d?xn(l,g):(l.style.left=g.x+"px",l.style.top=g.y+"px")}function or(l){return l._leaflet_pos||new gt(0,0)}if("onselectstart"in document)qs=function(){je(window,"selectstart",vi)},ja=function(){_n(window,"selectstart",vi)};else{var We=zu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qs=function(){if(We){var l=document.documentElement.style;Wt=l[We],l[We]="none"}},ja=function(){We&&(document.documentElement.style[We]=Wt,Wt=void 0)}}function oo(){je(window,"dragstart",vi)}function Mo(){_n(window,"dragstart",vi)}function Zt(l){for(;-1===l.tabIndex;)l=l.parentNode;l.style&&(gn(),Ha=l,mi=l.style.outlineStyle,l.style.outlineStyle="none",je(window,"keydown",gn))}function gn(){Ha&&(Ha.style.outlineStyle=mi,Ha=void 0,mi=void 0,_n(window,"keydown",gn))}function Ie(l){do{l=l.parentNode}while(!(l.offsetWidth&&l.offsetHeight||l===document.body));return l}function fr(l){var g=l.getBoundingClientRect();return{x:g.width/l.offsetWidth||1,y:g.height/l.offsetHeight||1,boundingClientRect:g}}var ef={__proto__:null,TRANSFORM:So,TRANSITION:Ri,TRANSITION_END:mu,get:Ga,getStyle:$s,create:Pn,remove:nn,empty:yu,toFront:io,toBack:$r,hasClass:Vu,addClass:fe,removeClass:be,setClass:ho,getClass:ha,setOpacity:Ne,testProp:zu,setTransform:xn,setPosition:ir,getPosition:or,get disableTextSelection(){return qs},get enableTextSelection(){return ja},disableImageDrag:oo,enableImageDrag:Mo,preventOutline:Zt,restoreOutline:gn,getSizedParentNode:Ie,getScale:fr};function je(l,g,_,x){if(g&&"object"==typeof g)for(var I in g)yi(l,I,g[I],_);else for(var z=0,st=(g=It(g)).length;z<st;z++)yi(l,g[z],_,x);return this}var zo="_leaflet_events";function _n(l,g,_,x){if(1===arguments.length)on(l),delete l[zo];else if(g&&"object"==typeof g)for(var I in g)Uu(l,I,g[I],_);else if(g=It(g),2===arguments.length)on(l,function(Ot){return-1!==H(g,Ot)});else for(var z=0,st=g.length;z<st;z++)Uu(l,g[z],_,x);return this}function on(l,g){for(var _ in l[zo]){var x=_.split(/\d/)[0];(!g||g(x))&&Uu(l,x,null,null,_)}}var $a={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yi(l,g,_,x){var I=g+J(_)+(x?"_"+J(x):"");if(l[zo]&&l[zo][I])return this;var z=function(Ot){return _.call(x||l,Ot||window.event)},st=z;!ve.touchNative&&ve.pointer&&0===g.indexOf("touch")?z=Yr(l,g,z):ve.touch&&"dblclick"===g?z=function Ns(l,g){l.addEventListener("dblclick",g);var x,_=0;function I(z){if(1===z.detail){if("mouse"!==z.pointerType&&(!z.sourceCapabilities||z.sourceCapabilities.firesTouchEvents)){var st=gs(z);if(!st.some(function(jt){return jt instanceof HTMLLabelElement&&jt.attributes.for})||st.some(function(jt){return jt instanceof HTMLInputElement||jt instanceof HTMLSelectElement})){var Ot=Date.now();Ot-_<=Xr?2==++x&&g(function ds(l){var _,x,g={};for(x in l)g[x]=(_=l[x])&&_.bind?_.bind(l):_;return l=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}(z)):x=1,_=Ot}}}else x=z.detail}return l.addEventListener("click",I),{dblclick:g,simDblclick:I}}(l,z):"addEventListener"in l?"touchstart"===g||"touchmove"===g||"wheel"===g||"mousewheel"===g?l.addEventListener($a[g]||g,z,!!ve.passiveEvents&&{passive:!1}):"mouseenter"===g||"mouseleave"===g?l.addEventListener($a[g],z=function(Ot){Ot=Ot||window.event,po(l,Ot)&&st(Ot)},!1):l.addEventListener(g,st,!1):l.attachEvent("on"+g,z),l[zo]=l[zo]||{},l[zo][I]=z}function Uu(l,g,_,x,I){I=I||g+J(_)+(x?"_"+J(x):"");var z=l[zo]&&l[zo][I];if(!z)return this;!ve.touchNative&&ve.pointer&&0===g.indexOf("touch")?function Ua(l,g,_){kr[g]?l.removeEventListener(kr[g],_,!1):console.warn("wrong event specified:",g)}(l,g,z):ve.touch&&"dblclick"===g?function ps(l,g){l.removeEventListener("dblclick",g.dblclick),l.removeEventListener("click",g.simDblclick)}(l,z):"removeEventListener"in l?l.removeEventListener($a[g]||g,z,!1):l.detachEvent("on"+g,z),l[zo][I]=null}function $i(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function Ir(l){return yi(l,"wheel",$i),this}function Fi(l){return je(l,"mousedown touchstart dblclick contextmenu",$i),l._leaflet_disable_click=!0,this}function vi(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function qi(l){return vi(l),$i(l),this}function gs(l){if(l.composedPath)return l.composedPath();for(var g=[],_=l.target;_;)g.push(_),_=_.parentNode;return g}function Zs(l,g){if(!g)return new gt(l.clientX,l.clientY);var _=fr(g),x=_.boundingClientRect;return new gt((l.clientX-x.left)/_.x-g.clientLeft,(l.clientY-x.top)/_.y-g.clientTop)}var Ta=ve.linux&&ve.chrome?window.devicePixelRatio:ve.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ni(l){return ve.edge?l.wheelDeltaY/2:l.deltaY&&0===l.deltaMode?-l.deltaY/Ta:l.deltaY&&1===l.deltaMode?20*-l.deltaY:l.deltaY&&2===l.deltaMode?60*-l.deltaY:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?20*-l.detail:l.detail?l.detail/-32765*60:0}function po(l,g){var _=g.relatedTarget;if(!_)return!0;try{for(;_&&_!==l;)_=_.parentNode}catch{return!1}return _!==l}var Oe={__proto__:null,on:je,off:_n,stopPropagation:$i,disableScrollPropagation:Ir,disableClickPropagation:Fi,preventDefault:vi,stop:qi,getPropagationPath:gs,getMousePosition:Zs,getWheelDelta:ni,isExternalTarget:po,addListener:je,removeListener:_n},Qr=et.extend({run:function(l,g,_,x){this.stop(),this._el=l,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=or(l),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ct(this._animate,this),this._step()},_step:function(l){var g=+new Date-this._startTime,_=1e3*this._duration;g<_?this._runFrame(this._easeOut(g/_),l):(this._runFrame(1),this._complete())},_runFrame:function(l,g){var _=this._startPos.add(this._offset.multiplyBy(l));g&&_._round(),ir(this._el,_),this.fire("step")},_complete:function(){rt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Xe=et.extend({options:{crs:Qe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,g){g=bt(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=ut(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),void 0!==g.zoom&&(this._zoom=this._limitZoom(g.zoom)),g.center&&void 0!==g.zoom&&this.setView(St(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ri&&ve.any3d&&!ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),je(this._proxy,mu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,g,_){return g=void 0===g?this._zoom:this._limitZoom(g),l=this._limitCenter(St(l),g,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&!0!==_&&(void 0!==_.animate&&(_.zoom=$({animate:_.animate},_.zoom),_.pan=$({animate:_.animate,duration:_.duration},_.pan)),this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,g,_.zoom):this._tryAnimatedPan(l,_.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(l,g,_.pan&&_.pan.noMoveStart),this)},setZoom:function(l,g){return this._loaded?this.setView(this.getCenter(),l,{zoom:g}):(this._zoom=l,this)},zoomIn:function(l,g){return this.setZoom(this._zoom+(l=l||(ve.any3d?this.options.zoomDelta:1)),g)},zoomOut:function(l,g){return this.setZoom(this._zoom-(l=l||(ve.any3d?this.options.zoomDelta:1)),g)},setZoomAround:function(l,g,_){var x=this.getZoomScale(g),I=this.getSize().divideBy(2),st=(l instanceof gt?l:this.latLngToContainerPoint(l)).subtract(I).multiplyBy(1-1/x),Ot=this.containerPointToLatLng(I.add(st));return this.setView(Ot,g,{zoom:_})},_getBoundsCenterZoom:function(l,g){g=g||{},l=l.getBounds?l.getBounds():Mt(l);var _=ot(g.paddingTopLeft||g.padding||[0,0]),x=ot(g.paddingBottomRight||g.padding||[0,0]),I=this.getBoundsZoom(l,!1,_.add(x));if((I="number"==typeof g.maxZoom?Math.min(g.maxZoom,I):I)===1/0)return{center:l.getCenter(),zoom:I};var z=x.subtract(_).divideBy(2),st=this.project(l.getSouthWest(),I),Ot=this.project(l.getNorthEast(),I);return{center:this.unproject(st.add(Ot).divideBy(2).add(z),I),zoom:I}},fitBounds:function(l,g){if(!(l=Mt(l)).isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(l,g);return this.setView(_.center,_.zoom,g)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,g){return this.setView(l,this._zoom,{pan:g})},panBy:function(l,g){if(g=g||{},!(l=ot(l).round()).x&&!l.y)return this.fire("moveend");if(!0!==g.animate&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),!1!==g.animate){fe(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,_,g.duration||.25,g.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,g,_){if(!1===(_=_||{}).animate||!ve.any3d)return this.setView(l,g,_);this._stop();var x=this.project(this.getCenter()),I=this.project(l),z=this.getSize(),st=this._zoom;l=St(l),g=void 0===g?st:g;var Ot=Math.max(z.x,z.y),jt=Ot*this.getZoomScale(st,g),Jt=I.distanceTo(x)||1,ne=1.42,ke=ne*ne;function rn(mr){var o=(jt*jt-Ot*Ot+(mr?-1:1)*ke*ke*Jt*Jt)/(2*(mr?jt:Ot)*ke*Jt),a=Math.sqrt(o*o+1)-o;return a<1e-9?-18:Math.log(a)}function Ur(mr){return(Math.exp(mr)-Math.exp(-mr))/2}function Tr(mr){return(Math.exp(mr)+Math.exp(-mr))/2}var qr=rn(0);function ns(mr){return Ot*(Tr(qr)*function Pi(mr){return Ur(mr)/Tr(mr)}(qr+ne*mr)-Ur(qr))/ke}var un=Date.now(),Ya=(rn(1)-qr)/ne,ks=_.duration?1e3*_.duration:1e3*Ya*.8;return this._moveStart(!0,_.noMoveStart),function to(){var mr=(Date.now()-un)/ks,xi=function $e(mr){return 1-Math.pow(1-mr,1.5)}(mr)*Ya;mr<=1?(this._flyToFrame=Ct(to,this),this._move(this.unproject(x.add(I.subtract(x).multiplyBy(ns(xi)/Jt)),st),this.getScaleZoom(Ot/function Ui(mr){return Ot*(Tr(qr)/Tr(qr+ne*mr))}(xi),st),{flyTo:!0})):this._move(l,g)._moveEnd(!0)}.call(this),this},flyToBounds:function(l,g){var _=this._getBoundsCenterZoom(l,g);return this.flyTo(_.center,_.zoom,g)},setMaxBounds:function(l){return l=Mt(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var g=this.options.minZoom;return this.options.minZoom=l,this._loaded&&g!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var g=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&g!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,g){this._enforcingBounds=!0;var _=this.getCenter(),x=this._limitCenter(_,this._zoom,Mt(l));return _.equals(x)||this.panTo(x,g),this._enforcingBounds=!1,this},panInside:function(l,g){var _=ot((g=g||{}).paddingTopLeft||g.padding||[0,0]),x=ot(g.paddingBottomRight||g.padding||[0,0]),I=this.project(this.getCenter()),z=this.project(l),st=this.getPixelBounds(),Ot=X([st.min.add(_),st.max.subtract(x)]),jt=Ot.getSize();if(!Ot.contains(z)){this._enforcingBounds=!0;var Jt=z.subtract(Ot.getCenter()),ne=Ot.extend(z).getSize().subtract(jt);I.x+=Jt.x<0?-ne.x:ne.x,I.y+=Jt.y<0?-ne.y:ne.y,this.panTo(this.unproject(I),g),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=$({animate:!1,pan:!0},!0===l?{animate:!0}:l);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),x=g.divideBy(2).round(),I=_.divideBy(2).round(),z=x.subtract(I);return z.x||z.y?(l.animate&&l.pan?this.panBy(z):(l.pan&&this._rawPanBy(z),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(ut(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:_})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=$({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=ut(this._handleGeolocationResponse,this),_=ut(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,_,l):navigator.geolocation.getCurrentPosition(g,_,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var g=l.code,_=l.message||(1===g?"permission denied":2===g?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var x=new $t(l.coords.latitude,l.coords.longitude),I=x.toBounds(2*l.coords.accuracy),z=this._locateOptions;if(z.setView){var st=this.getBoundsZoom(I);this.setView(x,z.maxZoom?Math.min(st,z.maxZoom):st)}var Ot={latlng:x,bounds:I,timestamp:l.timestamp};for(var jt in l.coords)"number"==typeof l.coords[jt]&&(Ot[jt]=l.coords[jt]);this.fire("locationfound",Ot)}},addHandler:function(l,g){if(!g)return this;var _=this[l]=new g(this);return this._handlers.push(_),this.options[l]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var l;for(l in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),nn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(rt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[l].remove();for(l in this._panes)nn(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,g){var x=Pn("div","leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),g||this._mapPane);return l&&(this._panes[l]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds();return new Lt(this.unproject(l.getBottomLeft()),this.unproject(l.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,g,_){l=Mt(l),_=ot(_||[0,0]);var x=this.getZoom()||0,I=this.getMinZoom(),z=this.getMaxZoom(),st=l.getNorthWest(),Ot=l.getSouthEast(),jt=this.getSize().subtract(_),Jt=X(this.project(Ot,x),this.project(st,x)).getSize(),ne=ve.any3d?this.options.zoomSnap:1,ke=jt.x/Jt.x,rn=jt.y/Jt.y,Ur=g?Math.max(ke,rn):Math.min(ke,rn);return x=this.getScaleZoom(Ur,x),ne&&(x=Math.round(x/(ne/100))*(ne/100),x=g?Math.ceil(x/ne)*ne:Math.floor(x/ne)*ne),Math.max(I,Math.min(z,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new gt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,g){var _=this._getTopLeftPoint(l,g);return new ht(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(void 0===l?this.getZoom():l)},getPane:function(l){return"string"==typeof l?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,g){var _=this.options.crs;return g=void 0===g?this._zoom:g,_.scale(l)/_.scale(g)},getScaleZoom:function(l,g){var _=this.options.crs,x=_.zoom(l*_.scale(g=void 0===g?this._zoom:g));return isNaN(x)?1/0:x},project:function(l,g){return g=void 0===g?this._zoom:g,this.options.crs.latLngToPoint(St(l),g)},unproject:function(l,g){return g=void 0===g?this._zoom:g,this.options.crs.pointToLatLng(ot(l),g)},layerPointToLatLng:function(l){var g=ot(l).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(l){return this.project(St(l))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(St(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(Mt(l))},distance:function(l,g){return this.options.crs.distance(St(l),St(g))},containerPointToLayerPoint:function(l){return ot(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return ot(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var g=this.containerPointToLayerPoint(ot(l));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(St(l)))},mouseEventToContainerPoint:function(l){return Zs(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var g=this._container=Ga(l);if(!g)throw new Error("Map container not found.");if(g._leaflet_id)throw new Error("Map container is already initialized.");je(g,"scroll",this._onScroll,this),this._containerId=J(g)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&ve.any3d,fe(l,"leaflet-container"+(ve.touch?" leaflet-touch":"")+(ve.retina?" leaflet-retina":"")+(ve.ielt9?" leaflet-oldie":"")+(ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=$s(l,"position");"absolute"!==g&&"relative"!==g&&"fixed"!==g&&"sticky"!==g&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ir(this._mapPane,new gt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(l.markerPane,"leaflet-zoom-hide"),fe(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,g,_){ir(this._mapPane,new gt(0,0));var x=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var I=this._zoom!==g;this._moveStart(I,_)._move(l,g)._moveEnd(I),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(l,g){return l&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(l,g,_,x){void 0===g&&(g=this._zoom);var I=this._zoom!==g;return this._zoom=g,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),x?_&&_.pinch&&this.fire("zoom",_):((I||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return rt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){ir(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[J(this._container)]=this;var g=l?_n:je;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),ve.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){rt(this._resizeRequest),this._resizeRequest=Ct(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,g){for(var x,_=[],I="mouseout"===g||"mouseover"===g,z=l.target||l.srcElement,st=!1;z;){if((x=this._targets[J(z)])&&("click"===g||"preclick"===g)&&this._draggableMoved(x)){st=!0;break}if(x&&x.listens(g,!0)&&(I&&!po(z,l)||(_.push(x),I))||z===this._container)break;z=z.parentNode}return!_.length&&!st&&!I&&this.listens(g,!0)&&(_=[this]),_},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var g=l.target||l.srcElement;if(!(!this._loaded||g._leaflet_disable_events||"click"===l.type&&this._isClickDisabled(g))){var _=l.type;"mousedown"===_&&Zt(g),this._fireDOMEvent(l,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,g,_){if("click"===l.type){var x=$({},l);x.type="preclick",this._fireDOMEvent(x,x.type,_)}var I=this._findEventTargets(l,g);if(_){for(var z=[],st=0;st<_.length;st++)_[st].listens(g,!0)&&z.push(_[st]);I=z.concat(I)}if(I.length){"contextmenu"===g&&vi(l);var Ot=I[0],jt={originalEvent:l};if("keypress"!==l.type&&"keydown"!==l.type&&"keyup"!==l.type){var Jt=Ot.getLatLng&&(!Ot._radius||Ot._radius<=10);jt.containerPoint=Jt?this.latLngToContainerPoint(Ot.getLatLng()):this.mouseEventToContainerPoint(l),jt.layerPoint=this.containerPointToLayerPoint(jt.containerPoint),jt.latlng=Jt?Ot.getLatLng():this.layerPointToLatLng(jt.layerPoint)}for(st=0;st<I.length;st++)if(I[st].fire(g,jt,!0),jt.originalEvent._stopped||!1===I[st].options.bubblingMouseEvents&&-1!==H(this._mouseEvents,g))return}},_draggableMoved:function(l){return(l=l.dragging&&l.dragging.enabled()?l:this).dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,g=this._handlers.length;l<g;l++)this._handlers[l].disable()},whenReady:function(l,g){return this._loaded?l.call(g||this,{target:this}):this.on("load",l,g),this},_getMapPanePos:function(){return or(this._mapPane)||new gt(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,g){return(l&&void 0!==g?this._getNewPixelOrigin(l,g):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,g){var _=this.getSize()._divideBy(2);return this.project(l,g)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,g,_){var x=this._getNewPixelOrigin(_,g);return this.project(l,g)._subtract(x)},_latLngBoundsToNewLayerBounds:function(l,g,_){var x=this._getNewPixelOrigin(_,g);return X([this.project(l.getSouthWest(),g)._subtract(x),this.project(l.getNorthWest(),g)._subtract(x),this.project(l.getSouthEast(),g)._subtract(x),this.project(l.getNorthEast(),g)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,g,_){if(!_)return l;var x=this.project(l,g),I=this.getSize().divideBy(2),z=new ht(x.subtract(I),x.add(I)),st=this._getBoundsOffset(z,_,g);return Math.abs(st.x)<=1&&Math.abs(st.y)<=1?l:this.unproject(x.add(st),g)},_limitOffset:function(l,g){if(!g)return l;var _=this.getPixelBounds(),x=new ht(_.min.add(l),_.max.add(l));return l.add(this._getBoundsOffset(x,g))},_getBoundsOffset:function(l,g,_){var x=X(this.project(g.getNorthEast(),_),this.project(g.getSouthWest(),_)),I=x.min.subtract(l.min),z=x.max.subtract(l.max);return new gt(this._rebound(I.x,-z.x),this._rebound(I.y,-z.y))},_rebound:function(l,g){return l+g>0?Math.round(l-g)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(g))},_limitZoom:function(l){var g=this.getMinZoom(),_=this.getMaxZoom(),x=ve.any3d?this.options.zoomSnap:1;return x&&(l=Math.round(l/x)*x),Math.max(g,Math.min(_,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,g){var _=this._getCenterOffset(l)._trunc();return!(!0!==(g&&g.animate)&&!this.getSize().contains(_)||(this.panBy(_,g),0))},_createAnimProxy:function(){var l=this._proxy=Pn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(g){var _=So,x=this._proxy.style[_];xn(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),x===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),g=this.getZoom();xn(this._proxy,this.project(l,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,g,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||!1===_.animate||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(g),I=this._getCenterOffset(l)._divideBy(1-1/x);return!(!0!==_.animate&&!this.getSize().contains(I)||(Ct(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(l,g,!0)},this),0))},_animateZoom:function(l,g,_,x){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=g,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:g,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(ut(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Re=W.extend({options:{position:"topright"},initialize:function(l){bt(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var g=this._map;return g&&g.removeControl(this),this.options.position=l,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var g=this._container=this.onAdd(l),_=this.getPosition(),x=l._controlCorners[_];return fe(g,"leaflet-control"),-1!==_.indexOf("bottom")?x.insertBefore(g,x.firstChild):x.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),Ws=function(l){return new Re(l)};Xe.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},g="leaflet-",_=this._controlContainer=Pn("div",g+"control-container",this._container);function x(I,z){l[I+z]=Pn("div",g+I+" "+g+z,_)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)nn(this._controlCorners[l]);nn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Uo=Re.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,g,_,x){return _<x?-1:x<_?1:0}},initialize:function(l,g,_){for(var x in bt(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,l)this._addLayer(l[x],x);for(x in g)this._addLayer(g[x],x,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return Re.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,g){return this._addLayer(l,g),this._map?this._update():this},addOverlay:function(l,g){return this._addLayer(l,g,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var g=this._getLayer(J(l));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",g=this._container=Pn("div",l),_=this.options.collapsed;g.setAttribute("aria-haspopup",!0),Fi(g),Ir(g);var x=this._section=Pn("section",l+"-list");_&&(this._map.on("click",this.collapse,this),je(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var I=this._layersLink=Pn("a",l+"-toggle",g);I.href="#",I.title="Layers",I.setAttribute("role","button"),je(I,{keydown:function(z){13===z.keyCode&&this._expandSafely()},click:function(z){vi(z),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=Pn("div",l+"-base",x),this._separator=Pn("div",l+"-separator",x),this._overlaysList=Pn("div",l+"-overlays",x),g.appendChild(x)},_getLayer:function(l){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&J(this._layers[g].layer)===l)return this._layers[g]},_addLayer:function(l,g,_){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:g,overlay:_}),this.options.sortLayers&&this._layers.sort(ut(function(x,I){return this.options.sortFunction(x.layer,I.layer,x.name,I.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yu(this._baseLayersList),yu(this._overlaysList),this._layerControlInputs=[];var l,g,_,x,I=0;for(_=0;_<this._layers.length;_++)this._addItem(x=this._layers[_]),g=g||x.overlay,l=l||!x.overlay,I+=x.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(l=l&&I>1)?"":"none"),this._separator.style.display=g&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var g=this._getLayer(J(l.target)),_=g.overlay?"add"===l.type?"overlayadd":"overlayremove":"add"===l.type?"baselayerchange":null;_&&this._map.fire(_,g)},_createRadioElement:function(l,g){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(g?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=_,x.firstChild},_addItem:function(l){var x,g=document.createElement("label"),_=this._map.hasLayer(l.layer);l.overlay?((x=document.createElement("input")).type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=_):x=this._createRadioElement("leaflet-base-layers_"+J(this),_),this._layerControlInputs.push(x),x.layerId=J(l.layer),je(x,"click",this._onInputClick,this);var I=document.createElement("span");I.innerHTML=" "+l.name;var z=document.createElement("span");return g.appendChild(z),z.appendChild(x),z.appendChild(I),(l.overlay?this._overlaysList:this._baseLayersList).appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var g,_,l=this._layerControlInputs,x=[],I=[];this._handlingClick=!0;for(var z=l.length-1;z>=0;z--)_=this._getLayer((g=l[z]).layerId).layer,g.checked?x.push(_):g.checked||I.push(_);for(z=0;z<I.length;z++)this._map.hasLayer(I[z])&&this._map.removeLayer(I[z]);for(z=0;z<x.length;z++)this._map.hasLayer(x[z])||this._map.addLayer(x[z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var g,_,l=this._layerControlInputs,x=this._map.getZoom(),I=l.length-1;I>=0;I--)_=this._getLayer((g=l[I]).layerId).layer,g.disabled=void 0!==_.options.minZoom&&x<_.options.minZoom||void 0!==_.options.maxZoom&&x>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,je(l,"click",vi),this.expand();var g=this;setTimeout(function(){_n(l,"click",vi),g._preventClick=!1})}}),ki=Re.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var g="leaflet-control-zoom",_=Pn("div",g+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,g+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,g+"-out",_,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,g,_,x,I){var z=Pn("a",_,x);return z.innerHTML=l,z.href="#",z.title=g,z.setAttribute("role","button"),z.setAttribute("aria-label",g),Fi(z),je(z,"click",qi),je(z,"click",I,this),je(z,"click",this._refocusOnMap,this),z},_updateDisabled:function(){var l=this._map,g="leaflet-disabled";be(this._zoomInButton,g),be(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(fe(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(fe(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xe.mergeOptions({zoomControl:!0}),Xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ki,this.addControl(this.zoomControl))});var Bi=Re.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var g="leaflet-control-scale",_=Pn("div",g),x=this.options;return this._addScales(x,g+"-line",_),l.on(x.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),_},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,g,_){l.metric&&(this._mScale=Pn("div",g,_)),l.imperial&&(this._iScale=Pn("div",g,_))},_update:function(){var l=this._map,g=l.getSize().y/2,_=l.distance(l.containerPointToLatLng([0,g]),l.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(_)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var g=this._getRoundNum(l);this._updateScale(this._mScale,g<1e3?g+" m":g/1e3+" km",g/l)},_updateImperial:function(l){var _,x,I,g=3.2808399*l;g>5280?(x=this._getRoundNum(_=g/5280),this._updateScale(this._iScale,x+" mi",x/_)):(I=this._getRoundNum(g),this._updateScale(this._iScale,I+" ft",I/g))},_updateScale:function(l,g,_){l.style.width=Math.round(this.options.maxWidth*_)+"px",l.innerHTML=g},_getRoundNum:function(l){var g=Math.pow(10,(Math.floor(l)+"").length-1),_=l/g;return g*(_>=10?10:_>=5?5:_>=3?3:_>=2?2:1)}}),Ys=Re.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ve.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(l){bt(this,l),this._attributions={}},onAdd:function(l){for(var g in l.attributionControl=this,this._container=Pn("div","leaflet-control-attribution"),Fi(this._container),l._layers)l._layers[g].getAttribution&&this.addAttribution(l._layers[g].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var g in this._attributions)this._attributions[g]&&l.push(g);var _=[];this.options.prefix&&_.push(this.options.prefix),l.length&&_.push(l.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});Xe.mergeOptions({attributionControl:!0}),Xe.addInitHook(function(){this.options.attributionControl&&(new Ys).addTo(this)});Re.Layers=Uo,Re.Zoom=ki,Re.Scale=Bi,Re.Attribution=Ys,Ws.layers=function(l,g,_){return new Uo(l,g,_)},Ws.zoom=function(l){return new ki(l)},Ws.scale=function(l){return new Bi(l)},Ws.attribution=function(l){return new Ys(l)};var _e=W.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_e.addTo=function(l,g){return l.addHandler(g,this),this};var Dn={Events:Bt},da=ve.touch?"touchstart mousedown":"mousedown",Kr=et.extend({options:{clickTolerance:3},initialize:function(l,g,_,x){bt(this,x),this._element=l,this._dragStartTarget=g||l,this._preventOutline=_},enable:function(){this._enabled||(je(this._dragStartTarget,da,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Kr._dragging===this&&this.finishDrag(!0),_n(this._dragStartTarget,da,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Vu(this._element,"leaflet-zoom-anim"))){if(l.touches&&1!==l.touches.length)return void(Kr._dragging===this&&this.finishDrag());if(!(Kr._dragging||l.shiftKey||1!==l.which&&1!==l.button&&!l.touches||(Kr._dragging=this,this._preventOutline&&Zt(this._element),oo(),qs(),this._moving))){this.fire("down");var g=l.touches?l.touches[0]:l,_=Ie(this._element);this._startPoint=new gt(g.clientX,g.clientY),this._startPos=or(this._element),this._parentScale=fr(_);var x="mousedown"===l.type;je(document,x?"mousemove":"touchmove",this._onMove,this),je(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1)return void(this._moved=!0);var g=l.touches&&1===l.touches.length?l.touches[0]:l,_=new gt(g.clientX,g.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,vi(l),this._moved||(this.fire("dragstart"),this._moved=!0,fe(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),ir(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){be(document.body,"leaflet-dragging"),this._lastTarget&&(be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_n(document,"mousemove touchmove",this._onMove,this),_n(document,"mouseup touchend touchcancel",this._onUp,this),Mo(),ja();var g=this._moved&&this._moving;this._moving=!1,Kr._dragging=!1,g&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function Vr(l,g,_){var x,z,st,Ot,jt,Jt,ne,ke,rn,I=[1,4,2,8];for(z=0,ne=l.length;z<ne;z++)l[z]._code=sr(l[z],g);for(Ot=0;Ot<4;Ot++){for(ke=I[Ot],x=[],z=0,st=(ne=l.length)-1;z<ne;st=z++)Jt=l[st],(jt=l[z])._code&ke?Jt._code&ke||((rn=Qo(Jt,jt,ke,g,_))._code=sr(rn,g),x.push(rn)):(Jt._code&ke&&((rn=Qo(Jt,jt,ke,g,_))._code=sr(rn,g),x.push(rn)),x.push(jt));l=x}return l}function Ls(l,g){var _,x,I,z,st,Ot,jt,Jt;if(!l||0===l.length)throw new Error("latlngs not passed");Qi(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var ke=St([0,0]),rn=Mt(l);rn.getNorthWest().distanceTo(rn.getSouthWest())*rn.getNorthEast().distanceTo(rn.getNorthWest())<1700&&(ke=qa(l));var Tr=l.length,Pi=[];for(_=0;_<Tr;_++){var qr=St(l[_]);Pi.push(g.project(St([qr.lat-ke.lat,qr.lng-ke.lng])))}for(Ot=jt=Jt=0,_=0,x=Tr-1;_<Tr;x=_++)jt+=((I=Pi[_]).x+(z=Pi[x]).x)*(st=I.y*z.x-z.y*I.x),Jt+=(I.y+z.y)*st,Ot+=3*st;var Ui=g.unproject(ot(0===Ot?Pi[0]:[jt/Ot,Jt/Ot]));return St([Ui.lat+ke.lat,Ui.lng+ke.lng])}function qa(l){for(var g=0,_=0,x=0,I=0;I<l.length;I++){var z=St(l[I]);g+=z.lat,_+=z.lng,x++}return St([g/x,_/x])}var _u,br={__proto__:null,clipPolygon:Vr,polygonCenter:Ls,centroid:qa};function kl(l,g){if(!g||!l.length)return l.slice();var _=g*g;return function Sr(l,g){var _=l.length,I=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(_);I[0]=I[_-1]=1,Xs(l,I,g,0,_-1);var z,st=[];for(z=0;z<_;z++)I[z]&&st.push(l[z]);return st}(l=function so(l,g){for(var _=[l[0]],x=1,I=0,z=l.length;x<z;x++)Gu(l[x],l[I])>g&&(_.push(l[x]),I=x);return I<z-1&&_.push(l[z-1]),_}(l,_),_)}function Mn(l,g,_){return Math.sqrt(Si(l,g,_,!0))}function Xs(l,g,_,x,I){var st,Ot,jt,z=0;for(Ot=x+1;Ot<=I-1;Ot++)(jt=Si(l[Ot],l[x],l[I],!0))>z&&(st=Ot,z=jt);z>_&&(g[st]=1,Xs(l,g,_,x,st),Xs(l,g,_,st,I))}function fn(l,g,_,x,I){var Ot,jt,Jt,z=x?_u:sr(l,_),st=sr(g,_);for(_u=st;;){if(!(z|st))return[l,g];if(z&st)return!1;Jt=sr(jt=Qo(l,g,Ot=z||st,_,I),_),Ot===z?(l=jt,z=Jt):(g=jt,st=Jt)}}function Qo(l,g,_,x,I){var Jt,ne,z=g.x-l.x,st=g.y-l.y,Ot=x.min,jt=x.max;return 8&_?(Jt=l.x+z*(jt.y-l.y)/st,ne=jt.y):4&_?(Jt=l.x+z*(Ot.y-l.y)/st,ne=Ot.y):2&_?(Jt=jt.x,ne=l.y+st*(jt.x-l.x)/z):1&_&&(Jt=Ot.x,ne=l.y+st*(Ot.x-l.x)/z),new gt(Jt,ne,I)}function sr(l,g){var _=0;return l.x<g.min.x?_|=1:l.x>g.max.x&&(_|=2),l.y<g.min.y?_|=4:l.y>g.max.y&&(_|=8),_}function Gu(l,g){var _=g.x-l.x,x=g.y-l.y;return _*_+x*x}function Si(l,g,_,x){var Jt,I=g.x,z=g.y,st=_.x-I,Ot=_.y-z,jt=st*st+Ot*Ot;return jt>0&&((Jt=((l.x-I)*st+(l.y-z)*Ot)/jt)>1?(I=_.x,z=_.y):Jt>0&&(I+=st*Jt,z+=Ot*Jt)),st=l.x-I,Ot=l.y-z,x?st*st+Ot*Ot:new gt(I,z)}function Qi(l){return!R(l[0])||"object"!=typeof l[0][0]&&typeof l[0][0]<"u"}function Bl(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Qi(l)}function Go(l,g){var _,x,I,z,st,Ot,jt,Jt;if(!l||0===l.length)throw new Error("latlngs not passed");Qi(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var ne=St([0,0]),ke=Mt(l);ke.getNorthWest().distanceTo(ke.getSouthWest())*ke.getNorthEast().distanceTo(ke.getNorthWest())<1700&&(ne=qa(l));var Ur=l.length,Tr=[];for(_=0;_<Ur;_++){var Pi=St(l[_]);Tr.push(g.project(St([Pi.lat-ne.lat,Pi.lng-ne.lng])))}for(_=0,x=0;_<Ur-1;_++)x+=Tr[_].distanceTo(Tr[_+1])/2;if(0===x)Jt=Tr[0];else for(_=0,z=0;_<Ur-1;_++)if((z+=I=(st=Tr[_]).distanceTo(Ot=Tr[_+1]))>x){Jt=[Ot.x-(jt=(z-x)/I)*(Ot.x-st.x),Ot.y-jt*(Ot.y-st.y)];break}var qr=g.unproject(ot(Jt));return St([qr.lat+ne.lat,qr.lng+ne.lng])}var wn={__proto__:null,simplify:kl,pointToSegmentDistance:Mn,closestPointOnSegment:function Ee(l,g,_){return Si(l,g,_)},clipSegment:fn,_getEdgeIntersection:Qo,_getBitCode:sr,_sqClosestPointOnSegment:Si,isFlat:Qi,_flat:Bl,polylineCenter:Go},Vi={project:function(l){return new gt(l.lng,l.lat)},unproject:function(l){return new $t(l.y,l.x)},bounds:new ht([-180,-90],[180,90])},pa={R:6378137,R_MINOR:6356752.314245179,bounds:new ht([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(l){var g=Math.PI/180,_=this.R,x=l.lat*g,I=this.R_MINOR/_,z=Math.sqrt(1-I*I),st=z*Math.sin(x),Ot=Math.tan(Math.PI/4-x/2)/Math.pow((1-st)/(1+st),z/2);return x=-_*Math.log(Math.max(Ot,1e-10)),new gt(l.lng*g*_,x)},unproject:function(l){for(var Jt,g=180/Math.PI,_=this.R,x=this.R_MINOR/_,I=Math.sqrt(1-x*x),z=Math.exp(-l.y/_),st=Math.PI/2-2*Math.atan(z),Ot=0,jt=.1;Ot<15&&Math.abs(jt)>1e-7;Ot++)Jt=I*Math.sin(st),Jt=Math.pow((1-Jt)/(1+Jt),I/2),st+=jt=Math.PI/2-2*Math.atan(z*Jt)-st;return new $t(st*g,l.x*g/_)}},ms={__proto__:null,LonLat:Vi,Mercator:pa,SphericalMercator:re},go=$({},oe,{code:"EPSG:3395",projection:pa,transformation:function(){var l=.5/(Math.PI*pa.R);return Qt(l,.5,-l,.5)}()}),_i=$({},oe,{code:"EPSG:4326",projection:Vi,transformation:Qt(1/180,1,-1/180,.5)}),Za=$({},te,{projection:Vi,transformation:Qt(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,g){var _=g.lng-l.lng,x=g.lat-l.lat;return Math.sqrt(_*_+x*x)},infinite:!0});te.Earth=oe,te.EPSG3395=go,te.EPSG3857=Qe,te.EPSG900913=Cn,te.EPSG4326=_i,te.Simple=Za;var Ko=et.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[J(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[J(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var g=l.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var _=this.getEvents();g.on(_,this),this.once("remove",function(){g.off(_,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Xe.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var g=J(l);return this._layers[g]||(this._layers[g]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l)),this},removeLayer:function(l){var g=J(l);return this._layers[g]?(this._loaded&&l.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return J(l)in this._layers},eachLayer:function(l,g){for(var _ in this._layers)l.call(g,this._layers[_]);return this},_addLayers:function(l){for(var g=0,_=(l=l?R(l)?l:[l]:[]).length;g<_;g++)this.addLayer(l[g])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[J(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var g=J(l);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,g=-1/0,_=this._getZoomSpan();for(var x in this._zoomBoundLayers){var I=this._zoomBoundLayers[x].options;l=void 0===I.minZoom?l:Math.min(l,I.minZoom),g=void 0===I.maxZoom?g:Math.max(g,I.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=l===1/0?void 0:l,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var wi=Ko.extend({initialize:function(l,g){var _,x;if(bt(this,g),this._layers={},l)for(_=0,x=l.length;_<x;_++)this.addLayer(l[_])},addLayer:function(l){var g=this.getLayerId(l);return this._layers[g]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var g=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(l){return("number"==typeof l?l:this.getLayerId(l))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var _,x,g=Array.prototype.slice.call(arguments,1);for(_ in this._layers)(x=this._layers[_])[l]&&x[l].apply(x,g);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,g){for(var _ in this._layers)l.call(g,this._layers[_]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return J(l)}}),Me=wi.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),wi.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),wi.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new Lt;for(var g in this._layers){var _=this._layers[g];l.extend(_.getBounds?_.getBounds():_.getLatLng())}return l}}),pe=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){bt(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,g){var _=this._getIconUrl(l);if(!_){if("icon"===l)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(_,g&&"IMG"===g.tagName?g:null);return this._setIconStyles(x,l),(this.options.crossOrigin||""===this.options.crossOrigin)&&(x.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),x},_setIconStyles:function(l,g){var _=this.options,x=_[g+"Size"];"number"==typeof x&&(x=[x,x]);var I=ot(x),z=ot("shadow"===g&&_.shadowAnchor||_.iconAnchor||I&&I.divideBy(2,!0));l.className="leaflet-marker-"+g+" "+(_.className||""),z&&(l.style.marginLeft=-z.x+"px",l.style.marginTop=-z.y+"px"),I&&(l.style.width=I.x+"px",l.style.height=I.y+"px")},_createImg:function(l,g){return(g=g||document.createElement("img")).src=l,g},_getIconUrl:function(l){return ve.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});var To=pe.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return"string"!=typeof To.imagePath&&(To.imagePath=this._detectIconPath()),(this.options.imagePath||To.imagePath)+pe.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var g=function(_,x,I){var z=x.exec(_);return z&&z[I]};return(l=g(l,/^url\((['"])?(.+)\1\)$/,2))&&g(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=Pn("div","leaflet-default-icon-path",document.body),g=$s(l,"background-image")||$s(l,"backgroundImage");if(document.body.removeChild(l),g=this._stripUrl(g))return g;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),mo=_e.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new Kr(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var g=this._marker,_=g._map,x=this._marker.options.autoPanSpeed,I=this._marker.options.autoPanPadding,z=or(g._icon),st=_.getPixelBounds(),Ot=_.getPixelOrigin(),jt=X(st.min._subtract(Ot).add(I),st.max._subtract(Ot).subtract(I));if(!jt.contains(z)){var Jt=ot((Math.max(jt.max.x,z.x)-jt.max.x)/(st.max.x-jt.max.x)-(Math.min(jt.min.x,z.x)-jt.min.x)/(st.min.x-jt.min.x),(Math.max(jt.max.y,z.y)-jt.max.y)/(st.max.y-jt.max.y)-(Math.min(jt.min.y,z.y)-jt.min.y)/(st.min.y-jt.min.y)).multiplyBy(x);_.panBy(Jt,{animate:!1}),this._draggable._newPos._add(Jt),this._draggable._startPos._add(Jt),ir(g._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=Ct(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(rt(this._panRequest),this._panRequest=Ct(this._adjustPan.bind(this,l)))},_onDrag:function(l){var g=this._marker,_=g._shadow,x=or(g._icon),I=g._map.layerPointToLatLng(x);_&&ir(_,x),g._latlng=I,l.latlng=I,l.oldLatLng=this._oldLatLng,g.fire("move",l).fire("drag",l)},_onDragEnd:function(l){rt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),ri=Ko.extend({options:{icon:new To,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,g){bt(this,g),this._latlng=St(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var g=this._latlng;return this._latlng=St(l),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=l.icon.createIcon(this._icon),x=!1;_!==this._icon&&(this._icon&&this._removeIcon(),x=!0,l.title&&(_.title=l.title),"IMG"===_.tagName&&(_.alt=l.alt||"")),fe(_,g),l.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&je(_,"focus",this._panOnFocus,this);var I=l.icon.createShadow(this._shadow),z=!1;I!==this._shadow&&(this._removeShadow(),z=!0),I&&(fe(I,g),I.alt=""),this._shadow=I,l.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),I&&z&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_n(this._icon,"focus",this._panOnFocus,this),nn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nn(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&ir(this._icon,l),this._shadow&&ir(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mo)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mo(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Ne(this._icon,l),this._shadow&&Ne(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var g=this.options.icon.options,_=g.iconSize?ot(g.iconSize):ot(0,0),x=g.iconAnchor?ot(g.iconAnchor):ot(0,0);l.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:_.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var ys=Ko.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return bt(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Er=ys.extend({options:{fill:!0,radius:10},initialize:function(l,g){bt(this,g),this._latlng=St(l),this._radius=this.options.radius},setLatLng:function(l){var g=this._latlng;return this._latlng=St(l),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var g=l&&l.radius||this._radius;return ys.prototype.setStyle.call(this,l),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,g=this._radiusY||l,_=this._clickTolerance(),x=[l+_,g+_];this._pxBounds=new ht(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Jr=Er.extend({initialize:function(l,g,_){if("number"==typeof g&&(g=$({},_,{radius:g})),bt(this,g),this._latlng=St(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new Lt(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:ys.prototype.setStyle,_project:function(){var l=this._latlng.lng,g=this._latlng.lat,_=this._map,x=_.options.crs;if(x.distance===oe.distance){var I=Math.PI/180,z=this._mRadius/oe.R/I,st=_.project([g+z,l]),Ot=_.project([g-z,l]),jt=st.add(Ot).divideBy(2),Jt=_.unproject(jt).lat,ne=Math.acos((Math.cos(z*I)-Math.sin(g*I)*Math.sin(Jt*I))/(Math.cos(g*I)*Math.cos(Jt*I)))/I;(isNaN(ne)||0===ne)&&(ne=z/Math.cos(Math.PI/180*g)),this._point=jt.subtract(_.getPixelOrigin()),this._radius=isNaN(ne)?0:jt.x-_.project([Jt,l-ne]).x,this._radiusY=jt.y-st.y}else{var ke=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(ke).x}this._updateBounds()}});var Ve=ys.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,g){bt(this,g),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var I,z,g=1/0,_=null,x=Si,st=0,Ot=this._parts.length;st<Ot;st++)for(var jt=this._parts[st],Jt=1,ne=jt.length;Jt<ne;Jt++){var ke=x(l,I=jt[Jt-1],z=jt[Jt],!0);ke<g&&(g=ke,_=x(l,I,z))}return _&&(_.distance=Math.sqrt(g)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Go(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,g){return g=g||this._defaultShape(),l=St(l),g.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new Lt,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Qi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var g=[],_=Qi(l),x=0,I=l.length;x<I;x++)_?(g[x]=St(l[x]),this._bounds.extend(g[x])):g[x]=this._convertLatLngs(l[x]);return g},_project:function(){var l=new ht;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),g=new gt(l,l);this._rawPxBounds&&(this._pxBounds=new ht([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(l,g,_){var z,st,I=l.length;if(l[0]instanceof $t){for(st=[],z=0;z<I;z++)st[z]=this._map.latLngToLayerPoint(l[z]),_.extend(st[z]);g.push(st)}else for(z=0;z<I;z++)this._projectLatlngs(l[z],g,_)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(l)){if(this.options.noClip)return void(this._parts=this._rings);var _,x,I,z,st,Ot,jt,g=this._parts;for(_=0,I=0,z=this._rings.length;_<z;_++)for(x=0,st=(jt=this._rings[_]).length;x<st-1;x++)(Ot=fn(jt[x],jt[x+1],l,x,!0))&&(g[I]=g[I]||[],g[I].push(Ot[0]),(Ot[1]!==jt[x+1]||x===st-2)&&(g[I].push(Ot[1]),I++))}},_simplifyPoints:function(){for(var l=this._parts,g=this.options.smoothFactor,_=0,x=l.length;_<x;_++)l[_]=kl(l[_],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,g){var _,x,I,z,st,Ot,jt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(_=0,z=this._parts.length;_<z;_++)for(x=0,I=(st=(Ot=this._parts[_]).length)-1;x<st;I=x++)if((g||0!==x)&&Mn(l,Ot[I],Ot[x])<=jt)return!0;return!1}});Ve._flat=Bl;var ts=Ve.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ls(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var g=Ve.prototype._convertLatLngs.call(this,l),_=g.length;return _>=2&&g[0]instanceof $t&&g[0].equals(g[_-1])&&g.pop(),g},_setLatLngs:function(l){Ve.prototype._setLatLngs.call(this,l),Qi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Qi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,g=this.options.weight,_=new gt(g,g);if(l=new ht(l.min.subtract(_),l.max.add(_)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(l)){if(this.options.noClip)return void(this._parts=this._rings);for(var z,x=0,I=this._rings.length;x<I;x++)(z=Vr(this._rings[x],l,!0)).length&&this._parts.push(z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var _,x,I,z,st,Ot,jt,Jt,g=!1;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(z=0,jt=this._parts.length;z<jt;z++)for(st=0,Ot=(Jt=(_=this._parts[z]).length)-1;st<Jt;Ot=st++)(x=_[st]).y>l.y!=(I=_[Ot]).y>l.y&&l.x<(I.x-x.x)*(l.y-x.y)/(I.y-x.y)+x.x&&(g=!g);return g||Ve.prototype._containsPoint.call(this,l,!0)}});var _s=Me.extend({initialize:function(l,g){bt(this,g),this._layers={},l&&this.addData(l)},addData:function(l){var _,x,I,g=R(l)?l:l.features;if(g){for(_=0,x=g.length;_<x;_++)((I=g[_]).geometries||I.geometry||I.features||I.coordinates)&&this.addData(I);return this}var z=this.options;if(z.filter&&!z.filter(l))return this;var st=Ho(l,z);return st?(st.feature=yo(l),st.defaultOptions=st.options,this.resetStyle(st),z.onEachFeature&&z.onEachFeature(l,st),this.addLayer(st)):this},resetStyle:function(l){return void 0===l?this.eachLayer(this.resetStyle,this):(l.options=$({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(g){this._setLayerStyle(g,l)},this)},_setLayerStyle:function(l,g){l.setStyle&&("function"==typeof g&&(g=g(l.feature)),l.setStyle(g))}});function Ho(l,g){var Ot,jt,Jt,ne,_="Feature"===l.type?l.geometry:l,x=_?_.coordinates:null,I=[],z=g&&g.pointToLayer,st=g&&g.coordsToLatLng||Ao;if(!x&&!_)return null;switch(_.type){case"Point":return es(z,l,Ot=st(x),g);case"MultiPoint":for(Jt=0,ne=x.length;Jt<ne;Jt++)Ot=st(x[Jt]),I.push(es(z,l,Ot,g));return new Me(I);case"LineString":case"MultiLineString":return jt=ti(x,"LineString"===_.type?0:1,st),new Ve(jt,g);case"Polygon":case"MultiPolygon":return jt=ti(x,"Polygon"===_.type?1:2,st),new ts(jt,g);case"GeometryCollection":for(Jt=0,ne=_.geometries.length;Jt<ne;Jt++){var ke=Ho({geometry:_.geometries[Jt],type:"Feature",properties:l.properties},g);ke&&I.push(ke)}return new Me(I);case"FeatureCollection":for(Jt=0,ne=_.features.length;Jt<ne;Jt++){var rn=Ho(_.features[Jt],g);rn&&I.push(rn)}return new Me(I);default:throw new Error("Invalid GeoJSON object.")}}function es(l,g,_,x){return l?l(g,_):new ri(_,x&&x.markersInheritOptions&&x)}function Ao(l){return new $t(l[1],l[0],l[2])}function ti(l,g,_){for(var st,x=[],I=0,z=l.length;I<z;I++)st=g?ti(l[I],g-1,_):(_||Ao)(l[I]),x.push(st);return x}function Os(l,g){return void 0!==(l=St(l)).alt?[Ut(l.lng,g),Ut(l.lat,g),Ut(l.alt,g)]:[Ut(l.lng,g),Ut(l.lat,g)]}function ai(l,g,_,x){for(var I=[],z=0,st=l.length;z<st;z++)I.push(g?ai(l[z],Qi(l[z])?0:g-1,_,x):Os(l[z],x));return!g&&_&&I.length>0&&I.push(I[0].slice()),I}function Ki(l,g){return l.feature?$({},l.feature,{geometry:g}):yo(g)}function yo(l){return"Feature"===l.type||"FeatureCollection"===l.type?l:{type:"Feature",properties:{},geometry:l}}var Wa={toGeoJSON:function(l){return Ki(this,{type:"Point",coordinates:Os(this.getLatLng(),l)})}};function Qs(l,g){return new _s(l,g)}ri.include(Wa),Jr.include(Wa),Er.include(Wa),Ve.include({toGeoJSON:function(l){var g=!Qi(this._latlngs);return Ki(this,{type:(g?"Multi":"")+"LineString",coordinates:ai(this._latlngs,g?1:0,!1,l)})}}),ts.include({toGeoJSON:function(l){var g=!Qi(this._latlngs),_=g&&!Qi(this._latlngs[0]),x=ai(this._latlngs,_?2:g?1:0,!0,l);return g||(x=[x]),Ki(this,{type:(_?"Multi":"")+"Polygon",coordinates:x})}}),wi.include({toMultiPoint:function(l){var g=[];return this.eachLayer(function(_){g.push(_.toGeoJSON(l).geometry.coordinates)}),Ki(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(l){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===g)return this.toMultiPoint(l);var _="GeometryCollection"===g,x=[];return this.eachLayer(function(I){if(I.toGeoJSON){var z=I.toGeoJSON(l);if(_)x.push(z.geometry);else{var st=yo(z);"FeatureCollection"===st.type?x.push.apply(x,st.features):x.push(st)}}}),_?Ki(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});var Ks=Qs,Lo=Ko.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,g,_){this._url=l,this._bounds=Mt(g),bt(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&io(this._image),this},bringToBack:function(){return this._map&&$r(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=Mt(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l="IMG"===this._url.tagName,g=this._image=l?this._url:Pn("img");fe(g,"leaflet-image-layer"),this._zoomAnimated&&fe(g,"leaflet-zoom-animated"),this.options.className&&fe(g,this.options.className),g.onselectstart=Pt,g.onmousemove=Pt,g.onload=ut(this.fire,this,"load"),g.onerror=ut(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l?this._url=g.src:(g.src=this._url,g.alt=this.options.alt)},_animateZoom:function(l){var g=this._map.getZoomScale(l.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;xn(this._image,_,g)},_reset:function(){var l=this._image,g=new ht(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=g.getSize();ir(l,g.min),l.style.width=_.x+"px",l.style.height=_.y+"px"},_updateOpacity:function(){Ne(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),Oo=Lo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l="VIDEO"===this._url.tagName,g=this._image=l?this._url:Pn("video");if(fe(g,"leaflet-image-layer"),this._zoomAnimated&&fe(g,"leaflet-zoom-animated"),this.options.className&&fe(g,this.options.className),g.onselectstart=Pt,g.onmousemove=Pt,g.onloadeddata=ut(this.fire,this,"load"),l){for(var _=g.getElementsByTagName("source"),x=[],I=0;I<_.length;I++)x.push(_[I].src);this._url=_.length>0?x:[g.src]}else{R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var z=0;z<this._url.length;z++){var st=Pn("source");st.src=this._url[z],g.appendChild(st)}}}});var hl=Lo.extend({_initImage:function(){var l=this._image=this._url;fe(l,"leaflet-image-layer"),this._zoomAnimated&&fe(l,"leaflet-zoom-animated"),this.options.className&&fe(l,this.options.className),l.onselectstart=Pt,l.onmousemove=Pt}});var uo=Ko.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,g){l&&(l instanceof $t||R(l))?(this._latlng=St(l),bt(this,g)):(bt(this,l),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(l){return(l=arguments.length?l:this._source._map).hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Ne(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Ne(this._container,1),this.bringToFront(),this.options.interactive&&(fe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Ne(this._container,0),this._removeTimeout=setTimeout(ut(nn,void 0,this._container),200)):nn(this._container),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=St(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&io(this._container),this},bringToBack:function(){return this._map&&$r(this._container),this},_prepareOpen:function(l){var g=this._source;if(!g._map)return!1;if(g instanceof Me){g=null;var _=this._source._layers;for(var x in _)if(_[x]._map){g=_[x];break}if(!g)return!1;this._source=g}if(!l)if(g.getCenter)l=g.getCenter();else if(g.getLatLng)l=g.getLatLng();else{if(!g.getBounds)throw new Error("Unable to get source layer LatLng.");l=g.getBounds().getCenter()}return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,g="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof g)l.innerHTML=g;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),g=ot(this.options.offset),_=this._getAnchor();this._zoomAnimated?ir(this._container,l.add(_)):g=g.add(l).add(_);var x=this._containerBottom=-g.y,I=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=x+"px",this._container.style.left=I+"px"}},_getAnchor:function(){return[0,0]}});Xe.include({_initOverlay:function(l,g,_,x){var I=g;return I instanceof l||(I=new l(x).setContent(g)),_&&I.setLatLng(_),I}}),Ko.include({_initOverlay:function(l,g,_,x){var I=_;return I instanceof l?(bt(I,x),I._source=this):(I=g&&!x?g:new l(x,this)).setContent(_),I}});var ii=uo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return!(l=arguments.length?l:this._source._map).hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,uo.prototype.openOn.call(this,l)},onAdd:function(l){uo.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ys||this._source.on("preclick",$i))},onRemove:function(l){uo.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ys||this._source.off("preclick",$i))},getEvents:function(){var l=uo.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",g=this._container=Pn("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=Pn("div",l+"-content-wrapper",g);if(this._contentNode=Pn("div",l+"-content",_),Fi(g),Ir(this._contentNode),je(g,"contextmenu",$i),this._tipContainer=Pn("div",l+"-tip-container",g),this._tip=Pn("div",l+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=Pn("a",l+"-close-button",g);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',je(x,"click",function(I){vi(I),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,g=l.style;g.width="",g.whiteSpace="nowrap";var _=l.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),g.width=_+1+"px",g.whiteSpace="",g.height="";var I=this.options.maxHeight,z="leaflet-popup-scrolled";I&&l.offsetHeight>I?(g.height=I+"px",fe(l,z)):be(l,z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),_=this._getAnchor();ir(this._container,g.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var l=this._map,g=parseInt($s(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+g,x=this._containerWidth,I=new gt(this._containerLeft,-_-this._containerBottom);I._add(or(this._container));var z=l.layerPointToContainerPoint(I),st=ot(this.options.autoPanPadding),Ot=ot(this.options.autoPanPaddingTopLeft||st),jt=ot(this.options.autoPanPaddingBottomRight||st),Jt=l.getSize(),ne=0,ke=0;z.x+x+jt.x>Jt.x&&(ne=z.x+x-Jt.x+jt.x),z.x-ne-Ot.x<0&&(ne=z.x-Ot.x),z.y+_+jt.y>Jt.y&&(ke=z.y+_-Jt.y+jt.y),z.y-ke-Ot.y<0&&(ke=z.y-Ot.y),(ne||ke)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([ne,ke]))}},_getAnchor:function(){return ot(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Xe.mergeOptions({closePopupOnClick:!0}),Xe.include({openPopup:function(l,g,_){return this._initOverlay(ii,l,g,_).openOn(this),this},closePopup:function(l){return(l=arguments.length?l:this._popup)&&l.close(),this}}),Ko.include({bindPopup:function(l,g){return this._popup=this._initOverlay(ii,this._popup,l,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Me||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(this._popup&&this._map){qi(l);var g=l.layer||l.target;if(this._popup._source===g&&!(g instanceof ys))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng));this._popup._source=g,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){13===l.originalEvent.keyCode&&this._openPopup(l)}});var vo=uo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){uo.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){uo.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=uo.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){this._contentNode=this._container=Pn("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+J(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var g,_,x=this._map,I=this._container,z=x.latLngToContainerPoint(x.getCenter()),st=x.layerPointToContainerPoint(l),Ot=this.options.direction,jt=I.offsetWidth,Jt=I.offsetHeight,ne=ot(this.options.offset),ke=this._getAnchor();"top"===Ot?(g=jt/2,_=Jt):"bottom"===Ot?(g=jt/2,_=0):"center"===Ot?(g=jt/2,_=Jt/2):"right"===Ot?(g=0,_=Jt/2):"left"===Ot?(g=jt,_=Jt/2):st.x<z.x?(Ot="right",g=0,_=Jt/2):(Ot="left",g=jt+2*(ne.x+ke.x),_=Jt/2),l=l.subtract(ot(g,_,!0)).add(ne).add(ke),be(I,"leaflet-tooltip-right"),be(I,"leaflet-tooltip-left"),be(I,"leaflet-tooltip-top"),be(I,"leaflet-tooltip-bottom"),fe(I,"leaflet-tooltip-"+Ot),ir(I,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Ne(this._container,l)},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(g)},_getAnchor:function(){return ot(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Xe.include({openTooltip:function(l,g,_){return this._initOverlay(vo,l,g,_).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),Ko.include({bindTooltip:function(l,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vo,this._tooltip,l,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(l||!this._tooltipHandlersAdded){var g=l?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[g](_),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Me||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var g="function"==typeof l.getElement&&l.getElement();g&&(je(g,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),je(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var g="function"==typeof l.getElement&&l.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;return void this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(l)})}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var _,x,g=l.latlng;this._tooltip.options.sticky&&l.originalEvent&&(_=this._map.mouseEventToContainerPoint(l.originalEvent),x=this._map.containerPointToLayerPoint(_),g=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(g)}});var ju=pe.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var g=l&&"DIV"===l.tagName?l:document.createElement("div"),_=this.options;if(_.html instanceof Element?(yu(g),g.appendChild(_.html)):g.innerHTML=!1!==_.html?_.html:"",_.bgPos){var x=ot(_.bgPos);g.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});pe.Default=To;var $o=Ko.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){bt(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),nn(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(io(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($r(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=wt(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof gt?l:new gt(l,l)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var z,g=this.getPane().children,_=-l(-1/0,1/0),x=0,I=g.length;x<I;x++)z=g[x].style.zIndex,g[x]!==this._container&&z&&(_=l(_,+z));isFinite(_)&&(this.options.zIndex=_+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ve.ielt9){Ne(this._container,this.options.opacity);var l=+new Date,g=!1,_=!1;for(var x in this._tiles){var I=this._tiles[x];if(I.current&&I.loaded){var z=Math.min(1,(l-I.loaded)/200);Ne(I.el,z),z<1?g=!0:(I.active?_=!0:this._onOpaqueTile(I),I.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),g&&(rt(this._fadeFrame),this._fadeFrame=Ct(this._updateOpacity,this))}},_onOpaqueTile:Pt,_initContainer:function(){this._container||(this._container=Pn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,g=this.options.maxZoom;if(void 0!==l){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===l?(this._levels[_].el.style.zIndex=g-Math.abs(l-_),this._onUpdateLevel(_)):(nn(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var x=this._levels[l],I=this._map;return x||((x=this._levels[l]={}).el=Pn("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=g,x.origin=I.project(I.unproject(I.getPixelOrigin()),l).round(),x.zoom=l,this._setZoomTransform(x,I.getCenter(),I.getZoom()),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:Pt,_onRemoveLevel:Pt,_onCreateLevel:Pt,_pruneTiles:function(){if(this._map){var l,g,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom)return void this._removeAllTiles();for(l in this._tiles)(g=this._tiles[l]).retain=g.current;for(l in this._tiles)if((g=this._tiles[l]).current&&!g.active){var x=g.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var g in this._tiles)this._tiles[g].coords.z===l&&this._removeTile(g)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)nn(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,g,_,x){var I=Math.floor(l/2),z=Math.floor(g/2),st=_-1,Ot=new gt(+I,+z);Ot.z=+st;var jt=this._tileCoordsToKey(Ot),Jt=this._tiles[jt];return Jt&&Jt.active?(Jt.retain=!0,!0):(Jt&&Jt.loaded&&(Jt.retain=!0),st>x&&this._retainParent(I,z,st,x))},_retainChildren:function(l,g,_,x){for(var I=2*l;I<2*l+2;I++)for(var z=2*g;z<2*g+2;z++){var st=new gt(I,z);st.z=_+1;var Ot=this._tileCoordsToKey(st),jt=this._tiles[Ot];jt&&jt.active?jt.retain=!0:(jt&&jt.loaded&&(jt.retain=!0),_+1<x&&this._retainChildren(I,z,_+1,x))}},_resetView:function(l){var g=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var g=this.options;return void 0!==g.minNativeZoom&&l<g.minNativeZoom?g.minNativeZoom:void 0!==g.maxNativeZoom&&g.maxNativeZoom<l?g.maxNativeZoom:l},_setView:function(l,g,_,x){var I=Math.round(g);I=void 0!==this.options.maxZoom&&I>this.options.maxZoom||void 0!==this.options.minZoom&&I<this.options.minZoom?void 0:this._clampZoom(I),(!x||this.options.updateWhenZooming&&I!==this._tileZoom)&&(this._tileZoom=I,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==I&&this._update(l),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(l,g)},_setZoomTransforms:function(l,g){for(var _ in this._levels)this._setZoomTransform(this._levels[_],l,g)},_setZoomTransform:function(l,g,_){var x=this._map.getZoomScale(_,l.zoom),I=l.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(g,_)).round();ve.any3d?xn(l.el,I,x):ir(l.el,I)},_resetGrid:function(){var l=this._map,g=l.options.crs,_=this._tileSize=this.getTileSize(),x=this._tileZoom,I=this._map.getPixelWorldBounds(this._tileZoom);I&&(this._globalTileRange=this._pxBoundsToTileRange(I)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,g.wrapLng[0]],x).x/_.x),Math.ceil(l.project([0,g.wrapLng[1]],x).x/_.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([g.wrapLat[0],0],x).y/_.x),Math.ceil(l.project([g.wrapLat[1],0],x).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var g=this._map,_=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),x=g.getZoomScale(_,this._tileZoom),I=g.project(l,this._tileZoom).floor(),z=g.getSize().divideBy(2*x);return new ht(I.subtract(z),I.add(z))},_update:function(l){var g=this._map;if(g){var _=this._clampZoom(g.getZoom());if(void 0===l&&(l=g.getCenter()),void 0!==this._tileZoom){var x=this._getTiledPixelBounds(l),I=this._pxBoundsToTileRange(x),z=I.getCenter(),st=[],Ot=this.options.keepBuffer,jt=new ht(I.getBottomLeft().subtract([Ot,-Ot]),I.getTopRight().add([Ot,-Ot]));if(!(isFinite(I.min.x)&&isFinite(I.min.y)&&isFinite(I.max.x)&&isFinite(I.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Jt in this._tiles){var ne=this._tiles[Jt].coords;(ne.z!==this._tileZoom||!jt.contains(new gt(ne.x,ne.y)))&&(this._tiles[Jt].current=!1)}if(Math.abs(_-this._tileZoom)>1)return void this._setView(l,_);for(var ke=I.min.y;ke<=I.max.y;ke++)for(var rn=I.min.x;rn<=I.max.x;rn++){var Ur=new gt(rn,ke);if(Ur.z=this._tileZoom,this._isValidTile(Ur)){var Tr=this._tiles[this._tileCoordsToKey(Ur)];Tr?Tr.current=!0:st.push(Ur)}}if(st.sort(function(qr,Ui){return qr.distanceTo(z)-Ui.distanceTo(z)}),0!==st.length){this._loading||(this._loading=!0,this.fire("loading"));var Pi=document.createDocumentFragment();for(rn=0;rn<st.length;rn++)this._addTile(st[rn],Pi);this._level.el.appendChild(Pi)}}}},_isValidTile:function(l){var g=this._map.options.crs;if(!g.infinite){var _=this._globalTileRange;if(!g.wrapLng&&(l.x<_.min.x||l.x>_.max.x)||!g.wrapLat&&(l.y<_.min.y||l.y>_.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(l);return Mt(this.options.bounds).overlaps(x)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var g=this._map,_=this.getTileSize(),x=l.scaleBy(_),I=x.add(_);return[g.unproject(x,l.z),g.unproject(I,l.z)]},_tileCoordsToBounds:function(l){var g=this._tileCoordsToNwSe(l),_=new Lt(g[0],g[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var g=l.split(":"),_=new gt(+g[0],+g[1]);return _.z=+g[2],_},_removeTile:function(l){var g=this._tiles[l];g&&(nn(g.el),delete this._tiles[l],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){fe(l,"leaflet-tile");var g=this.getTileSize();l.style.width=g.x+"px",l.style.height=g.y+"px",l.onselectstart=Pt,l.onmousemove=Pt,ve.ielt9&&this.options.opacity<1&&Ne(l,this.options.opacity)},_addTile:function(l,g){var _=this._getTilePos(l),x=this._tileCoordsToKey(l),I=this.createTile(this._wrapCoords(l),ut(this._tileReady,this,l));this._initTile(I),this.createTile.length<2&&Ct(ut(this._tileReady,this,l,null,I)),ir(I,_),this._tiles[x]={el:I,coords:l,current:!0},g.appendChild(I),this.fire("tileloadstart",{tile:I,coords:l})},_tileReady:function(l,g,_){g&&this.fire("tileerror",{error:g,tile:_,coords:l});var x=this._tileCoordsToKey(l);(_=this._tiles[x])&&(_.loaded=+new Date,this._map._fadeAnimated?(Ne(_.el,0),rt(this._fadeFrame),this._fadeFrame=Ct(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),g||(fe(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ve.ielt9||!this._map._fadeAnimated?Ct(this._pruneTiles,this):setTimeout(ut(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var g=new gt(this._wrapX?xt(l.x,this._wrapX):l.x,this._wrapY?xt(l.y,this._wrapY):l.y);return g.z=l.z,g},_pxBoundsToTileRange:function(l){var g=this.getTileSize();return new ht(l.min.unscaleBy(g).floor(),l.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});var ma=$o.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,g){this._url=l,(g=bt(this,g)).detectRetina&&ve.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),"string"==typeof g.subdomains&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,g){return this._url===l&&void 0===g&&(g=!0),this._url=l,g||this.redraw(),this},createTile:function(l,g){var _=document.createElement("img");return je(_,"load",ut(this._tileOnLoad,this,g,_)),je(_,"error",ut(this._tileOnError,this,g,_)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(_.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(l),_},getTileUrl:function(l){var g={r:ve.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-l.y;this.options.tms&&(g.y=_),g["-y"]=_}return Z(this._url,$(g,this.options))},_tileOnLoad:function(l,g){ve.ielt9?setTimeout(ut(l,this,null,g),0):l(null,g)},_tileOnError:function(l,g,_){var x=this.options.errorTileUrl;x&&g.getAttribute("src")!==x&&(g.src=x),l(_,g)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom;return this.options.zoomReverse&&(l=this.options.maxZoom-l),l+this.options.zoomOffset},_getSubdomain:function(l){var g=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var l,g;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&((g=this._tiles[l].el).onload=Pt,g.onerror=Pt,!g.complete)){g.src=F;var _=this._tiles[l].coords;nn(g),delete this._tiles[l],this.fire("tileabort",{tile:g,coords:_})}},_removeTile:function(l){var g=this._tiles[l];if(g)return g.el.setAttribute("src",F),$o.prototype._removeTile.call(this,l)},_tileReady:function(l,g,_){if(this._map&&(!_||_.getAttribute("src")!==F))return $o.prototype._tileReady.call(this,l,g,_)}});function Ei(l,g){return new ma(l,g)}var Hu=ma.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,g){this._url=l;var _=$({},this.defaultWmsParams);for(var x in g)x in this.options||(_[x]=g[x]);var I=(g=bt(this,g)).detectRetina&&ve.retina?2:1,z=this.getTileSize();_.width=z.x*I,_.height=z.y*I,this.wmsParams=_},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,ma.prototype.onAdd.call(this,l)},getTileUrl:function(l){var g=this._tileCoordsToNwSe(l),_=this._crs,x=X(_.project(g[0]),_.project(g[1])),I=x.min,z=x.max,st=(this._wmsVersion>=1.3&&this._crs===_i?[I.y,I.x,z.y,z.x]:[I.x,I.y,z.x,z.y]).join(","),Ot=ma.prototype.getTileUrl.call(this,l);return Ot+Yt(this.wmsParams,Ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+st},setParams:function(l,g){return $(this.wmsParams,l),g||this.redraw(),this}});ma.WMS=Hu,Ei.wms=function Ci(l,g){return new Hu(l,g)};var Cr=Ko.extend({options:{padding:.1},initialize:function(l){bt(this,l),J(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,g){var _=this._map.getZoomScale(g,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),I=this._map.project(this._center,g),z=x.multiplyBy(-_).add(I).subtract(this._map._getNewPixelOrigin(l,g));ve.any3d?xn(this._container,z,_):ir(this._container,z)},_reset:function(){for(var l in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,g=this._map.getSize(),_=this._map.containerPointToLayerPoint(g.multiplyBy(-l)).round();this._bounds=new ht(_,_.add(g.multiplyBy(1+2*l)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wo=Cr.extend({options:{tolerance:0},getEvents:function(){var l=Cr.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");je(l,"mousemove",this._onMouseMove,this),je(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),je(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){rt(this._redrawRequest),delete this._ctx,nn(this._container),_n(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var g in this._redrawBounds=null,this._layers)this._layers[g]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Cr.prototype._update.call(this);var l=this._bounds,g=this._container,_=l.getSize(),x=ve.retina?2:1;ir(g,l.min),g.width=x*_.x,g.height=x*_.y,g.style.width=_.x+"px",g.style.height=_.y+"px",ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Cr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[J(l)]=l;var g=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var g=l._order,_=g.next,x=g.prev;_?_.prev=x:this._drawLast=x,x?x.next=_:this._drawFirst=_,delete l._order,delete this._layers[J(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if("string"==typeof l.options.dashArray){var x,I,g=l.options.dashArray.split(/[, ]+/),_=[];for(I=0;I<g.length;I++){if(x=Number(g[I]),isNaN(x))return;_.push(x)}l.options._dashArray=_}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||Ct(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var g=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ht,this._redrawBounds.extend(l._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(l._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var g=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,g=this._redrawBounds;if(this._ctx.save(),g){var _=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)l=x.layer,(!g||l._pxBounds&&l._pxBounds.intersects(g))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,g){if(this._drawing){var _,x,I,z,st=l._parts,Ot=st.length,jt=this._ctx;if(Ot){for(jt.beginPath(),_=0;_<Ot;_++){for(x=0,I=st[_].length;x<I;x++)jt[x?"lineTo":"moveTo"]((z=st[_][x]).x,z.y);g&&jt.closePath()}this._fillStroke(jt,l)}}},_updateCircle:function(l){if(this._drawing&&!l._empty()){var g=l._point,_=this._ctx,x=Math.max(Math.round(l._radius),1),I=(Math.max(Math.round(l._radiusY),1)||x)/x;1!==I&&(_.save(),_.scale(1,I)),_.beginPath(),_.arc(g.x,g.y/I,x,0,2*Math.PI,!1),1!==I&&_.restore(),this._fillStroke(_,l)}},_fillStroke:function(l,g){var _=g.options;_.fill&&(l.globalAlpha=_.fillOpacity,l.fillStyle=_.fillColor||_.color,l.fill(_.fillRule||"evenodd")),_.stroke&&0!==_.weight&&(l.setLineDash&&l.setLineDash(g.options&&g.options._dashArray||[]),l.globalAlpha=_.opacity,l.lineWidth=_.weight,l.strokeStyle=_.color,l.lineCap=_.lineCap,l.lineJoin=_.lineJoin,l.stroke())},_onClick:function(l){for(var _,x,g=this._map.mouseEventToLayerPoint(l),I=this._drawFirst;I;I=I.next)(_=I.layer).options.interactive&&_._containsPoint(g)&&("click"!==l.type&&"preclick"!==l.type||!this._map._draggableMoved(_))&&(x=_);this._fireEvent(!!x&&[x],l)},_onMouseMove:function(l){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var g=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,g)}},_handleMouseOut:function(l){var g=this._hoveredLayer;g&&(be(this._container,"leaflet-interactive"),this._fireEvent([g],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,g){if(!this._mouseHoverThrottled){for(var _,x,I=this._drawFirst;I;I=I.next)(_=I.layer).options.interactive&&_._containsPoint(g)&&(x=_);x!==this._hoveredLayer&&(this._handleMouseOut(l),x&&(fe(this._container,"leaflet-interactive"),this._fireEvent([x],l,"mouseover"),this._hoveredLayer=x)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],l),this._mouseHoverThrottled=!0,setTimeout(ut(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,g,_){this._map._fireDOMEvent(g,_||g.type,l)},_bringToFront:function(l){var g=l._order;if(g){var _=g.next,x=g.prev;if(!_)return;_.prev=x,x?x.next=_:_&&(this._drawFirst=_),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(l)}},_bringToBack:function(l){var g=l._order;if(g){var _=g.next,x=g.prev;if(!x)return;x.next=_,_?_.prev=x:x&&(this._drawLast=x),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(l)}}});function He(l){return ve.canvas?new wo(l):null}var ei=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),an={_initContainer:function(){this._container=Pn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cr.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var g=l._container=ei("shape");fe(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",l._path=ei("path"),g.appendChild(l._path),this._updateStyle(l),this._layers[J(l)]=l},_addPath:function(l){var g=l._container;this._container.appendChild(g),l.options.interactive&&l.addInteractiveTarget(g)},_removePath:function(l){var g=l._container;nn(g),l.removeInteractiveTarget(g),delete this._layers[J(l)]},_updateStyle:function(l){var g=l._stroke,_=l._fill,x=l.options,I=l._container;I.stroked=!!x.stroke,I.filled=!!x.fill,x.stroke?(g||(g=l._stroke=ei("stroke")),I.appendChild(g),g.weight=x.weight+"px",g.color=x.color,g.opacity=x.opacity,g.dashStyle=x.dashArray?R(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):"",g.endcap=x.lineCap.replace("butt","flat"),g.joinstyle=x.lineJoin):g&&(I.removeChild(g),l._stroke=null),x.fill?(_||(_=l._fill=ei("fill")),I.appendChild(_),_.color=x.fillColor||x.color,_.opacity=x.fillOpacity):_&&(I.removeChild(_),l._fill=null)},_updateCircle:function(l){var g=l._point.round(),_=Math.round(l._radius),x=Math.round(l._radiusY||_);this._setPath(l,l._empty()?"M0 0":"AL "+g.x+","+g.y+" "+_+","+x+" 0,23592600")},_setPath:function(l,g){l._path.v=g},_bringToFront:function(l){io(l._container)},_bringToBack:function(l){$r(l._container)}},zr=ve.vml?ei:cn,Tn=Cr.extend({_initContainer:function(){this._container=zr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=zr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nn(this._container),_n(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Cr.prototype._update.call(this);var l=this._bounds,g=l.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,_.setAttribute("width",g.x),_.setAttribute("height",g.y)),ir(_,l.min),_.setAttribute("viewBox",[l.min.x,l.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(l){var g=l._path=zr("path");l.options.className&&fe(g,l.options.className),l.options.interactive&&fe(g,"leaflet-interactive"),this._updateStyle(l),this._layers[J(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){nn(l._path),l.removeInteractiveTarget(l._path),delete this._layers[J(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var g=l._path,_=l.options;g&&(_.stroke?(g.setAttribute("stroke",_.color),g.setAttribute("stroke-opacity",_.opacity),g.setAttribute("stroke-width",_.weight),g.setAttribute("stroke-linecap",_.lineCap),g.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?g.setAttribute("stroke-dasharray",_.dashArray):g.removeAttribute("stroke-dasharray"),_.dashOffset?g.setAttribute("stroke-dashoffset",_.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),_.fill?(g.setAttribute("fill",_.fillColor||_.color),g.setAttribute("fill-opacity",_.fillOpacity),g.setAttribute("fill-rule",_.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(l,g){this._setPath(l,Pe(l._parts,g))},_updateCircle:function(l){var g=l._point,_=Math.max(Math.round(l._radius),1),I="a"+_+","+(Math.max(Math.round(l._radiusY),1)||_)+" 0 1,0 ",z=l._empty()?"M0 0":"M"+(g.x-_)+","+g.y+I+2*_+",0 "+I+2*-_+",0 ";this._setPath(l,z)},_setPath:function(l,g){l._path.setAttribute("d",g)},_bringToFront:function(l){io(l._path)},_bringToBack:function(l){$r(l._path)}});function Ji(l){return ve.svg||ve.vml?new Tn(l):null}ve.vml&&Tn.include(an),Xe.include({getRenderer:function(l){var g=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(l){if("overlayPane"===l||void 0===l)return!1;var g=this._paneRenderers[l];return void 0===g&&(g=this._createRenderer({pane:l}),this._paneRenderers[l]=g),g},_createRenderer:function(l){return this.options.preferCanvas&&He(l)||Ji(l)}});var In=ts.extend({initialize:function(l,g){ts.prototype.initialize.call(this,this._boundsToLatLngs(l),g)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return[(l=Mt(l)).getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});Tn.create=zr,Tn.pointsToPath=Pe,_s.geometryToLayer=Ho,_s.coordsToLatLng=Ao,_s.coordsToLatLngs=ti,_s.latLngToCoords=Os,_s.latLngsToCoords=ai,_s.getFeature=Ki,_s.asFeature=yo,Xe.mergeOptions({boxZoom:!0});var $u=_e.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){je(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_n(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||1!==l.which&&1!==l.button)return!1;this._clearDeferredResetState(),this._resetState(),qs(),oo(),this._startPoint=this._map.mouseEventToContainerPoint(l),je(document,{contextmenu:qi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Pn("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var g=new ht(this._point,this._startPoint),_=g.getSize();ir(this._box,g.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(nn(this._box),be(this._container,"leaflet-crosshair")),ja(),Mo(),_n(document,{contextmenu:qi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if((1===l.which||1===l.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(ut(this._resetState,this),0);var g=new Lt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(l){27===l.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xe.addInitHook("addHandler","boxZoom",$u),Xe.mergeOptions({doubleClickZoom:!0});var ui=_e.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var g=this._map,_=g.getZoom(),x=g.options.zoomDelta,I=l.originalEvent.shiftKey?_-x:_+x;"center"===g.options.doubleClickZoom?g.setZoom(I):g.setZoomAround(l.containerPoint,I)}});Xe.addInitHook("addHandler","doubleClickZoom",ui),Xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fs=_e.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new Kr(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){be(this._map._container,"leaflet-grab"),be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=Mt(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var g=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(g),this._prunePositions(g)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,g){return l-(l-g)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var l=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;l.x<g.min.x&&(l.x=this._viscousLimit(l.x,g.min.x)),l.y<g.min.y&&(l.y=this._viscousLimit(l.y,g.min.y)),l.x>g.max.x&&(l.x=this._viscousLimit(l.x,g.max.x)),l.y>g.max.y&&(l.y=this._viscousLimit(l.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,g=Math.round(l/2),_=this._initialWorldOffset,x=this._draggable._newPos.x,I=(x-g+_)%l+g-_,z=(x+g+_)%l-g-_,st=Math.abs(I+_)<Math.abs(z+_)?I:z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=st},_onDragEnd:function(l){var g=this._map,_=g.options,x=!_.inertia||l.noInertia||this._times.length<2;if(g.fire("dragend",l),x)g.fire("moveend");else{this._prunePositions(+new Date);var I=this._lastPos.subtract(this._positions[0]),st=_.easeLinearity,Ot=I.multiplyBy(st/((this._lastTime-this._times[0])/1e3)),jt=Ot.distanceTo([0,0]),Jt=Math.min(_.inertiaMaxSpeed,jt),ne=Ot.multiplyBy(Jt/jt),ke=Jt/(_.inertiaDeceleration*st),rn=ne.multiplyBy(-ke/2).round();rn.x||rn.y?(rn=g._limitOffset(rn,g.options.maxBounds),Ct(function(){g.panBy(rn,{duration:ke,easeLinearity:st,noMoveStart:!0,animate:!0})})):g.fire("moveend")}}});Xe.addInitHook("addHandler","dragging",Fs),Xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qu=_e.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),je(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_n(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,g=document.documentElement,_=l.scrollTop||g.scrollTop,x=l.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(x,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var x,I,g=this._panKeys={},_=this.keyCodes;for(x=0,I=_.left.length;x<I;x++)g[_.left[x]]=[-1*l,0];for(x=0,I=_.right.length;x<I;x++)g[_.right[x]]=[l,0];for(x=0,I=_.down.length;x<I;x++)g[_.down[x]]=[0,l];for(x=0,I=_.up.length;x<I;x++)g[_.up[x]]=[0,-1*l]},_setZoomDelta:function(l){var x,I,g=this._zoomKeys={},_=this.keyCodes;for(x=0,I=_.zoomIn.length;x<I;x++)g[_.zoomIn[x]]=l;for(x=0,I=_.zoomOut.length;x<I;x++)g[_.zoomOut[x]]=-l},_addHooks:function(){je(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_n(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var x,g=l.keyCode,_=this._map;if(g in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(x=this._panKeys[g],l.shiftKey&&(x=ot(x).multiplyBy(3)),_.options.maxBounds&&(x=_._limitOffset(ot(x),_.options.maxBounds)),_.options.worldCopyJump){var I=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(x)));_.panTo(I)}else _.panBy(x)}else if(g in this._zoomKeys)_.setZoom(_.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[g]);else{if(27!==g||!_._popup||!_._popup.options.closeOnEscapeKey)return;_.closePopup()}qi(l)}}});Xe.addInitHook("addHandler","keyboard",qu),Xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xr=_e.extend({addHooks:function(){je(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_n(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var g=ni(l),_=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var x=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(ut(this._performZoom,this),x),qi(l)},_performZoom:function(){var l=this._map,g=l.getZoom(),_=this._map.options.zoomSnap||0;l._stop();var I=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,z=_?Math.ceil(I/_)*_:I,st=l._limitZoom(g+(this._delta>0?z:-z))-g;this._delta=0,this._startTime=null,st&&("center"===l.options.scrollWheelZoom?l.setZoom(g+st):l.setZoomAround(this._lastMousePos,g+st))}});Xe.addInitHook("addHandler","scrollWheelZoom",xr);Xe.mergeOptions({tapHold:ve.touchNative&&ve.safari&&ve.mobile,tapTolerance:15});var Te=_e.extend({addHooks:function(){je(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_n(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),1===l.touches.length){var g=l.touches[0];this._startPos=this._newPos=new gt(g.clientX,g.clientY),this._holdTimeout=setTimeout(ut(function(){this._cancel(),this._isTapValid()&&(je(document,"touchend",vi),je(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),600),je(document,"touchend touchcancel contextmenu",this._cancel,this),je(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){_n(document,"touchend",vi),_n(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),_n(document,"touchend touchcancel contextmenu",this._cancel,this),_n(document,"touchmove",this._onMove,this)},_onMove:function(l){var g=l.touches[0];this._newPos=new gt(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,g){var _=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});_._simulated=!0,g.target.dispatchEvent(_)}});Xe.addInitHook("addHandler","tapHold",Te),Xe.mergeOptions({touchZoom:ve.touch,bounceAtZoomLimits:!0});var hn=_e.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),je(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){be(this._map._container,"leaflet-touch-zoom"),_n(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var g=this._map;if(l.touches&&2===l.touches.length&&!g._animatingZoom&&!this._zooming){var _=g.mouseEventToContainerPoint(l.touches[0]),x=g.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),"center"!==g.options.touchZoom&&(this._pinchStartLatLng=g.containerPointToLatLng(_.add(x)._divideBy(2))),this._startDist=_.distanceTo(x),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),je(document,"touchmove",this._onTouchMove,this),je(document,"touchend touchcancel",this._onTouchEnd,this),vi(l)}},_onTouchMove:function(l){if(l.touches&&2===l.touches.length&&this._zooming){var g=this._map,_=g.mouseEventToContainerPoint(l.touches[0]),x=g.mouseEventToContainerPoint(l.touches[1]),I=_.distanceTo(x)/this._startDist;if(this._zoom=g.getScaleZoom(I,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&I<1||this._zoom>g.getMaxZoom()&&I>1)&&(this._zoom=g._limitZoom(this._zoom)),"center"===g.options.touchZoom){if(this._center=this._startLatLng,1===I)return}else{var z=_._add(x)._divideBy(2)._subtract(this._centerPoint);if(1===I&&0===z.x&&0===z.y)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(z),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),rt(this._animRequest);var st=ut(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ct(st,this,!0),vi(l)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,rt(this._animRequest),_n(document,"touchmove",this._onTouchMove,this),_n(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Xe.addInitHook("addHandler","touchZoom",hn),Xe.BoxZoom=$u,Xe.DoubleClickZoom=ui,Xe.Drag=Fs,Xe.Keyboard=qu,Xe.ScrollWheelZoom=xr,Xe.TapHold=Te,Xe.TouchZoom=hn,A.Bounds=ht,A.Browser=ve,A.CRS=te,A.Canvas=wo,A.Circle=Jr,A.CircleMarker=Er,A.Class=W,A.Control=Re,A.DivIcon=ju,A.DivOverlay=uo,A.DomEvent=Oe,A.DomUtil=ef,A.Draggable=Kr,A.Evented=et,A.FeatureGroup=Me,A.GeoJSON=_s,A.GridLayer=$o,A.Handler=_e,A.Icon=pe,A.ImageOverlay=Lo,A.LatLng=$t,A.LatLngBounds=Lt,A.Layer=Ko,A.LayerGroup=wi,A.LineUtil=wn,A.Map=Xe,A.Marker=ri,A.Mixin=Dn,A.Path=ys,A.Point=gt,A.PolyUtil=br,A.Polygon=ts,A.Polyline=Ve,A.Popup=ii,A.PosAnimation=Qr,A.Projection=ms,A.Rectangle=In,A.Renderer=Cr,A.SVG=Tn,A.SVGOverlay=hl,A.TileLayer=ma,A.Tooltip=vo,A.Transformation=me,A.Util=lt,A.VideoOverlay=Oo,A.bind=ut,A.bounds=X,A.canvas=He,A.circle=function vs(l,g,_){return new Jr(l,g,_)},A.circleMarker=function Jo(l,g){return new Er(l,g)},A.control=Ws,A.divIcon=function Aa(l){return new ju(l)},A.extend=$,A.featureGroup=function(l,g){return new Me(l,g)},A.geoJSON=Qs,A.geoJson=Ks,A.gridLayer=function Zi(l){return new $o(l)},A.icon=function No(l){return new pe(l)},A.imageOverlay=function(l,g,_){return new Lo(l,g,_)},A.latLng=St,A.latLngBounds=Mt,A.layerGroup=function(l,g){return new wi(l,g)},A.map=function fl(l,g){return new Xe(l,g)},A.marker=function Vl(l,g){return new ri(l,g)},A.point=ot,A.polygon=function ga(l,g){return new ts(l,g)},A.polyline=function wu(l,g){return new Ve(l,g)},A.popup=function(l,g){return new ii(l,g)},A.rectangle=function dl(l,g){return new In(l,g)},A.setOptions=bt,A.stamp=J,A.svg=Ji,A.svgOverlay=function Rs(l,g,_){return new hl(l,g,_)},A.tileLayer=Ei,A.tooltip=function(l,g){return new vo(l,g)},A.transformation=Qt,A.version="1.9.4",A.videoOverlay=function Mr(l,g,_){return new Oo(l,g,_)};var Eo=window.L;A.noConflict=function(){return window.L=Eo,this},window.L=A}(vt)},4772:Dt=>{"use strict";var vt=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;Dt.exports=function ct(){try{if(!Object.assign)return!1;var ut=new String("abc");if(ut[5]="de","5"===Object.getOwnPropertyNames(ut)[0])return!1;for(var _t={},J=0;J<10;J++)_t["_"+String.fromCharCode(J)]=J;if("0123456789"!==Object.getOwnPropertyNames(_t).map(function(Pt){return _t[Pt]}).join(""))return!1;var xt={};return"abcdefghijklmnopqrst".split("").forEach(function(Pt){xt[Pt]=Pt}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},xt)).join("")}catch{return!1}}()?Object.assign:function(ut,_t){for(var J,xt,wt=function $(ut){if(null==ut)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ut)}(ut),Pt=1;Pt<arguments.length;Pt++){for(var Ut in J=Object(arguments[Pt]))A.call(J,Ut)&&(wt[Ut]=J[Ut]);if(vt){xt=vt(J);for(var Rt=0;Rt<xt.length;Rt++)U.call(J,xt[Rt])&&(wt[xt[Rt]]=J[xt[Rt]])}}return wt}},4246:Dt=>{"use strict";var vt=function(A){return A!=A};Dt.exports=function(U,$){return 0===U&&0===$?1/U==1/$:!!(U===$||vt(U)&&vt($))}},314:(Dt,vt,A)=>{"use strict";var U=A(1648),$=A(5436),ct=A(4246),ut=A(1353),_t=A(3090),J=$(ut(),Object);U(J,{getPolyfill:ut,implementation:ct,shim:_t}),Dt.exports=J},1353:(Dt,vt,A)=>{"use strict";var U=A(4246);Dt.exports=function(){return"function"==typeof Object.is?Object.is:U}},3090:(Dt,vt,A)=>{"use strict";var U=A(1353),$=A(1648);Dt.exports=function(){var ut=U();return $(Object,{is:ut},{is:function(){return Object.is!==ut}}),ut}},7972:(Dt,vt,A)=>{"use strict";var U;if(!Object.keys){var $=Object.prototype.hasOwnProperty,ct=Object.prototype.toString,ut=A(9637),_t=Object.prototype.propertyIsEnumerable,J=!_t.call({toString:null},"toString"),wt=_t.call(function(){},"prototype"),xt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Pt=function(bt){var Yt=bt.constructor;return Yt&&Yt.prototype===bt},Ut={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Rt=function(){if(typeof window>"u")return!1;for(var bt in window)try{if(!Ut["$"+bt]&&$.call(window,bt)&&null!==window[bt]&&"object"==typeof window[bt])try{Pt(window[bt])}catch{return!0}}catch{return!0}return!1}();U=function(Yt){var B=null!==Yt&&"object"==typeof Yt,Z="[object Function]"===ct.call(Yt),R=ut(Yt),H=B&&"[object String]"===ct.call(Yt),F=[];if(!B&&!Z&&!R)throw new TypeError("Object.keys called on a non-object");var nt=wt&&Z;if(H&&Yt.length>0&&!$.call(Yt,0))for(var V=0;V<Yt.length;++V)F.push(String(V));if(R&&Yt.length>0)for(var j=0;j<Yt.length;++j)F.push(String(j));else for(var Y in Yt)(!nt||"prototype"!==Y)&&$.call(Yt,Y)&&F.push(String(Y));if(J)for(var T=function(bt){if(typeof window>"u"||!Rt)return Pt(bt);try{return Pt(bt)}catch{return!1}}(Yt),Ct=0;Ct<xt.length;++Ct)(!T||"constructor"!==xt[Ct])&&$.call(Yt,xt[Ct])&&F.push(xt[Ct]);return F}}Dt.exports=U},7809:(Dt,vt,A)=>{"use strict";var U=Array.prototype.slice,$=A(9637),ct=Object.keys,ut=ct?function(wt){return ct(wt)}:A(7972),_t=Object.keys;ut.shim=function(){if(Object.keys){var wt=function(){var xt=Object.keys(arguments);return xt&&xt.length===arguments.length}(1,2);wt||(Object.keys=function(Pt){return $(Pt)?_t(U.call(Pt)):_t(Pt)})}else Object.keys=ut;return Object.keys||ut},Dt.exports=ut},9637:Dt=>{"use strict";var vt=Object.prototype.toString;Dt.exports=function(U){var $=vt.call(U),ct="[object Arguments]"===$;return ct||(ct="[object Array]"!==$&&null!==U&&"object"==typeof U&&"number"==typeof U.length&&U.length>=0&&"[object Function]"===vt.call(U.callee)),ct}},4018:Dt=>{Dt.exports=function(A,U,$,ct){var ut=A[0],_t=A[1],J=!1;void 0===$&&($=0),void 0===ct&&(ct=U.length);for(var wt=(ct-$)/2,xt=0,Pt=wt-1;xt<wt;Pt=xt++){var Ut=U[$+2*xt+0],Rt=U[$+2*xt+1],bt=U[$+2*Pt+1];Rt>_t!=bt>_t&&ut<(U[$+2*Pt+0]-Ut)*(_t-Rt)/(bt-Rt)+Ut&&(J=!J)}return J}},4179:(Dt,vt,A)=>{var U=A(4018),$=A(8875);Dt.exports=function(ut,_t,J,wt){return _t.length>0&&Array.isArray(_t[0])?$(ut,_t,J,wt):U(ut,_t,J,wt)},Dt.exports.nested=$,Dt.exports.flat=U},8875:Dt=>{Dt.exports=function(A,U,$,ct){var ut=A[0],_t=A[1],J=!1;void 0===$&&($=0),void 0===ct&&(ct=U.length);for(var wt=ct-$,xt=0,Pt=wt-1;xt<wt;Pt=xt++){var Ut=U[xt+$][0],Rt=U[xt+$][1],bt=U[Pt+$][1];Rt>_t!=bt>_t&&ut<(U[Pt+$][0]-Ut)*(_t-Rt)/(bt-Rt)+Ut&&(J=!J)}return J}},8464:function(Dt){Dt.exports=function(){"use strict";function vt(Nt,S){var tt,ft,at,Gt,O={label:0,sent:function(){if(1&at[0])throw at[1];return at[1]},trys:[],ops:[]};return Gt={next:kt(0),throw:kt(1),return:kt(2)},"function"==typeof Symbol&&(Gt[Symbol.iterator]=function(){return this}),Gt;function kt(qt){return function(de){return function Ht(qt){if(tt)throw new TypeError("Generator is already executing.");for(;O;)try{if(tt=1,ft&&(at=2&qt[0]?ft.return:qt[0]?ft.throw||((at=ft.return)&&at.call(ft),0):ft.next)&&!(at=at.call(ft,qt[1])).done)return at;switch(ft=0,at&&(qt=[2&qt[0],at.value]),qt[0]){case 0:case 1:at=qt;break;case 4:return O.label++,{value:qt[1],done:!1};case 5:O.label++,ft=qt[1],qt=[0];continue;case 7:qt=O.ops.pop(),O.trys.pop();continue;default:if(!(at=(at=O.trys).length>0&&at[at.length-1])&&(6===qt[0]||2===qt[0])){O=0;continue}if(3===qt[0]&&(!at||qt[1]>at[0]&&qt[1]<at[3])){O.label=qt[1];break}if(6===qt[0]&&O.label<at[1]){O.label=at[1],at=qt;break}if(at&&O.label<at[2]){O.label=at[2],O.ops.push(qt);break}at[2]&&O.ops.pop(),O.trys.pop();continue}qt=S.call(Nt,O)}catch(de){qt=[6,de],ft=0}finally{tt=at=0}if(5&qt[0])throw qt[1];return{value:qt[0]?qt[1]:void 0,done:!0}}([qt,de])}}}var A=function Nt(S,O){this.next=null,this.key=S,this.data=O,this.left=null,this.right=null};function U(Nt,S){return Nt>S?1:Nt<S?-1:0}function $(Nt,S,O){for(var tt=new A(null,null),ft=tt,at=tt;;){var Gt=O(Nt,S.key);if(Gt<0){if(null===S.left)break;if(O(Nt,S.left.key)<0&&(S.left=(kt=S.left).right,kt.right=S,null===(S=kt).left))break;at.left=S,at=S,S=S.left}else{if(!(Gt>0))break;if(null===S.right)break;var kt;if(O(Nt,S.right.key)>0&&(S.right=(kt=S.right).left,kt.left=S,null===(S=kt).right))break;ft.right=S,ft=S,S=S.right}}return ft.right=S.left,at.left=S.right,S.left=tt.right,S.right=tt.left,S}function ct(Nt,S,O,tt){var ft=new A(Nt,S);if(null===O)return ft.left=ft.right=null,ft;var at=tt(Nt,(O=$(Nt,O,tt)).key);return at<0?(ft.left=O.left,ft.right=O,O.left=null):at>=0&&(ft.right=O.right,ft.left=O,O.right=null),ft}function ut(Nt,S,O){var tt=null,ft=null;if(S){var at=O((S=$(Nt,S,O)).key,Nt);0===at?(tt=S.left,ft=S.right):at<0?(ft=S.right,S.right=null,tt=S):(tt=S.left,S.left=null,ft=S)}return{left:tt,right:ft}}function J(Nt,S,O,tt,ft){if(Nt){tt(S+(O?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+ft(Nt)+"\n");var at=S+(O?"    ":"\u2502   ");Nt.left&&J(Nt.left,at,!1,tt,ft),Nt.right&&J(Nt.right,at,!0,tt,ft)}}var wt=function(){function Nt(S){void 0===S&&(S=U),this._root=null,this._size=0,this._comparator=S}return Nt.prototype.insert=function(S,O){return this._size++,this._root=ct(S,O,this._root,this._comparator)},Nt.prototype.add=function(S,O){var tt=new A(S,O);null===this._root&&(tt.left=tt.right=null,this._size++,this._root=tt);var ft=this._comparator,at=$(S,this._root,ft),Gt=ft(S,at.key);return 0===Gt?this._root=at:(Gt<0?(tt.left=at.left,tt.right=at,at.left=null):Gt>0&&(tt.right=at.right,tt.left=at,at.right=null),this._size++,this._root=tt),this._root},Nt.prototype.remove=function(S){this._root=this._remove(S,this._root,this._comparator)},Nt.prototype._remove=function(S,O,tt){var ft;return null===O?null:0===tt(S,(O=$(S,O,tt)).key)?(null===O.left?ft=O.right:(ft=$(S,O.left,tt)).right=O.right,this._size--,ft):O},Nt.prototype.pop=function(){var S=this._root;if(S){for(;S.left;)S=S.left;return this._root=$(S.key,this._root,this._comparator),this._root=this._remove(S.key,this._root,this._comparator),{key:S.key,data:S.data}}return null},Nt.prototype.findStatic=function(S){for(var O=this._root,tt=this._comparator;O;){var ft=tt(S,O.key);if(0===ft)return O;O=ft<0?O.left:O.right}return null},Nt.prototype.find=function(S){return this._root&&(this._root=$(S,this._root,this._comparator),0!==this._comparator(S,this._root.key))?null:this._root},Nt.prototype.contains=function(S){for(var O=this._root,tt=this._comparator;O;){var ft=tt(S,O.key);if(0===ft)return!0;O=ft<0?O.left:O.right}return!1},Nt.prototype.forEach=function(S,O){for(var tt=this._root,ft=[],at=!1;!at;)null!==tt?(ft.push(tt),tt=tt.left):0!==ft.length?(tt=ft.pop(),S.call(O,tt),tt=tt.right):at=!0;return this},Nt.prototype.range=function(S,O,tt,ft){for(var at=[],Gt=this._comparator,kt=this._root;0!==at.length||kt;)if(kt)at.push(kt),kt=kt.left;else{if(Gt((kt=at.pop()).key,O)>0)break;if(Gt(kt.key,S)>=0&&tt.call(ft,kt))return this;kt=kt.right}return this},Nt.prototype.keys=function(){var S=[];return this.forEach(function(O){return S.push(O.key)}),S},Nt.prototype.values=function(){var S=[];return this.forEach(function(O){return S.push(O.data)}),S},Nt.prototype.min=function(){return this._root?this.minNode(this._root).key:null},Nt.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},Nt.prototype.minNode=function(S){if(void 0===S&&(S=this._root),S)for(;S.left;)S=S.left;return S},Nt.prototype.maxNode=function(S){if(void 0===S&&(S=this._root),S)for(;S.right;)S=S.right;return S},Nt.prototype.at=function(S){for(var O=this._root,tt=!1,ft=0,at=[];!tt;)if(O)at.push(O),O=O.left;else if(at.length>0){if(O=at.pop(),ft===S)return O;ft++,O=O.right}else tt=!0;return null},Nt.prototype.next=function(S){var O=this._root,tt=null;if(S.right){for(tt=S.right;tt.left;)tt=tt.left;return tt}for(var ft=this._comparator;O;){var at=ft(S.key,O.key);if(0===at)break;at<0?(tt=O,O=O.left):O=O.right}return tt},Nt.prototype.prev=function(S){var O=this._root,tt=null;if(null!==S.left){for(tt=S.left;tt.right;)tt=tt.right;return tt}for(var ft=this._comparator;O;){var at=ft(S.key,O.key);if(0===at)break;at<0?O=O.left:(tt=O,O=O.right)}return tt},Nt.prototype.clear=function(){return this._root=null,this._size=0,this},Nt.prototype.toList=function(){return function Ut(Nt){for(var S=Nt,O=[],tt=!1,ft=new A(null,null),at=ft;!tt;)S?(O.push(S),S=S.left):O.length>0?S=(S=at=at.next=O.pop()).right:tt=!0;return at.next=null,ft.next}(this._root)},Nt.prototype.load=function(S,O,tt){void 0===O&&(O=[]),void 0===tt&&(tt=!1);var ft=S.length,at=this._comparator;if(tt&&bt(S,O,0,ft-1,at),null===this._root)this._root=xt(S,O,0,ft),this._size=ft;else{var Gt=function It(Nt,S,O){for(var tt=new A(null,null),ft=tt,at=Nt,Gt=S;null!==at&&null!==Gt;)O(at.key,Gt.key)<0?(ft.next=at,at=at.next):(ft.next=Gt,Gt=Gt.next),ft=ft.next;return null!==at?ft.next=at:null!==Gt&&(ft.next=Gt),tt.next}(this.toList(),function Pt(Nt,S){for(var O=new A(null,null),tt=O,ft=0;ft<Nt.length;ft++)tt=tt.next=new A(Nt[ft],S[ft]);return tt.next=null,O.next}(S,O),at);this._root=Rt({head:Gt},0,ft=this._size+ft)}return this},Nt.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(Nt.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(Nt.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Nt.prototype.toString=function(S){void 0===S&&(S=function(tt){return String(tt.key)});var O=[];return J(this._root,"",!0,function(tt){return O.push(tt)},S),O.join("")},Nt.prototype.update=function(S,O,tt){var ft=this._comparator,at=ut(S,this._root,ft),Gt=at.left,kt=at.right;ft(S,O)<0?kt=ct(O,tt,kt,ft):Gt=ct(O,tt,Gt,ft),this._root=function _t(Nt,S,O){return null===S?Nt:(null===Nt||((S=$(Nt.key,S,O)).left=Nt),S)}(Gt,kt,ft)},Nt.prototype.split=function(S){return ut(S,this._root,this._comparator)},Nt.prototype[Symbol.iterator]=function(){var S,O,tt;return vt(this,function(ft){switch(ft.label){case 0:S=this._root,O=[],tt=!1,ft.label=1;case 1:return tt?[3,6]:null===S?[3,2]:(O.push(S),S=S.left,[3,5]);case 2:return 0===O.length?[3,4]:[4,S=O.pop()];case 3:return ft.sent(),S=S.right,[3,5];case 4:tt=!0,ft.label=5;case 5:return[3,1];case 6:return[2]}})},Nt}();function xt(Nt,S,O,tt){var ft=tt-O;if(ft>0){var at=O+Math.floor(ft/2),Ht=new A(Nt[at],S[at]);return Ht.left=xt(Nt,S,O,at),Ht.right=xt(Nt,S,at+1,tt),Ht}return null}function Rt(Nt,S,O){var tt=O-S;if(tt>0){var ft=S+Math.floor(tt/2),at=Rt(Nt,S,ft),Gt=Nt.head;return Gt.left=at,Nt.head=Nt.head.next,Gt.right=Rt(Nt,ft+1,O),Gt}return null}function bt(Nt,S,O,tt,ft){if(!(O>=tt)){for(var at=Nt[O+tt>>1],Gt=O-1,kt=tt+1;;){do{Gt++}while(ft(Nt[Gt],at)<0);do{kt--}while(ft(Nt[kt],at)>0);if(Gt>=kt)break;var Ht=Nt[Gt];Nt[Gt]=Nt[kt],Nt[kt]=Ht,Ht=S[Gt],S[Gt]=S[kt],S[kt]=Ht}bt(Nt,S,O,kt,ft),bt(Nt,S,kt+1,tt,ft)}}const Yt=(Nt,S)=>Nt.ll.x<=S.x&&S.x<=Nt.ur.x&&Nt.ll.y<=S.y&&S.y<=Nt.ur.y,B=(Nt,S)=>S.ur.x<Nt.ll.x||Nt.ur.x<S.ll.x||S.ur.y<Nt.ll.y||Nt.ur.y<S.ll.y?null:{ll:{x:Nt.ll.x<S.ll.x?S.ll.x:Nt.ll.x,y:Nt.ll.y<S.ll.y?S.ll.y:Nt.ll.y},ur:{x:Nt.ur.x<S.ur.x?Nt.ur.x:S.ur.x,y:Nt.ur.y<S.ur.y?Nt.ur.y:S.ur.y}};let Z=Number.EPSILON;void 0===Z&&(Z=Math.pow(2,-52));const R=Z*Z,H=(Nt,S)=>{if(-Z<Nt&&Nt<Z&&-Z<S&&S<Z)return 0;const O=Nt-S;return O*O<R*Nt*S?0:Nt<S?-1:1};class nt{constructor(){this.tree=new wt,this.round(0)}round(S){const O=this.tree.add(S),tt=this.tree.prev(O);if(null!==tt&&0===H(O.key,tt.key))return this.tree.remove(S),tt.key;const ft=this.tree.next(O);return null!==ft&&0===H(O.key,ft.key)?(this.tree.remove(S),ft.key):S}}const V=new class F{constructor(){this.reset()}reset(){this.xRounder=new nt,this.yRounder=new nt}round(S,O){return{x:this.xRounder.round(S),y:this.yRounder.round(O)}}},j=11102230246251565e-32,Y=134217729,T=(3+8*j)*j;function Ct(Nt,S,O,tt,ft){let at,Gt,kt,Ht,qt=S[0],de=tt[0],mt=0,Kt=0;de>qt==de>-qt?(at=qt,qt=S[++mt]):(at=de,de=tt[++Kt]);let ce=0;if(mt<Nt&&Kt<O)for(de>qt==de>-qt?(Gt=qt+at,kt=at-(Gt-qt),qt=S[++mt]):(Gt=de+at,kt=at-(Gt-de),de=tt[++Kt]),at=Gt,0!==kt&&(ft[ce++]=kt);mt<Nt&&Kt<O;)de>qt==de>-qt?(Gt=at+qt,Ht=Gt-at,kt=at-(Gt-Ht)+(qt-Ht),qt=S[++mt]):(Gt=at+de,Ht=Gt-at,kt=at-(Gt-Ht)+(de-Ht),de=tt[++Kt]),at=Gt,0!==kt&&(ft[ce++]=kt);for(;mt<Nt;)Gt=at+qt,Ht=Gt-at,kt=at-(Gt-Ht)+(qt-Ht),qt=S[++mt],at=Gt,0!==kt&&(ft[ce++]=kt);for(;Kt<O;)Gt=at+de,Ht=Gt-at,kt=at-(Gt-Ht)+(de-Ht),de=tt[++Kt],at=Gt,0!==kt&&(ft[ce++]=kt);return(0!==at||0===ce)&&(ft[ce++]=at),ce}function lt(Nt){return new Float64Array(Nt)}const Xt=(2+12*j)*j,Bt=(9+64*j)*j*j,et=lt(4),gt=lt(8),it=lt(12),ot=lt(16),ht=lt(4);function Lt(Nt,S,O,tt,ft,at){const Gt=(S-at)*(O-ft),kt=(Nt-ft)*(tt-at),Ht=Gt-kt,qt=Math.abs(Gt+kt);return Math.abs(Ht)>=33306690738754716e-32*qt?Ht:-function X(Nt,S,O,tt,ft,at,Gt){let kt,Ht,qt,de,mt,Kt,ce,se,Ge,mn,Ke,lr,Hi,Gr,Oi,Sn,ve,rr;const gi=Nt-ft,Je=O-ft,Fr=S-at,kr=tt-at;Gr=gi*kr,Kt=Y*gi,ce=Kt-(Kt-gi),se=gi-ce,Kt=Y*kr,Ge=Kt-(Kt-kr),mn=kr-Ge,Oi=se*mn-(Gr-ce*Ge-se*Ge-ce*mn),Sn=Fr*Je,Kt=Y*Fr,ce=Kt-(Kt-Fr),se=Fr-ce,Kt=Y*Je,Ge=Kt-(Kt-Je),mn=Je-Ge,ve=se*mn-(Sn-ce*Ge-se*Ge-ce*mn),Ke=Oi-ve,mt=Oi-Ke,et[0]=Oi-(Ke+mt)+(mt-ve),lr=Gr+Ke,mt=lr-Gr,Hi=Gr-(lr-mt)+(Ke-mt),Ke=Hi-Sn,mt=Hi-Ke,et[1]=Hi-(Ke+mt)+(mt-Sn),rr=lr+Ke,mt=rr-lr,et[2]=lr-(rr-mt)+(Ke-mt),et[3]=rr;let jr=function rt(Nt,S){let O=S[0];for(let tt=1;tt<Nt;tt++)O+=S[tt];return O}(4,et),wr=Xt*Gt;if(jr>=wr||-jr>=wr||(mt=Nt-gi,kt=Nt-(gi+mt)+(mt-ft),mt=O-Je,qt=O-(Je+mt)+(mt-ft),mt=S-Fr,Ht=S-(Fr+mt)+(mt-at),mt=tt-kr,de=tt-(kr+mt)+(mt-at),0===kt&&0===Ht&&0===qt&&0===de)||(wr=Bt*Gt+T*Math.abs(jr),jr+=gi*de+kr*kt-(Fr*qt+Je*Ht),jr>=wr||-jr>=wr))return jr;Gr=kt*kr,Kt=Y*kt,ce=Kt-(Kt-kt),se=kt-ce,Kt=Y*kr,Ge=Kt-(Kt-kr),mn=kr-Ge,Oi=se*mn-(Gr-ce*Ge-se*Ge-ce*mn),Sn=Ht*Je,Kt=Y*Ht,ce=Kt-(Kt-Ht),se=Ht-ce,Kt=Y*Je,Ge=Kt-(Kt-Je),mn=Je-Ge,ve=se*mn-(Sn-ce*Ge-se*Ge-ce*mn),Ke=Oi-ve,mt=Oi-Ke,ht[0]=Oi-(Ke+mt)+(mt-ve),lr=Gr+Ke,mt=lr-Gr,Hi=Gr-(lr-mt)+(Ke-mt),Ke=Hi-Sn,mt=Hi-Ke,ht[1]=Hi-(Ke+mt)+(mt-Sn),rr=lr+Ke,mt=rr-lr,ht[2]=lr-(rr-mt)+(Ke-mt),ht[3]=rr;const hs=Ct(4,et,4,ht,gt);Gr=gi*de,Kt=Y*gi,ce=Kt-(Kt-gi),se=gi-ce,Kt=Y*de,Ge=Kt-(Kt-de),mn=de-Ge,Oi=se*mn-(Gr-ce*Ge-se*Ge-ce*mn),Sn=Fr*qt,Kt=Y*Fr,ce=Kt-(Kt-Fr),se=Fr-ce,Kt=Y*qt,Ge=Kt-(Kt-qt),mn=qt-Ge,ve=se*mn-(Sn-ce*Ge-se*Ge-ce*mn),Ke=Oi-ve,mt=Oi-Ke,ht[0]=Oi-(Ke+mt)+(mt-ve),lr=Gr+Ke,mt=lr-Gr,Hi=Gr-(lr-mt)+(Ke-mt),Ke=Hi-Sn,mt=Hi-Ke,ht[1]=Hi-(Ke+mt)+(mt-Sn),rr=lr+Ke,mt=rr-lr,ht[2]=lr-(rr-mt)+(Ke-mt),ht[3]=rr;const Yr=Ct(hs,gt,4,ht,it);Gr=kt*de,Kt=Y*kt,ce=Kt-(Kt-kt),se=kt-ce,Kt=Y*de,Ge=Kt-(Kt-de),mn=de-Ge,Oi=se*mn-(Gr-ce*Ge-se*Ge-ce*mn),Sn=Ht*qt,Kt=Y*Ht,ce=Kt-(Kt-Ht),se=Ht-ce,Kt=Y*qt,Ge=Kt-(Kt-qt),mn=qt-Ge,ve=se*mn-(Sn-ce*Ge-se*Ge-ce*mn),Ke=Oi-ve,mt=Oi-Ke,ht[0]=Oi-(Ke+mt)+(mt-ve),lr=Gr+Ke,mt=lr-Gr,Hi=Gr-(lr-mt)+(Ke-mt),Ke=Hi-Sn,mt=Hi-Ke,ht[1]=Hi-(Ke+mt)+(mt-Sn),rr=lr+Ke,mt=rr-lr,ht[2]=lr-(rr-mt)+(Ke-mt),ht[3]=rr;const Ua=Ct(Yr,it,4,ht,ot);return ot[Ua-1]}(Nt,S,O,tt,ft,at,qt)}const Mt=(Nt,S)=>Nt.x*S.y-Nt.y*S.x,$t=(Nt,S)=>Nt.x*S.x+Nt.y*S.y,St=(Nt,S,O)=>{const tt=Lt(Nt.x,Nt.y,S.x,S.y,O.x,O.y);return tt>0?-1:tt<0?1:0},te=Nt=>Math.sqrt($t(Nt,Nt)),oe=(Nt,S,O)=>{const tt={x:S.x-Nt.x,y:S.y-Nt.y},ft={x:O.x-Nt.x,y:O.y-Nt.y};return Mt(ft,tt)/te(ft)/te(tt)},De=(Nt,S,O)=>{const tt={x:S.x-Nt.x,y:S.y-Nt.y},ft={x:O.x-Nt.x,y:O.y-Nt.y};return $t(ft,tt)/te(ft)/te(tt)},re=(Nt,S,O)=>0===S.y?null:{x:Nt.x+S.x/S.y*(O-Nt.y),y:O},me=(Nt,S,O)=>0===S.x?null:{x:O,y:Nt.y+S.y/S.x*(O-Nt.x)};class Qe{static compare(S,O){const tt=Qe.comparePoints(S.point,O.point);return 0!==tt?tt:(S.point!==O.point&&S.link(O),S.isLeft!==O.isLeft?S.isLeft?1:-1:cn.compare(S.segment,O.segment))}static comparePoints(S,O){return S.x<O.x?-1:S.x>O.x?1:S.y<O.y?-1:S.y>O.y?1:0}constructor(S,O){void 0===S.events?S.events=[this]:S.events.push(this),this.point=S,this.isLeft=O}link(S){if(S.point===this.point)throw new Error("Tried to link already linked events");const O=S.point.events;for(let tt=0,ft=O.length;tt<ft;tt++){const at=O[tt];this.point.events.push(at),at.point=this.point}this.checkForConsuming()}checkForConsuming(){const S=this.point.events.length;for(let O=0;O<S;O++){const tt=this.point.events[O];if(void 0===tt.segment.consumedBy)for(let ft=O+1;ft<S;ft++){const at=this.point.events[ft];void 0===at.consumedBy&&tt.otherSE.point.events===at.otherSE.point.events&&tt.segment.consume(at.segment)}}}getAvailableLinkedEvents(){const S=[];for(let O=0,tt=this.point.events.length;O<tt;O++){const ft=this.point.events[O];ft!==this&&!ft.segment.ringOut&&ft.segment.isInResult()&&S.push(ft)}return S}getLeftmostComparator(S){const O=new Map,tt=ft=>{const at=ft.otherSE;O.set(ft,{sine:oe(this.point,S.point,at.point),cosine:De(this.point,S.point,at.point)})};return(ft,at)=>{O.has(ft)||tt(ft),O.has(at)||tt(at);const{sine:Gt,cosine:kt}=O.get(ft),{sine:Ht,cosine:qt}=O.get(at);return Gt>=0&&Ht>=0?kt<qt?1:kt>qt?-1:0:Gt<0&&Ht<0?kt<qt?-1:kt>qt?1:0:Ht<Gt?-1:Ht>Gt?1:0}}}let Cn=0;class cn{static compare(S,O){const tt=S.leftSE.point.x,ft=O.leftSE.point.x,at=S.rightSE.point.x,Gt=O.rightSE.point.x;if(Gt<tt)return 1;if(at<ft)return-1;const kt=S.leftSE.point.y,Ht=O.leftSE.point.y,qt=S.rightSE.point.y,de=O.rightSE.point.y;if(tt<ft){if(Ht<kt&&Ht<qt)return 1;if(Ht>kt&&Ht>qt)return-1;const mt=S.comparePoint(O.leftSE.point);if(mt<0)return 1;if(mt>0)return-1;const Kt=O.comparePoint(S.rightSE.point);return 0!==Kt?Kt:-1}if(tt>ft){if(kt<Ht&&kt<de)return-1;if(kt>Ht&&kt>de)return 1;const mt=O.comparePoint(S.leftSE.point);if(0!==mt)return mt;const Kt=S.comparePoint(O.rightSE.point);return Kt<0?1:Kt>0?-1:1}if(kt<Ht)return-1;if(kt>Ht)return 1;if(at<Gt){const mt=O.comparePoint(S.rightSE.point);if(0!==mt)return mt}if(at>Gt){const mt=S.comparePoint(O.rightSE.point);if(mt<0)return 1;if(mt>0)return-1}if(at!==Gt){const mt=qt-kt,Kt=at-tt,ce=de-Ht,se=Gt-ft;if(mt>Kt&&ce<se)return 1;if(mt<Kt&&ce>se)return-1}return at>Gt?1:at<Gt||qt<de?-1:qt>de?1:S.id<O.id?-1:S.id>O.id?1:0}constructor(S,O,tt,ft){this.id=++Cn,this.leftSE=S,S.segment=this,S.otherSE=O,this.rightSE=O,O.segment=this,O.otherSE=S,this.rings=tt,this.windings=ft}static fromRing(S,O,tt){let ft,at,Gt;const kt=Qe.comparePoints(S,O);if(kt<0)ft=S,at=O,Gt=1;else{if(!(kt>0))throw new Error(`Tried to create degenerate segment at [${S.x}, ${S.y}]`);ft=O,at=S,Gt=-1}const Ht=new Qe(ft,!0),qt=new Qe(at,!1);return new cn(Ht,qt,[tt],[Gt])}replaceRightSE(S){this.rightSE=S,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const S=this.leftSE.point.y,O=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:S<O?S:O},ur:{x:this.rightSE.point.x,y:S>O?S:O}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(S){return S.x===this.leftSE.point.x&&S.y===this.leftSE.point.y||S.x===this.rightSE.point.x&&S.y===this.rightSE.point.y}comparePoint(S){if(this.isAnEndpoint(S))return 0;const O=this.leftSE.point,tt=this.rightSE.point,ft=this.vector();if(O.x===tt.x)return S.x===O.x?0:S.x<O.x?1:-1;if(S.x===O.x+(S.y-O.y)/ft.y*ft.x)return 0;const Ht=O.y+(S.x-O.x)/ft.x*ft.y;return S.y===Ht?0:S.y<Ht?-1:1}getIntersection(S){const O=this.bbox(),tt=S.bbox(),ft=B(O,tt);if(null===ft)return null;const at=this.leftSE.point,Gt=this.rightSE.point,kt=S.leftSE.point,Ht=S.rightSE.point,qt=Yt(O,kt)&&0===this.comparePoint(kt),de=Yt(tt,at)&&0===S.comparePoint(at),mt=Yt(O,Ht)&&0===this.comparePoint(Ht),Kt=Yt(tt,Gt)&&0===S.comparePoint(Gt);if(de&&qt)return Kt&&!mt?Gt:!Kt&&mt?Ht:null;if(de)return mt&&at.x===Ht.x&&at.y===Ht.y?null:at;if(qt)return Kt&&Gt.x===kt.x&&Gt.y===kt.y?null:kt;if(Kt&&mt)return null;if(Kt)return Gt;if(mt)return Ht;const ce=((Nt,S,O,tt)=>{if(0===S.x)return me(O,tt,Nt.x);if(0===tt.x)return me(Nt,S,O.x);if(0===S.y)return re(O,tt,Nt.y);if(0===tt.y)return re(Nt,S,O.y);const ft=Mt(S,tt);if(0==ft)return null;const at={x:O.x-Nt.x,y:O.y-Nt.y},Gt=Mt(at,S)/ft,kt=Mt(at,tt)/ft;return{x:(Nt.x+kt*S.x+(O.x+Gt*tt.x))/2,y:(Nt.y+kt*S.y+(O.y+Gt*tt.y))/2}})(at,this.vector(),kt,S.vector());return null!==ce&&Yt(ft,ce)?V.round(ce.x,ce.y):null}split(S){const O=[],tt=void 0!==S.events,ft=new Qe(S,!0),at=new Qe(S,!1),Gt=this.rightSE;this.replaceRightSE(at),O.push(at),O.push(ft);const kt=new cn(ft,Gt,this.rings.slice(),this.windings.slice());return Qe.comparePoints(kt.leftSE.point,kt.rightSE.point)>0&&kt.swapEvents(),Qe.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),tt&&(ft.checkForConsuming(),at.checkForConsuming()),O}swapEvents(){const S=this.rightSE;this.rightSE=this.leftSE,this.leftSE=S,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let O=0,tt=this.windings.length;O<tt;O++)this.windings[O]*=-1}consume(S){let O=this,tt=S;for(;O.consumedBy;)O=O.consumedBy;for(;tt.consumedBy;)tt=tt.consumedBy;const ft=cn.compare(O,tt);if(0!==ft){if(ft>0){const at=O;O=tt,tt=at}if(O.prev===tt){const at=O;O=tt,tt=at}for(let at=0,Gt=tt.rings.length;at<Gt;at++){const kt=tt.rings[at],Ht=tt.windings[at],qt=O.rings.indexOf(kt);-1===qt?(O.rings.push(kt),O.windings.push(Ht)):O.windings[qt]+=Ht}tt.rings=null,tt.windings=null,tt.consumedBy=O,tt.leftSE.consumedBy=O.leftSE,tt.rightSE.consumedBy=O.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}beforeState(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const S=this.beforeState();this._afterState={rings:S.rings.slice(0),windings:S.windings.slice(0),multiPolys:[]};const O=this._afterState.rings,tt=this._afterState.windings,ft=this._afterState.multiPolys;for(let kt=0,Ht=this.rings.length;kt<Ht;kt++){const qt=this.rings[kt],de=this.windings[kt],mt=O.indexOf(qt);-1===mt?(O.push(qt),tt.push(de)):tt[mt]+=de}const at=[],Gt=[];for(let kt=0,Ht=O.length;kt<Ht;kt++){if(0===tt[kt])continue;const qt=O[kt],de=qt.poly;if(-1===Gt.indexOf(de))if(qt.isExterior)at.push(de);else{-1===Gt.indexOf(de)&&Gt.push(de);const mt=at.indexOf(qt.poly);-1!==mt&&at.splice(mt,1)}}for(let kt=0,Ht=at.length;kt<Ht;kt++){const qt=at[kt].multiPoly;-1===ft.indexOf(qt)&&ft.push(qt)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const S=this.beforeState().multiPolys,O=this.afterState().multiPolys;switch(cr.type){case"union":this._isInResult=0===S.length!=(0===O.length);break;case"intersection":{let tt,ft;S.length<O.length?(tt=S.length,ft=O.length):(tt=O.length,ft=S.length),this._isInResult=ft===cr.numMultiPolys&&tt<ft;break}case"xor":{const tt=Math.abs(S.length-O.length);this._isInResult=tt%2==1;break}case"difference":{const tt=ft=>1===ft.length&&ft[0].isSubject;this._isInResult=tt(S)!==tt(O);break}default:throw new Error(`Unrecognized operation type found ${cr.type}`)}return this._isInResult}}class Pe{constructor(S,O,tt){if(!Array.isArray(S)||0===S.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=O,this.isExterior=tt,this.segments=[],"number"!=typeof S[0][0]||"number"!=typeof S[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const ft=V.round(S[0][0],S[0][1]);this.bbox={ll:{x:ft.x,y:ft.y},ur:{x:ft.x,y:ft.y}};let at=ft;for(let Gt=1,kt=S.length;Gt<kt;Gt++){if("number"!=typeof S[Gt][0]||"number"!=typeof S[Gt][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let Ht=V.round(S[Gt][0],S[Gt][1]);Ht.x===at.x&&Ht.y===at.y||(this.segments.push(cn.fromRing(at,Ht,this)),Ht.x<this.bbox.ll.x&&(this.bbox.ll.x=Ht.x),Ht.y<this.bbox.ll.y&&(this.bbox.ll.y=Ht.y),Ht.x>this.bbox.ur.x&&(this.bbox.ur.x=Ht.x),Ht.y>this.bbox.ur.y&&(this.bbox.ur.y=Ht.y),at=Ht)}(ft.x!==at.x||ft.y!==at.y)&&this.segments.push(cn.fromRing(at,ft,this))}getSweepEvents(){const S=[];for(let O=0,tt=this.segments.length;O<tt;O++){const ft=this.segments[O];S.push(ft.leftSE),S.push(ft.rightSE)}return S}}class ze{constructor(S,O){if(!Array.isArray(S))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Pe(S[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let tt=1,ft=S.length;tt<ft;tt++){const at=new Pe(S[tt],this,!1);at.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=at.bbox.ll.x),at.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=at.bbox.ll.y),at.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=at.bbox.ur.x),at.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=at.bbox.ur.y),this.interiorRings.push(at)}this.multiPoly=O}getSweepEvents(){const S=this.exteriorRing.getSweepEvents();for(let O=0,tt=this.interiorRings.length;O<tt;O++){const ft=this.interiorRings[O].getSweepEvents();for(let at=0,Gt=ft.length;at<Gt;at++)S.push(ft[at])}return S}}class pr{constructor(S,O){if(!Array.isArray(S))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof S[0][0][0]&&(S=[S])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let tt=0,ft=S.length;tt<ft;tt++){const at=new ze(S[tt],this);at.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=at.bbox.ll.x),at.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=at.bbox.ll.y),at.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=at.bbox.ur.x),at.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=at.bbox.ur.y),this.polys.push(at)}this.isSubject=O}getSweepEvents(){const S=[];for(let O=0,tt=this.polys.length;O<tt;O++){const ft=this.polys[O].getSweepEvents();for(let at=0,Gt=ft.length;at<Gt;at++)S.push(ft[at])}return S}}class bi{static factory(S){const O=[];for(let tt=0,ft=S.length;tt<ft;tt++){const at=S[tt];if(!at.isInResult()||at.ringOut)continue;let Gt=null,kt=at.leftSE,Ht=at.rightSE;const qt=[kt],de=kt.point,mt=[];for(;Gt=kt,kt=Ht,qt.push(kt),kt.point!==de;)for(;;){const Kt=kt.getAvailableLinkedEvents();if(0===Kt.length){const Ge=qt[0].point,mn=qt[qt.length-1].point;throw new Error(`Unable to complete output ring starting at [${Ge.x}, ${Ge.y}]. Last matching segment found ends at [${mn.x}, ${mn.y}].`)}if(1===Kt.length){Ht=Kt[0].otherSE;break}let ce=null;for(let Ge=0,mn=mt.length;Ge<mn;Ge++)if(mt[Ge].point===kt.point){ce=Ge;break}if(null!==ce){const Ge=mt.splice(ce)[0],mn=qt.splice(Ge.index);mn.unshift(mn[0].otherSE),O.push(new bi(mn.reverse()));continue}mt.push({index:qt.length,point:kt.point});const se=kt.getLeftmostComparator(Gt);Ht=Kt.sort(se)[0].otherSE;break}O.push(new bi(qt))}return O}constructor(S){this.events=S;for(let O=0,tt=S.length;O<tt;O++)S[O].segment.ringOut=this;this.poly=null}getGeom(){let S=this.events[0].point;const O=[S];for(let qt=1,de=this.events.length-1;qt<de;qt++){const mt=this.events[qt].point;0!==St(mt,S,this.events[qt+1].point)&&(O.push(mt),S=mt)}if(1===O.length)return null;0===St(O[0],S,O[1])&&O.shift(),O.push(O[0]);const at=this.isExteriorRing()?1:-1,Gt=this.isExteriorRing()?0:O.length-1,kt=this.isExteriorRing()?O.length:-1,Ht=[];for(let qt=Gt;qt!=kt;qt+=at)Ht.push([O[qt].x,O[qt].y]);return Ht}isExteriorRing(){if(void 0===this._isExteriorRing){const S=this.enclosingRing();this._isExteriorRing=!S||!S.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let S=this.events[0];for(let ft=1,at=this.events.length;ft<at;ft++){const Gt=this.events[ft];Qe.compare(S,Gt)>0&&(S=Gt)}let O=S.segment.prevInResult(),tt=O?O.prevInResult():null;for(;;){if(!O)return null;if(!tt)return O.ringOut;if(tt.ringOut!==O.ringOut)return tt.ringOut.enclosingRing()!==O.ringOut?O.ringOut:O.ringOut.enclosingRing();O=tt.prevInResult(),tt=O?O.prevInResult():null}}}class js{constructor(S){this.exteriorRing=S,S.poly=this,this.interiorRings=[]}addInterior(S){this.interiorRings.push(S),S.poly=this}getGeom(){const S=[this.exteriorRing.getGeom()];if(null===S[0])return null;for(let O=0,tt=this.interiorRings.length;O<tt;O++){const ft=this.interiorRings[O].getGeom();null!==ft&&S.push(ft)}return S}}class Ue{constructor(S){this.rings=S,this.polys=this._composePolys(S)}getGeom(){const S=[];for(let O=0,tt=this.polys.length;O<tt;O++){const ft=this.polys[O].getGeom();null!==ft&&S.push(ft)}return S}_composePolys(S){const O=[];for(let tt=0,ft=S.length;tt<ft;tt++){const at=S[tt];if(!at.poly)if(at.isExteriorRing())O.push(new js(at));else{const Gt=at.enclosingRing();Gt.poly||O.push(new js(Gt)),Gt.poly.addInterior(at)}}return O}}class ur{constructor(S){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cn.compare;this.queue=S,this.tree=new wt(O),this.segments=[]}process(S){const O=S.segment,tt=[];if(S.consumedBy)return S.isLeft?this.queue.remove(S.otherSE):this.tree.remove(O),tt;const ft=S.isLeft?this.tree.add(O):this.tree.find(O);if(!ft)throw new Error(`Unable to find segment #${O.id} [${O.leftSE.point.x}, ${O.leftSE.point.y}] -> [${O.rightSE.point.x}, ${O.rightSE.point.y}] in SweepLine tree.`);let kt,Ht,at=ft,Gt=ft;for(;void 0===kt;)at=this.tree.prev(at),null===at?kt=null:void 0===at.key.consumedBy&&(kt=at.key);for(;void 0===Ht;)Gt=this.tree.next(Gt),null===Gt?Ht=null:void 0===Gt.key.consumedBy&&(Ht=Gt.key);if(S.isLeft){let qt=null;if(kt){const mt=kt.getIntersection(O);if(null!==mt&&(O.isAnEndpoint(mt)||(qt=mt),!kt.isAnEndpoint(mt))){const Kt=this._splitSafely(kt,mt);for(let ce=0,se=Kt.length;ce<se;ce++)tt.push(Kt[ce])}}let de=null;if(Ht){const mt=Ht.getIntersection(O);if(null!==mt&&(O.isAnEndpoint(mt)||(de=mt),!Ht.isAnEndpoint(mt))){const Kt=this._splitSafely(Ht,mt);for(let ce=0,se=Kt.length;ce<se;ce++)tt.push(Kt[ce])}}if(null!==qt||null!==de){let mt=null;mt=null===qt?de:null===de||Qe.comparePoints(qt,de)<=0?qt:de,this.queue.remove(O.rightSE),tt.push(O.rightSE);const Kt=O.split(mt);for(let ce=0,se=Kt.length;ce<se;ce++)tt.push(Kt[ce])}tt.length>0?(this.tree.remove(O),tt.push(S)):(this.segments.push(O),O.prev=kt)}else{if(kt&&Ht){const qt=kt.getIntersection(Ht);if(null!==qt){if(!kt.isAnEndpoint(qt)){const de=this._splitSafely(kt,qt);for(let mt=0,Kt=de.length;mt<Kt;mt++)tt.push(de[mt])}if(!Ht.isAnEndpoint(qt)){const de=this._splitSafely(Ht,qt);for(let mt=0,Kt=de.length;mt<Kt;mt++)tt.push(de[mt])}}}this.tree.remove(O)}return tt}_splitSafely(S,O){this.tree.remove(S);const tt=S.rightSE;this.queue.remove(tt);const ft=S.split(O);return ft.push(tt),void 0===S.consumedBy&&this.tree.add(S),ft}}const Vo=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,fo=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;const cr=new class Xo{run(S,O,tt){cr.type=S,V.reset();const ft=[new pr(O,!0)];for(let mt=0,Kt=tt.length;mt<Kt;mt++)ft.push(new pr(tt[mt],!1));if(cr.numMultiPolys=ft.length,"difference"===cr.type){const mt=ft[0];let Kt=1;for(;Kt<ft.length;)null!==B(ft[Kt].bbox,mt.bbox)?Kt++:ft.splice(Kt,1)}if("intersection"===cr.type)for(let mt=0,Kt=ft.length;mt<Kt;mt++){const ce=ft[mt];for(let se=mt+1,Ge=ft.length;se<Ge;se++)if(null===B(ce.bbox,ft[se].bbox))return[]}const at=new wt(Qe.compare);for(let mt=0,Kt=ft.length;mt<Kt;mt++){const ce=ft[mt].getSweepEvents();for(let se=0,Ge=ce.length;se<Ge;se++)if(at.insert(ce[se]),at.size>Vo)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const Gt=new ur(at);let kt=at.size,Ht=at.pop();for(;Ht;){const mt=Ht.key;if(at.size===kt){const ce=mt.segment;throw new Error(`Unable to pop() ${mt.isLeft?"left":"right"} SweepEvent [${mt.point.x}, ${mt.point.y}] from segment #${ce.id} [${ce.leftSE.point.x}, ${ce.leftSE.point.y}] -> [${ce.rightSE.point.x}, ${ce.rightSE.point.y}] from queue.`)}if(at.size>Vo)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(Gt.segments.length>fo)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const Kt=Gt.process(mt);for(let ce=0,se=Kt.length;ce<se;ce++){const Ge=Kt[ce];void 0===Ge.consumedBy&&at.insert(Ge)}kt=at.size,Ht=at.pop()}V.reset();const qt=bi.factory(Gt.segments);return new Ue(qt).getGeom()}};var di={union:function(Nt){for(var S=arguments.length,O=new Array(S>1?S-1:0),tt=1;tt<S;tt++)O[tt-1]=arguments[tt];return cr.run("union",Nt,O)},intersection:function(Nt){for(var S=arguments.length,O=new Array(S>1?S-1:0),tt=1;tt<S;tt++)O[tt-1]=arguments[tt];return cr.run("intersection",Nt,O)},xor:function(Nt){for(var S=arguments.length,O=new Array(S>1?S-1:0),tt=1;tt<S;tt++)O[tt-1]=arguments[tt];return cr.run("xor",Nt,O)},difference:function(Nt){for(var S=arguments.length,O=new Array(S>1?S-1:0),tt=1;tt<S;tt++)O[tt-1]=arguments[tt];return cr.run("difference",Nt,O)}};return di}()},5262:function(Dt){Dt.exports=function(){"use strict";function A(ct,ut,_t,J,wt){for(;J>_t;){if(J-_t>600){var xt=J-_t+1,Pt=ut-_t+1,Ut=Math.log(xt),Rt=.5*Math.exp(2*Ut/3),It=.5*Math.sqrt(Ut*Rt*(xt-Rt)/xt)*(Pt-xt/2<0?-1:1);A(ct,ut,Math.max(_t,Math.floor(ut-Pt*Rt/xt+It)),Math.min(J,Math.floor(ut+(xt-Pt)*Rt/xt+It)),wt)}var B=ct[ut],Z=_t,R=J;for(U(ct,_t,ut),wt(ct[J],B)>0&&U(ct,_t,J);Z<R;){for(U(ct,Z,R),Z++,R--;wt(ct[Z],B)<0;)Z++;for(;wt(ct[R],B)>0;)R--}0===wt(ct[_t],B)?U(ct,_t,R):U(ct,++R,J),R<=ut&&(_t=R+1),ut<=R&&(J=R-1)}}function U(ct,ut,_t){var J=ct[ut];ct[ut]=ct[_t],ct[_t]=J}function $(ct,ut){return ct<ut?-1:ct>ut?1:0}return function vt(ct,ut,_t,J,wt){A(ct,ut,_t||0,J||ct.length-1,wt||$)}}()},7861:(Dt,vt,A)=>{"use strict";Dt.exports=$,Dt.exports.default=$;var U=A(5262);function $(R,H){if(!(this instanceof $))return new $(R,H);this._maxEntries=Math.max(4,R||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),H&&this._initFormat(H),this.clear()}function ct(R,H,F){if(!F)return H.indexOf(R);for(var nt=0;nt<H.length;nt++)if(F(R,H[nt]))return nt;return-1}function ut(R,H){_t(R,0,R.children.length,H,R)}function _t(R,H,F,nt,V){V||(V=B(null)),V.minX=1/0,V.minY=1/0,V.maxX=-1/0,V.maxY=-1/0;for(var Y,j=H;j<F;j++)Y=R.children[j],J(V,R.leaf?nt(Y):Y);return V}function J(R,H){return R.minX=Math.min(R.minX,H.minX),R.minY=Math.min(R.minY,H.minY),R.maxX=Math.max(R.maxX,H.maxX),R.maxY=Math.max(R.maxY,H.maxY),R}function wt(R,H){return R.minX-H.minX}function xt(R,H){return R.minY-H.minY}function Pt(R){return(R.maxX-R.minX)*(R.maxY-R.minY)}function Ut(R){return R.maxX-R.minX+(R.maxY-R.minY)}function Rt(R,H){return(Math.max(H.maxX,R.maxX)-Math.min(H.minX,R.minX))*(Math.max(H.maxY,R.maxY)-Math.min(H.minY,R.minY))}function It(R,H){var F=Math.max(R.minX,H.minX),nt=Math.max(R.minY,H.minY),V=Math.min(R.maxX,H.maxX),j=Math.min(R.maxY,H.maxY);return Math.max(0,V-F)*Math.max(0,j-nt)}function bt(R,H){return R.minX<=H.minX&&R.minY<=H.minY&&H.maxX<=R.maxX&&H.maxY<=R.maxY}function Yt(R,H){return H.minX<=R.maxX&&H.minY<=R.maxY&&H.maxX>=R.minX&&H.maxY>=R.minY}function B(R){return{children:R,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Z(R,H,F,nt,V){for(var Y,j=[H,F];j.length;)!((F=j.pop())-(H=j.pop())<=nt)&&(Y=H+Math.ceil((F-H)/nt/2)*nt,U(R,Y,H,F,V),j.push(H,Y,Y,F))}$.prototype={all:function(){return this._all(this.data,[])},search:function(R){var H=this.data,F=[],nt=this.toBBox;if(!Yt(R,H))return F;for(var j,Y,T,Ct,V=[];H;){for(j=0,Y=H.children.length;j<Y;j++)T=H.children[j],Yt(R,Ct=H.leaf?nt(T):T)&&(H.leaf?F.push(T):bt(R,Ct)?this._all(T,F):V.push(T));H=V.pop()}return F},collides:function(R){var H=this.data,F=this.toBBox;if(!Yt(R,H))return!1;for(var V,j,Y,T,nt=[];H;){for(V=0,j=H.children.length;V<j;V++)if(Y=H.children[V],Yt(R,T=H.leaf?F(Y):Y)){if(H.leaf||bt(R,T))return!0;nt.push(Y)}H=nt.pop()}return!1},load:function(R){if(!R||!R.length)return this;if(R.length<this._minEntries){for(var H=0,F=R.length;H<F;H++)this.insert(R[H]);return this}var nt=this._build(R.slice(),0,R.length-1,0);if(this.data.children.length)if(this.data.height===nt.height)this._splitRoot(this.data,nt);else{if(this.data.height<nt.height){var V=this.data;this.data=nt,nt=V}this._insert(nt,this.data.height-nt.height-1,!0)}else this.data=nt;return this},insert:function(R){return R&&this._insert(R,this.data.height-1),this},clear:function(){return this.data=B([]),this},remove:function(R,H){if(!R)return this;for(var Y,T,Ct,rt,F=this.data,nt=this.toBBox(R),V=[],j=[];F||V.length;){if(F||(F=V.pop(),T=V[V.length-1],Y=j.pop(),rt=!0),F.leaf&&-1!==(Ct=ct(R,F.children,H)))return F.children.splice(Ct,1),V.push(F),this._condense(V),this;rt||F.leaf||!bt(F,nt)?T?(Y++,F=T.children[Y],rt=!1):F=null:(V.push(F),j.push(Y),Y=0,T=F,F=F.children[0])}return this},toBBox:function(R){return R},compareMinX:wt,compareMinY:xt,toJSON:function(){return this.data},fromJSON:function(R){return this.data=R,this},_all:function(R,H){for(var F=[];R;)R.leaf?H.push.apply(H,R.children):F.push.apply(F,R.children),R=F.pop();return H},_build:function(R,H,F,nt){var Y,V=F-H+1,j=this._maxEntries;if(V<=j)return ut(Y=B(R.slice(H,F+1)),this.toBBox),Y;nt||(nt=Math.ceil(Math.log(V)/Math.log(j)),j=Math.ceil(V/Math.pow(j,nt-1))),(Y=B([])).leaf=!1,Y.height=nt;var rt,lt,W,Xt,T=Math.ceil(V/j),Ct=T*Math.ceil(Math.sqrt(j));for(Z(R,H,F,Ct,this.compareMinX),rt=H;rt<=F;rt+=Ct)for(Z(R,rt,W=Math.min(rt+Ct-1,F),T,this.compareMinY),lt=rt;lt<=W;lt+=T)Xt=Math.min(lt+T-1,W),Y.children.push(this._build(R,lt,Xt,nt-1));return ut(Y,this.toBBox),Y},_chooseSubtree:function(R,H,F,nt){for(var V,j,Y,T,Ct,rt,lt,W;nt.push(H),!H.leaf&&nt.length-1!==F;){for(lt=W=1/0,V=0,j=H.children.length;V<j;V++)Ct=Pt(Y=H.children[V]),(rt=Rt(R,Y)-Ct)<W?(W=rt,lt=Ct<lt?Ct:lt,T=Y):rt===W&&Ct<lt&&(lt=Ct,T=Y);H=T||H.children[0]}return H},_insert:function(R,H,F){var V=F?R:(0,this.toBBox)(R),j=[],Y=this._chooseSubtree(V,this.data,H,j);for(Y.children.push(R),J(Y,V);H>=0&&j[H].children.length>this._maxEntries;)this._split(j,H),H--;this._adjustParentBBoxes(V,j,H)},_split:function(R,H){var F=R[H],nt=F.children.length,V=this._minEntries;this._chooseSplitAxis(F,V,nt);var j=this._chooseSplitIndex(F,V,nt),Y=B(F.children.splice(j,F.children.length-j));Y.height=F.height,Y.leaf=F.leaf,ut(F,this.toBBox),ut(Y,this.toBBox),H?R[H-1].children.push(Y):this._splitRoot(F,Y)},_splitRoot:function(R,H){this.data=B([R,H]),this.data.height=R.height+1,this.data.leaf=!1,ut(this.data,this.toBBox)},_chooseSplitIndex:function(R,H,F){var nt,V,j,Y,T,Ct,rt,lt;for(Ct=rt=1/0,nt=H;nt<=F-H;nt++)Y=It(V=_t(R,0,nt,this.toBBox),j=_t(R,nt,F,this.toBBox)),T=Pt(V)+Pt(j),Y<Ct?(Ct=Y,lt=nt,rt=T<rt?T:rt):Y===Ct&&T<rt&&(rt=T,lt=nt);return lt},_chooseSplitAxis:function(R,H,F){var nt=R.leaf?this.compareMinX:wt,V=R.leaf?this.compareMinY:xt;this._allDistMargin(R,H,F,nt)<this._allDistMargin(R,H,F,V)&&R.children.sort(nt)},_allDistMargin:function(R,H,F,nt){R.children.sort(nt);var Ct,rt,V=this.toBBox,j=_t(R,0,H,V),Y=_t(R,F-H,F,V),T=Ut(j)+Ut(Y);for(Ct=H;Ct<F-H;Ct++)rt=R.children[Ct],J(j,R.leaf?V(rt):rt),T+=Ut(j);for(Ct=F-H-1;Ct>=H;Ct--)rt=R.children[Ct],J(Y,R.leaf?V(rt):rt),T+=Ut(Y);return T},_adjustParentBBoxes:function(R,H,F){for(var nt=F;nt>=0;nt--)J(H[nt],R)},_condense:function(R){for(var F,H=R.length-1;H>=0;H--)0===R[H].children.length?H>0?(F=R[H-1].children).splice(F.indexOf(R[H]),1):this.clear():ut(R[H],this.toBBox)},_initFormat:function(R){var H=["return a"," - b",";"];this.compareMinX=new Function("a","b",H.join(R[0])),this.compareMinY=new Function("a","b",H.join(R[1])),this.toBBox=new Function("a","return {minX: a"+R[0]+", minY: a"+R[1]+", maxX: a"+R[2]+", maxY: a"+R[3]+"};")}}},3817:(Dt,vt,A)=>{"use strict";var U=A(9789),$=A(5223),ct=Object;Dt.exports=U(function(){if(null==this||this!==ct(this))throw new $("RegExp.prototype.flags getter called on non-object");var _t="";return this.hasIndices&&(_t+="d"),this.global&&(_t+="g"),this.ignoreCase&&(_t+="i"),this.multiline&&(_t+="m"),this.dotAll&&(_t+="s"),this.unicode&&(_t+="u"),this.unicodeSets&&(_t+="v"),this.sticky&&(_t+="y"),_t},"get flags",!0)},1139:(Dt,vt,A)=>{"use strict";var U=A(1648),$=A(5436),ct=A(3817),ut=A(4861),_t=A(6002),J=$(ut());U(J,{getPolyfill:ut,implementation:ct,shim:_t}),Dt.exports=J},4861:(Dt,vt,A)=>{"use strict";var U=A(3817),$=A(1648).supportsDescriptors,ct=Object.getOwnPropertyDescriptor;Dt.exports=function(){if($&&"gim"===/a/gim.flags){var _t=ct(RegExp.prototype,"flags");if(_t&&"function"==typeof _t.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var J="",wt={};if(Object.defineProperty(wt,"hasIndices",{get:function(){J+="d"}}),Object.defineProperty(wt,"sticky",{get:function(){J+="y"}}),"dy"===J)return _t.get}}return U}},6002:(Dt,vt,A)=>{"use strict";var U=A(1648).supportsDescriptors,$=A(4861),ct=Object.getOwnPropertyDescriptor,ut=Object.defineProperty,_t=TypeError,J=Object.getPrototypeOf,wt=/a/;Dt.exports=function(){if(!U||!J)throw new _t("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Pt=$(),Ut=J(wt),Rt=ct(Ut,"flags");return(!Rt||Rt.get!==Pt)&&ut(Ut,"flags",{configurable:!0,enumerable:!1,get:Pt}),Pt}},6138:function(Dt,vt){!function(A){"use strict";function ct(bt,Yt,B,Z,R){let H,F,nt,V,j=Yt[0],Y=Z[0],T=0,Ct=0;Y>j==Y>-j?(H=j,j=Yt[++T]):(H=Y,Y=Z[++Ct]);let rt=0;if(T<bt&&Ct<B)for(Y>j==Y>-j?(nt=H-((F=j+H)-j),j=Yt[++T]):(nt=H-((F=Y+H)-Y),Y=Z[++Ct]),H=F,0!==nt&&(R[rt++]=nt);T<bt&&Ct<B;)Y>j==Y>-j?(nt=H-((F=H+j)-(V=F-H))+(j-V),j=Yt[++T]):(nt=H-((F=H+Y)-(V=F-H))+(Y-V),Y=Z[++Ct]),H=F,0!==nt&&(R[rt++]=nt);for(;T<bt;)nt=H-((F=H+j)-(V=F-H))+(j-V),j=Yt[++T],H=F,0!==nt&&(R[rt++]=nt);for(;Ct<B;)nt=H-((F=H+Y)-(V=F-H))+(Y-V),Y=Z[++Ct],H=F,0!==nt&&(R[rt++]=nt);return 0===H&&0!==rt||(R[rt++]=H),rt}function ut(bt){return new Float64Array(bt)}const xt=ut(4),Pt=ut(8),Ut=ut(12),Rt=ut(16),It=ut(4);A.orient2d=function(bt,Yt,B,Z,R,H){const F=(Yt-H)*(B-R),nt=(bt-R)*(Z-H),V=F-nt;if(0===F||0===nt||F>0!=nt>0)return V;const j=Math.abs(F+nt);return Math.abs(V)>=33306690738754716e-32*j?V:-function(Y,T,Ct,rt,lt,W,Xt){let Bt,et,gt,it,ot,ht,X,Lt,Mt,$t,St,te,oe,De,re,me,Qt,Qe;const Cn=Y-lt,cn=Ct-lt,Pe=T-W,ze=rt-W;ot=(re=(Lt=Cn-(X=(ht=134217729*Cn)-(ht-Cn)))*($t=ze-(Mt=(ht=134217729*ze)-(ht-ze)))-((De=Cn*ze)-X*Mt-Lt*Mt-X*$t))-(St=re-(Qt=(Lt=Pe-(X=(ht=134217729*Pe)-(ht-Pe)))*($t=cn-(Mt=(ht=134217729*cn)-(ht-cn)))-((me=Pe*cn)-X*Mt-Lt*Mt-X*$t))),xt[0]=re-(St+ot)+(ot-Qt),ot=(oe=De-((te=De+St)-(ot=te-De))+(St-ot))-(St=oe-me),xt[1]=oe-(St+ot)+(ot-me),ot=(Qe=te+St)-te,xt[2]=te-(Qe-ot)+(St-ot),xt[3]=Qe;let pr=function(Vo,fo){let Xo=fo[0];for(let cr=1;cr<4;cr++)Xo+=fo[cr];return Xo}(0,xt),bi=22204460492503146e-32*Xt;if(pr>=bi||-pr>=bi||(Bt=Y-(Cn+(ot=Y-Cn))+(ot-lt),gt=Ct-(cn+(ot=Ct-cn))+(ot-lt),et=T-(Pe+(ot=T-Pe))+(ot-W),it=rt-(ze+(ot=rt-ze))+(ot-W),0===Bt&&0===et&&0===gt&&0===it)||(bi=11093356479670487e-47*Xt+33306690738754706e-32*Math.abs(pr),(pr+=Cn*it+ze*Bt-(Pe*gt+cn*et))>=bi||-pr>=bi))return pr;ot=(re=(Lt=Bt-(X=(ht=134217729*Bt)-(ht-Bt)))*($t=ze-(Mt=(ht=134217729*ze)-(ht-ze)))-((De=Bt*ze)-X*Mt-Lt*Mt-X*$t))-(St=re-(Qt=(Lt=et-(X=(ht=134217729*et)-(ht-et)))*($t=cn-(Mt=(ht=134217729*cn)-(ht-cn)))-((me=et*cn)-X*Mt-Lt*Mt-X*$t))),It[0]=re-(St+ot)+(ot-Qt),ot=(oe=De-((te=De+St)-(ot=te-De))+(St-ot))-(St=oe-me),It[1]=oe-(St+ot)+(ot-me),ot=(Qe=te+St)-te,It[2]=te-(Qe-ot)+(St-ot),It[3]=Qe;const js=ct(4,xt,4,It,Pt);ot=(re=(Lt=Cn-(X=(ht=134217729*Cn)-(ht-Cn)))*($t=it-(Mt=(ht=134217729*it)-(ht-it)))-((De=Cn*it)-X*Mt-Lt*Mt-X*$t))-(St=re-(Qt=(Lt=Pe-(X=(ht=134217729*Pe)-(ht-Pe)))*($t=gt-(Mt=(ht=134217729*gt)-(ht-gt)))-((me=Pe*gt)-X*Mt-Lt*Mt-X*$t))),It[0]=re-(St+ot)+(ot-Qt),ot=(oe=De-((te=De+St)-(ot=te-De))+(St-ot))-(St=oe-me),It[1]=oe-(St+ot)+(ot-me),ot=(Qe=te+St)-te,It[2]=te-(Qe-ot)+(St-ot),It[3]=Qe;const Ue=ct(js,Pt,4,It,Ut);ot=(re=(Lt=Bt-(X=(ht=134217729*Bt)-(ht-Bt)))*($t=it-(Mt=(ht=134217729*it)-(ht-it)))-((De=Bt*it)-X*Mt-Lt*Mt-X*$t))-(St=re-(Qt=(Lt=et-(X=(ht=134217729*et)-(ht-et)))*($t=gt-(Mt=(ht=134217729*gt)-(ht-gt)))-((me=et*gt)-X*Mt-Lt*Mt-X*$t))),It[0]=re-(St+ot)+(ot-Qt),ot=(oe=De-((te=De+St)-(ot=te-De))+(St-ot))-(St=oe-me),It[1]=oe-(St+ot)+(ot-me),ot=(Qe=te+St)-te,It[2]=te-(Qe-ot)+(St-ot),It[3]=Qe;const ur=ct(Ue,Ut,4,It,Rt);return Rt[ur-1]}(bt,Yt,B,Z,R,H,j)},A.orient2dfast=function(bt,Yt,B,Z,R,H){return(Yt-H)*(B-R)-(bt-R)*(Z-H)},Object.defineProperty(A,"__esModule",{value:!0})}(vt)},2245:(Dt,vt,A)=>{"use strict";var U=A(491),$=A(9224),ct=A(2486)(),ut=A(9262),_t=A(5223),J=U("%Math.floor%");Dt.exports=function(xt,Pt){if("function"!=typeof xt)throw new _t("`fn` is not a function");if("number"!=typeof Pt||Pt<0||Pt>4294967295||J(Pt)!==Pt)throw new _t("`length` must be a positive 32-bit integer");var Ut=arguments.length>2&&!!arguments[2],Rt=!0,It=!0;if("length"in xt&&ut){var bt=ut(xt,"length");bt&&!bt.configurable&&(Rt=!1),bt&&!bt.writable&&(It=!1)}return(Rt||It||!Ut)&&(ct?$(xt,"length",Pt,!0,!0):$(xt,"length",Pt)),xt}},9789:(Dt,vt,A)=>{"use strict";var U=A(9224),$=A(2486)(),ct=A(1552).functionsHaveConfigurableNames(),ut=A(5223);Dt.exports=function(J,wt){if("function"!=typeof J)throw new ut("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||ct)&&($?U(J,"name",wt,!0,!0):U(J,"name",wt)),J}},9579:Dt=>{"use strict";Dt.exports={eudist:function(A,U,$){for(var ct=A.length,ut=0,_t=0;_t<ct;_t++){var J=(A[_t]||0)-(U[_t]||0);ut+=J*J}return $?Math.sqrt(ut):ut},mandist:function(A,U,$){for(var ct=A.length,ut=0,_t=0;_t<ct;_t++)ut+=Math.abs((A[_t]||0)-(U[_t]||0));return $?Math.sqrt(ut):ut},dist:function(A,U,$){var ct=Math.abs(A-U);return $?ct:ct*ct}}},7180:(Dt,vt,A)=>{"use strict";var U=A(9579),$=U.eudist,ct=U.dist;Dt.exports={kmrand:function(_t,J){for(var wt={},xt=[],Pt=J<<2,Ut=_t.length,Rt=_t[0].length>0;xt.length<J&&Pt-- >0;){var It=_t[Math.floor(Math.random()*Ut)],bt=Rt?It.join("_"):""+It;wt[bt]||(wt[bt]=!0,xt.push(It))}if(xt.length<J)throw new Error("Error initializating clusters");return xt},kmpp:function(_t,J){var wt=_t[0].length?$:ct,xt=[],Pt=_t.length,Ut=_t[0].length>0,It=_t[Math.floor(Math.random()*Pt)];for(Ut&&It.join("_"),xt.push(It);xt.length<J;){for(var Yt=[],B=xt.length,Z=0,R=[],H=0;H<Pt;H++){for(var F=1/0,nt=0;nt<B;nt++){var V=wt(_t[H],xt[nt]);V<=F&&(F=V)}Yt[H]=F}for(var j=0;j<Pt;j++)Z+=Yt[j];for(var Y=0;Y<Pt;Y++)R[Y]={i:Y,v:_t[Y],pr:Yt[Y]/Z,cs:0};R.sort(function(lt,W){return lt.pr-W.pr}),R[0].cs=R[0].pr;for(var T=1;T<Pt;T++)R[T].cs=R[T-1].cs+R[T].pr;for(var Ct=Math.random(),rt=0;rt<Pt-1&&R[rt++].cs<Ct;);xt.push(R[rt-1].v)}return xt}}},3282:(Dt,vt,A)=>{"use strict";var U=A(9579),$=A(7180),ct=U.eudist,J=$.kmrand,wt=$.kmpp;function Pt(Rt,It,bt){bt=bt||[];for(var Yt=0;Yt<Rt;Yt++)bt[Yt]=It;return bt}Dt.exports=function Ut(Rt,It,bt,Yt){var B=[],Z=[],R=[],H=[],F=!1,nt=Yt||1e4,V=Rt.length,j=Rt[0].length,Y=j>0,T=[];if(bt)B="kmrand"==bt?J(Rt,It):"kmpp"==bt?wt(Rt,It):bt;else for(var Ct={};B.length<It;){var rt=Math.floor(Math.random()*V);Ct[rt]||(Ct[rt]=!0,B.push(Rt[rt]))}do{Pt(It,0,T);for(var lt=0;lt<V;lt++){for(var W=1/0,Xt=0,Bt=0;Bt<It;Bt++)(H=Y?ct(Rt[lt],B[Bt]):Math.abs(Rt[lt]-B[Bt]))<=W&&(W=H,Xt=Bt);R[lt]=Xt,T[Xt]++}for(var et=[],it=(Z=[],0);it<It;it++)et[it]=Y?Pt(j,0,et[it]):0,Z[it]=B[it];if(Y){for(var ot=0;ot<It;ot++)B[ot]=[];for(var ht=0;ht<V;ht++)for(var Lt=et[R[ht]],Mt=Rt[ht],$t=0;$t<j;$t++)Lt[$t]+=Mt[$t];F=!0;for(var St=0;St<It;St++){for(var te=B[St],oe=et[St],De=Z[St],re=T[St],me=0;me<j;me++)te[me]=oe[me]/re||0;if(F)for(var Qt=0;Qt<j;Qt++)if(De[Qt]!=te[Qt]){F=!1;break}}}else{for(var Qe=0;Qe<V;Qe++)et[R[Qe]]+=Rt[Qe];for(var cn=0;cn<It;cn++)B[cn]=et[cn]/T[cn]||0;F=!0;for(var Pe=0;Pe<It;Pe++)if(Z[Pe]!=B[Pe]){F=!1;break}}F=F||--nt<=0}while(!F);return{it:1e4-nt,k:It,idxs:R,centroids:B}}},7935:(Dt,vt,A)=>{"use strict";A.r(vt),A.d(vt,{default:()=>U});class U{constructor(ut=[],_t=$){if(this.data=ut,this.length=this.data.length,this.compare=_t,this.length>0)for(let J=(this.length>>1)-1;J>=0;J--)this._down(J)}push(ut){this.data.push(ut),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const ut=this.data[0],_t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=_t,this._down(0)),ut}peek(){return this.data[0]}_up(ut){const{data:_t,compare:J}=this,wt=_t[ut];for(;ut>0;){const xt=ut-1>>1,Pt=_t[xt];if(J(wt,Pt)>=0)break;_t[ut]=Pt,ut=xt}_t[ut]=wt}_down(ut){const{data:_t,compare:J}=this,wt=this.length>>1,xt=_t[ut];for(;ut<wt;){let Pt=1+(ut<<1),Ut=_t[Pt];const Rt=Pt+1;if(Rt<this.length&&J(_t[Rt],Ut)<0&&(Pt=Rt,Ut=_t[Rt]),J(Ut,xt)>=0)break;_t[ut]=Ut,ut=Pt}_t[ut]=xt}}function $(ct,ut){return ct<ut?-1:ct>ut?1:0}},4855:function(Dt,vt){!function(A){"use strict";function U(){}function $(o){this.message=o||""}function ct(o){this.message=o||""}function ut(o){this.message=o||""}function _t(){}function J(o){return null===o?Sn:o.color}function wt(o){return null===o?null:o.parent}function xt(o,a){null!==o&&(o.color=a)}function Pt(o){return null===o?null:o.left}function Ut(o){return null===o?null:o.right}function Rt(){this.root_=null,this.size_=0}function It(){}function bt(){this.array_=[],arguments[0]instanceof Ht&&this.addAll(arguments[0])}function Yt(){}function B(o){this.message=o||""}function Z(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(o){if(null==this)throw new TypeError(this+" is not an object");var a=Object(this),c=Math.max(Math.min(a.length,9007199254740991),0)||0,h=1 in arguments&&parseInt(Number(arguments[1]),10)||0;h=h<0?Math.max(c+h,0):Math.min(h,c);var m=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:c;for(m=m<0?Math.max(c+arguments[2],0):Math.min(m,c);h<m;)a[h]=o,++h;return a},writable:!0}),Number.isFinite=Number.isFinite||function(o){return"number"==typeof o&&isFinite(o)},Number.isInteger=Number.isInteger||function(o){return"number"==typeof o&&isFinite(o)&&Math.floor(o)===o},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(o){return o!=o},Math.trunc=Math.trunc||function(o){return o<0?Math.ceil(o):Math.floor(o)};var R=function(){};R.prototype.interfaces_=function(){return[]},R.prototype.getClass=function(){return R},R.prototype.equalsWithTolerance=function(o,a,c){return Math.abs(o-a)<=c};var H=function(o){function a(c){o.call(this,c),this.name="IllegalArgumentException",this.message=c,this.stack=(new o).stack}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a}(Error),F=function(){},nt={MAX_VALUE:{configurable:!0}};F.isNaN=function(o){return Number.isNaN(o)},F.doubleToLongBits=function(o){return o},F.longBitsToDouble=function(o){return o},F.isInfinite=function(o){return!Number.isFinite(o)},nt.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(F,nt);var V=function(){},j=function(){},Y=function(){},T=function o(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=o.NULL_ORDINATE;else if(1===arguments.length){var a=arguments[0];this.x=a.x,this.y=a.y,this.z=a.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=o.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Ct={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};T.prototype.setOrdinate=function(o,a){switch(o){case T.X:this.x=a;break;case T.Y:this.y=a;break;case T.Z:this.z=a;break;default:throw new H("Invalid ordinate index: "+o)}},T.prototype.equals2D=function(){if(1===arguments.length){var o=arguments[0];return this.x===o.x&&this.y===o.y}if(2===arguments.length){var a=arguments[0],c=arguments[1];return!!R.equalsWithTolerance(this.x,a.x,c)&&!!R.equalsWithTolerance(this.y,a.y,c)}},T.prototype.getOrdinate=function(o){switch(o){case T.X:return this.x;case T.Y:return this.y;case T.Z:return this.z}throw new H("Invalid ordinate index: "+o)},T.prototype.equals3D=function(o){return this.x===o.x&&this.y===o.y&&(this.z===o.z||F.isNaN(this.z))&&F.isNaN(o.z)},T.prototype.equals=function(o){return o instanceof T&&this.equals2D(o)},T.prototype.equalInZ=function(o,a){return R.equalsWithTolerance(this.z,o.z,a)},T.prototype.compareTo=function(o){return this.x<o.x?-1:this.x>o.x?1:this.y<o.y?-1:this.y>o.y?1:0},T.prototype.clone=function(){},T.prototype.copy=function(){return new T(this)},T.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},T.prototype.distance3D=function(o){var a=this.x-o.x,c=this.y-o.y,h=this.z-o.z;return Math.sqrt(a*a+c*c+h*h)},T.prototype.distance=function(o){var a=this.x-o.x,c=this.y-o.y;return Math.sqrt(a*a+c*c)},T.prototype.hashCode=function(){var o=17;return 37*(o=37*o+T.hashCode(this.x))+T.hashCode(this.y)},T.prototype.setCoordinate=function(o){this.x=o.x,this.y=o.y,this.z=o.z},T.prototype.interfaces_=function(){return[V,j,U]},T.prototype.getClass=function(){return T},T.hashCode=function(){if(1===arguments.length){var a=F.doubleToLongBits(arguments[0]);return Math.trunc((a^a)>>>32)}},Ct.DimensionalComparator.get=function(){return rt},Ct.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Ct.NULL_ORDINATE.get=function(){return F.NaN},Ct.X.get=function(){return 0},Ct.Y.get=function(){return 1},Ct.Z.get=function(){return 2},Object.defineProperties(T,Ct);var rt=function(o){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var a=arguments[0];if(2!==a&&3!==a)throw new H("only 2 or 3 dimensions may be specified");this._dimensionsToTest=a}};rt.prototype.compare=function(o,a){var c=o,h=a,m=rt.compare(c.x,h.x);if(0!==m)return m;var E=rt.compare(c.y,h.y);return 0!==E?E:this._dimensionsToTest<=2?0:rt.compare(c.z,h.z)},rt.prototype.interfaces_=function(){return[Y]},rt.prototype.getClass=function(){return rt},rt.compare=function(o,a){return o<a?-1:o>a?1:F.isNaN(o)?F.isNaN(a)?0:-1:F.isNaN(a)?1:0};var lt=function(){};lt.prototype.create=function(){},lt.prototype.interfaces_=function(){return[]},lt.prototype.getClass=function(){return lt};var W=function(){},Xt={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};W.prototype.interfaces_=function(){return[]},W.prototype.getClass=function(){return W},W.toLocationSymbol=function(o){switch(o){case W.EXTERIOR:return"e";case W.BOUNDARY:return"b";case W.INTERIOR:return"i";case W.NONE:return"-"}throw new H("Unknown location value: "+o)},Xt.INTERIOR.get=function(){return 0},Xt.BOUNDARY.get=function(){return 1},Xt.EXTERIOR.get=function(){return 2},Xt.NONE.get=function(){return-1},Object.defineProperties(W,Xt);var Bt=function(o,a){return o.interfaces_&&o.interfaces_().indexOf(a)>-1},et=function(){},gt={LOG_10:{configurable:!0}};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.log10=function(o){var a=Math.log(o);return F.isInfinite(a)||F.isNaN(a)?a:a/et.LOG_10},et.min=function(o,a,c,h){var m=o;return a<m&&(m=a),c<m&&(m=c),h<m&&(m=h),m},et.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1],c=arguments[2];return o<a?a:o>c?c:o}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var h=arguments[0],m=arguments[1],E=arguments[2];return h<m?m:h>E?E:h}},et.wrap=function(o,a){return o<0?a- -o%a:o%a},et.max=function(){if(3===arguments.length){var a=arguments[1],c=arguments[2],h=arguments[0];return a>h&&(h=a),c>h&&(h=c),h}if(4===arguments.length){var E=arguments[1],D=arguments[2],N=arguments[3],Q=arguments[0];return E>Q&&(Q=E),D>Q&&(Q=D),N>Q&&(Q=N),Q}},et.average=function(o,a){return(o+a)/2},gt.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(et,gt);var it=function(o){this.str=o};it.prototype.append=function(o){this.str+=o},it.prototype.setCharAt=function(o,a){this.str=this.str.substr(0,o)+a+this.str.substr(o+1)},it.prototype.toString=function(o){return this.str};var ot=function(o){this.value=o};ot.prototype.intValue=function(){return this.value},ot.prototype.compareTo=function(o){return this.value<o?-1:this.value>o?1:0},ot.isNaN=function(o){return Number.isNaN(o)};var ht=function(){};ht.isWhitespace=function(o){return o<=32&&o>=0||127===o},ht.toUpperCase=function(o){return o.toUpperCase()};var X=function o(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof o?this.init(arguments[0]):"string"==typeof arguments[0]&&o.call(this,o.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},Lt={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};X.prototype.le=function(o){return(this._hi<o._hi||this._hi===o._hi)&&this._lo<=o._lo},X.prototype.extractSignificantDigits=function(o,a){var c=this.abs(),h=X.magnitude(c._hi),m=X.TEN.pow(h);(c=c.divide(m)).gt(X.TEN)?(c=c.divide(X.TEN),h+=1):c.lt(X.ONE)&&(c=c.multiply(X.TEN),h-=1);for(var E=h+1,D=new it,N=X.MAX_PRINT_DIGITS-1,Q=0;Q<=N;Q++){o&&Q===E&&D.append(".");var Et=Math.trunc(c._hi);if(Et<0)break;var Vt=!1,zt=0;Et>9?(Vt=!0,zt="9"):zt="0"+Et,D.append(zt),c=c.subtract(X.valueOf(Et)).multiply(X.TEN),Vt&&c.selfAdd(X.TEN);var ae=!0,he=X.magnitude(c._hi);if(he<0&&Math.abs(he)>=N-Q&&(ae=!1),!ae)break}return a[0]=h,D.toString()},X.prototype.sqr=function(){return this.multiply(this)},X.prototype.doubleValue=function(){return this._hi+this._lo},X.prototype.subtract=function(){return arguments[0]instanceof X?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},X.prototype.equals=function(){if(1===arguments.length){var o=arguments[0];return this._hi===o._hi&&this._lo===o._lo}},X.prototype.isZero=function(){return 0===this._hi&&0===this._lo},X.prototype.selfSubtract=function(){if(arguments[0]instanceof X){var o=arguments[0];return this.isNaN()?this:this.selfAdd(-o._hi,-o._lo)}if("number"==typeof arguments[0]){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a,0)}},X.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},X.prototype.min=function(o){return this.le(o)?this:o},X.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof X){var o=arguments[0];return this.selfDivide(o._hi,o._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var E,N,Q,Vt,c=arguments[0],m=null,D=null,Et=null,zt=null;return this._hi=zt=(Q=this._hi/c)+(Et=(this._hi-(Vt=Q*c)-(zt=(m=(Et=X.SPLIT*Q)-(m=Et-Q))*(D=(zt=X.SPLIT*c)-(D=zt-c))-Vt+m*(N=c-D)+(E=Q-m)*D+E*N)+this._lo-Q*arguments[1])/c),this._lo=Q-zt+Et,this}},X.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},X.prototype.divide=function(){if(arguments[0]instanceof X){var c,m,E,N,o=arguments[0],a=null,h=null,D=null,Q=null;return c=(E=this._hi/o._hi)-(a=(D=X.SPLIT*E)-(a=D-E)),Q=a*(h=(Q=X.SPLIT*o._hi)-(h=Q-o._hi))-(N=E*o._hi)+a*(m=o._hi-h)+c*h+c*m,new X(Q=E+(D=(this._hi-N-Q+this._lo-E*o._lo)/o._hi),E-Q+D)}if("number"==typeof arguments[0]){var Et=arguments[0];return F.isNaN(Et)?X.createNaN():X.copy(this).selfDivide(Et,0)}},X.prototype.ge=function(o){return(this._hi>o._hi||this._hi===o._hi)&&this._lo>=o._lo},X.prototype.pow=function(o){if(0===o)return X.valueOf(1);var a=new X(this),c=X.valueOf(1),h=Math.abs(o);if(h>1)for(;h>0;)h%2==1&&c.selfMultiply(a),(h/=2)>0&&(a=a.sqr());else c=a;return o<0?c.reciprocal():c},X.prototype.ceil=function(){if(this.isNaN())return X.NaN;var o=Math.ceil(this._hi),a=0;return o===this._hi&&(a=Math.ceil(this._lo)),new X(o,a)},X.prototype.compareTo=function(o){return this._hi<o._hi?-1:this._hi>o._hi?1:this._lo<o._lo?-1:this._lo>o._lo?1:0},X.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},X.prototype.setValue=function(){return arguments[0]instanceof X||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},X.prototype.max=function(o){return this.ge(o)?this:o},X.prototype.sqrt=function(){if(this.isZero())return X.valueOf(0);if(this.isNegative())return X.NaN;var o=1/Math.sqrt(this._hi),c=X.valueOf(this._hi*o),h=this.subtract(c.sqr())._hi*(.5*o);return c.add(h)},X.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof X){var o=arguments[0];return this.selfAdd(o._hi,o._lo)}if("number"==typeof arguments[0]){var c,h,m,D,N,a=arguments[0];return this._hi=(c=(m=this._hi+a)+(N=a-(D=m-this._hi)+(this._hi-(m-D))+this._lo))+(h=N+(m-c)),this._lo=h+(c-this._hi),this}}else if(2===arguments.length){var Vt,zt,he,hr,Q=arguments[0],Et=arguments[1],ae=null,Ce=null,Be=null;Ce=(he=this._hi+Q)-(Be=he-this._hi),ae=(zt=this._lo+Et)-(hr=zt-this._lo);var Ii=(Vt=he+(Be=(Ce=Q-Be+(this._hi-Ce))+zt))+(Be=(ae=Et-hr+(this._lo-ae))+(Be+(he-Vt))),Co=Be+(Vt-Ii);return this._hi=Ii,this._lo=Co,this}},X.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof X){var o=arguments[0];return this.selfMultiply(o._hi,o._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var E,N,c=arguments[0],m=null,D=null,Q=null,Et=null;m=(Q=X.SPLIT*this._hi)-this._hi,m=Q-m;var Vt=(Q=this._hi*c)+(Et=m*(D=(Et=X.SPLIT*c)-(D=Et-c))-Q+m*(N=c-D)+(E=this._hi-m)*D+E*N+(this._hi*arguments[1]+this._lo*c)),zt=Et+(m=Q-Vt);return this._hi=Vt,this._lo=zt,this}},X.prototype.selfSqr=function(){return this.selfMultiply(this)},X.prototype.floor=function(){if(this.isNaN())return X.NaN;var o=Math.floor(this._hi),a=0;return o===this._hi&&(a=Math.floor(this._lo)),new X(o,a)},X.prototype.negate=function(){return this.isNaN()?this:new X(-this._hi,-this._lo)},X.prototype.clone=function(){},X.prototype.multiply=function(){if(arguments[0]instanceof X){var o=arguments[0];return o.isNaN()?X.createNaN():X.copy(this).selfMultiply(o)}if("number"==typeof arguments[0]){var a=arguments[0];return F.isNaN(a)?X.createNaN():X.copy(this).selfMultiply(a,0)}},X.prototype.isNaN=function(){return F.isNaN(this._hi)},X.prototype.intValue=function(){return Math.trunc(this._hi)},X.prototype.toString=function(){var o=X.magnitude(this._hi);return o>=-3&&o<=20?this.toStandardNotation():this.toSciNotation()},X.prototype.toStandardNotation=function(){var o=this.getSpecialNumberString();if(null!==o)return o;var a=new Array(1).fill(null),c=this.extractSignificantDigits(!0,a),h=a[0]+1,m=c;return"."===c.charAt(0)?m="0"+c:h<0?m="0."+X.stringOfChar("0",-h)+c:-1===c.indexOf(".")&&(m=c+X.stringOfChar("0",h-c.length)+".0"),this.isNegative()?"-"+m:m},X.prototype.reciprocal=function(){var a,h,m,D,o=null,c=null,E=null,N=null;a=(m=1/this._hi)-(o=(E=X.SPLIT*m)-(o=E-m)),c=(N=X.SPLIT*this._hi)-this._hi;var Q=m+(E=(1-(D=m*this._hi)-(N=o*(c=N-c)-D+o*(h=this._hi-c)+a*c+a*h)-m*this._lo)/this._hi);return new X(Q,m-Q+E)},X.prototype.toSciNotation=function(){if(this.isZero())return X.SCI_NOT_ZERO;var o=this.getSpecialNumberString();if(null!==o)return o;var a=new Array(1).fill(null),c=this.extractSignificantDigits(!1,a),h=X.SCI_NOT_EXPONENT_CHAR+a[0];if("0"===c.charAt(0))throw new Error("Found leading zero: "+c);var m="";c.length>1&&(m=c.substring(1));var E=c.charAt(0)+"."+m;return this.isNegative()?"-"+E+h:E+h},X.prototype.abs=function(){return this.isNaN()?X.NaN:this.isNegative()?this.negate():new X(this)},X.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},X.prototype.lt=function(o){return(this._hi<o._hi||this._hi===o._hi)&&this._lo<o._lo},X.prototype.add=function(){if(arguments[0]instanceof X){var o=arguments[0];return X.copy(this).selfAdd(o)}if("number"==typeof arguments[0]){var a=arguments[0];return X.copy(this).selfAdd(a)}},X.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof X){var a=arguments[0];this._hi=a._hi,this._lo=a._lo}}else if(2===arguments.length){var h=arguments[1];this._hi=arguments[0],this._lo=h}},X.prototype.gt=function(o){return(this._hi>o._hi||this._hi===o._hi)&&this._lo>o._lo},X.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},X.prototype.trunc=function(){return this.isNaN()?X.NaN:this.isPositive()?this.floor():this.ceil()},X.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},X.prototype.interfaces_=function(){return[U,V,j]},X.prototype.getClass=function(){return X},X.sqr=function(o){return X.valueOf(o).selfMultiply(o)},X.valueOf=function(){return"string"==typeof arguments[0]?X.parse(arguments[0]):"number"==typeof arguments[0]?new X(arguments[0]):void 0},X.sqrt=function(o){return X.valueOf(o).sqrt()},X.parse=function(o){for(var a=0,c=o.length;ht.isWhitespace(o.charAt(a));)a++;var h=!1;if(a<c){var m=o.charAt(a);"-"!==m&&"+"!==m||(a++,"-"===m&&(h=!0))}for(var E=new X,D=0,N=0,Q=0;!(a>=c);){var Et=o.charAt(a);if(a++,ht.isDigit(Et)){var Vt=Et-"0";E.selfMultiply(X.TEN),E.selfAdd(Vt),D++}else{if("."!==Et){if("e"===Et||"E"===Et){var zt=o.substring(a);try{Q=ot.parseInt(zt)}catch(hr){throw hr instanceof Error?new Error("Invalid exponent "+zt+" in string "+o):hr}break}throw new Error("Unexpected character '"+Et+"' at position "+a+" in string "+o)}N=D}}var ae=E,he=D-N-Q;if(0===he)ae=E;else if(he>0){var Ce=X.TEN.pow(he);ae=E.divide(Ce)}else if(he<0){var Be=X.TEN.pow(-he);ae=E.multiply(Be)}return h?ae.negate():ae},X.createNaN=function(){return new X(F.NaN,F.NaN)},X.copy=function(o){return new X(o)},X.magnitude=function(o){var a=Math.abs(o),c=Math.log(a)/Math.log(10),h=Math.trunc(Math.floor(c));return 10*Math.pow(10,h)<=a&&(h+=1),h},X.stringOfChar=function(o,a){for(var c=new it,h=0;h<a;h++)c.append(o);return c.toString()},Lt.PI.get=function(){return new X(3.141592653589793,12246467991473532e-32)},Lt.TWO_PI.get=function(){return new X(6.283185307179586,24492935982947064e-32)},Lt.PI_2.get=function(){return new X(1.5707963267948966,6123233995736766e-32)},Lt.E.get=function(){return new X(2.718281828459045,14456468917292502e-32)},Lt.NaN.get=function(){return new X(F.NaN,F.NaN)},Lt.EPS.get=function(){return 123259516440783e-46},Lt.SPLIT.get=function(){return 134217729},Lt.MAX_PRINT_DIGITS.get=function(){return 32},Lt.TEN.get=function(){return X.valueOf(10)},Lt.ONE.get=function(){return X.valueOf(1)},Lt.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Lt.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(X,Lt);var Mt=function(){},$t={DP_SAFE_EPSILON:{configurable:!0}};Mt.prototype.interfaces_=function(){return[]},Mt.prototype.getClass=function(){return Mt},Mt.orientationIndex=function(o,a,c){var h=Mt.orientationIndexFilter(o,a,c);if(h<=1)return h;var m=X.valueOf(a.x).selfAdd(-o.x),E=X.valueOf(a.y).selfAdd(-o.y),D=X.valueOf(c.x).selfAdd(-a.x),N=X.valueOf(c.y).selfAdd(-a.y);return m.selfMultiply(N).selfSubtract(E.selfMultiply(D)).signum()},Mt.signOfDet2x2=function(o,a,c,h){return o.multiply(h).selfSubtract(a.multiply(c)).signum()},Mt.intersection=function(o,a,c,h){var m=X.valueOf(h.y).selfSubtract(c.y).selfMultiply(X.valueOf(a.x).selfSubtract(o.x)),E=X.valueOf(h.x).selfSubtract(c.x).selfMultiply(X.valueOf(a.y).selfSubtract(o.y)),D=m.subtract(E),N=X.valueOf(h.x).selfSubtract(c.x).selfMultiply(X.valueOf(o.y).selfSubtract(c.y)),Q=X.valueOf(h.y).selfSubtract(c.y).selfMultiply(X.valueOf(o.x).selfSubtract(c.x)),Et=N.subtract(Q).selfDivide(D).doubleValue(),Vt=X.valueOf(o.x).selfAdd(X.valueOf(a.x).selfSubtract(o.x).selfMultiply(Et)).doubleValue(),zt=X.valueOf(a.x).selfSubtract(o.x).selfMultiply(X.valueOf(o.y).selfSubtract(c.y)),ae=X.valueOf(a.y).selfSubtract(o.y).selfMultiply(X.valueOf(o.x).selfSubtract(c.x)),he=zt.subtract(ae).selfDivide(D).doubleValue(),Ce=X.valueOf(c.y).selfAdd(X.valueOf(h.y).selfSubtract(c.y).selfMultiply(he)).doubleValue();return new T(Vt,Ce)},Mt.orientationIndexFilter=function(o,a,c){var h=null,m=(o.x-c.x)*(a.y-c.y),E=(o.y-c.y)*(a.x-c.x),D=m-E;if(m>0){if(E<=0)return Mt.signum(D);h=m+E}else{if(!(m<0)||E>=0)return Mt.signum(D);h=-m-E}var N=Mt.DP_SAFE_EPSILON*h;return D>=N||-D>=N?Mt.signum(D):2},Mt.signum=function(o){return o>0?1:o<0?-1:0},$t.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Mt,$t);var St=function(){},te={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};te.X.get=function(){return 0},te.Y.get=function(){return 1},te.Z.get=function(){return 2},te.M.get=function(){return 3},St.prototype.setOrdinate=function(o,a,c){},St.prototype.size=function(){},St.prototype.getOrdinate=function(o,a){},St.prototype.getCoordinate=function(){},St.prototype.getCoordinateCopy=function(o){},St.prototype.getDimension=function(){},St.prototype.getX=function(o){},St.prototype.clone=function(){},St.prototype.expandEnvelope=function(o){},St.prototype.copy=function(){},St.prototype.getY=function(o){},St.prototype.toCoordinateArray=function(){},St.prototype.interfaces_=function(){return[j]},St.prototype.getClass=function(){return St},Object.defineProperties(St,te);var oe=function(){},De=function(o){function a(){o.call(this,"Projective point not representable on the Cartesian plane.")}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(oe),re=function(){};re.arraycopy=function(o,a,c,h,m){for(var E=0,D=a;D<a+m;D++)c[h+E]=o[D],E++},re.getProperty=function(o){return{"line.separator":"\n"}[o]};var me=function o(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var a=arguments[0];this.x=a.x,this.y=a.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var h=arguments[1];this.x=arguments[0],this.y=h,this.w=1}else if(arguments[0]instanceof o&&arguments[1]instanceof o){var m=arguments[0],E=arguments[1];this.x=m.y*E.w-E.y*m.w,this.y=E.x*m.w-m.x*E.w,this.w=m.x*E.y-E.x*m.y}else if(arguments[0]instanceof T&&arguments[1]instanceof T){var D=arguments[0],N=arguments[1];this.x=D.y-N.y,this.y=N.x-D.x,this.w=D.x*N.y-N.x*D.y}}else if(3===arguments.length){var Et=arguments[1],Vt=arguments[2];this.x=arguments[0],this.y=Et,this.w=Vt}else if(4===arguments.length){var zt=arguments[0],ae=arguments[1],he=arguments[2],Ce=arguments[3],Be=zt.y-ae.y,hr=ae.x-zt.x,Ii=zt.x*ae.y-ae.x*zt.y,Co=he.y-Ce.y,ya=Ce.x-he.x,Qa=he.x*Ce.y-Ce.x*he.y;this.x=hr*Qa-ya*Ii,this.y=Co*Ii-Be*Qa,this.w=Be*ya-Co*hr}};me.prototype.getY=function(){var o=this.y/this.w;if(F.isNaN(o)||F.isInfinite(o))throw new De;return o},me.prototype.getX=function(){var o=this.x/this.w;if(F.isNaN(o)||F.isInfinite(o))throw new De;return o},me.prototype.getCoordinate=function(){var o=new T;return o.x=this.getX(),o.y=this.getY(),o},me.prototype.interfaces_=function(){return[]},me.prototype.getClass=function(){return me},me.intersection=function(o,a,c,h){var m=o.y-a.y,E=a.x-o.x,D=o.x*a.y-a.x*o.y,N=c.y-h.y,Q=h.x-c.x,Et=c.x*h.y-h.x*c.y,Vt=m*Q-N*E,zt=(E*Et-Q*D)/Vt,ae=(N*D-m*Et)/Vt;if(F.isNaN(zt)||F.isInfinite(zt)||F.isNaN(ae)||F.isInfinite(ae))throw new De;return new T(zt,ae)};var Qt=function o(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof T){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else arguments[0]instanceof o&&this.init(arguments[0]);else if(2===arguments.length){var h=arguments[0],m=arguments[1];this.init(h.x,m.x,h.y,m.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},Qe={serialVersionUID:{configurable:!0}};Qt.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Qt.prototype.equals=function(o){if(!(o instanceof Qt))return!1;var a=o;return this.isNull()?a.isNull():this._maxx===a.getMaxX()&&this._maxy===a.getMaxY()&&this._minx===a.getMinX()&&this._miny===a.getMinY()},Qt.prototype.intersection=function(o){return this.isNull()||o.isNull()||!this.intersects(o)?new Qt:new Qt(this._minx>o._minx?this._minx:o._minx,this._maxx<o._maxx?this._maxx:o._maxx,this._miny>o._miny?this._miny:o._miny,this._maxy<o._maxy?this._maxy:o._maxy)},Qt.prototype.isNull=function(){return this._maxx<this._minx},Qt.prototype.getMaxX=function(){return this._maxx},Qt.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof T){var o=arguments[0];return this.covers(o.x,o.y)}if(arguments[0]instanceof Qt){var a=arguments[0];return!this.isNull()&&!a.isNull()&&a.getMinX()>=this._minx&&a.getMaxX()<=this._maxx&&a.getMinY()>=this._miny&&a.getMaxY()<=this._maxy}}else if(2===arguments.length){var c=arguments[0],h=arguments[1];return!this.isNull()&&c>=this._minx&&c<=this._maxx&&h>=this._miny&&h<=this._maxy}},Qt.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Qt){var o=arguments[0];return!this.isNull()&&!o.isNull()&&!(o._minx>this._maxx||o._maxx<this._minx||o._miny>this._maxy||o._maxy<this._miny)}if(arguments[0]instanceof T){var a=arguments[0];return this.intersects(a.x,a.y)}}else if(2===arguments.length){var c=arguments[0],h=arguments[1];return!this.isNull()&&!(c>this._maxx||c<this._minx||h>this._maxy||h<this._miny)}},Qt.prototype.getMinY=function(){return this._miny},Qt.prototype.getMinX=function(){return this._minx},Qt.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof T){var o=arguments[0];this.expandToInclude(o.x,o.y)}else if(arguments[0]instanceof Qt){var a=arguments[0];if(a.isNull())return null;this.isNull()?(this._minx=a.getMinX(),this._maxx=a.getMaxX(),this._miny=a.getMinY(),this._maxy=a.getMaxY()):(a._minx<this._minx&&(this._minx=a._minx),a._maxx>this._maxx&&(this._maxx=a._maxx),a._miny<this._miny&&(this._miny=a._miny),a._maxy>this._maxy&&(this._maxy=a._maxy))}}else if(2===arguments.length){var c=arguments[0],h=arguments[1];this.isNull()?(this._minx=c,this._maxx=c,this._miny=h,this._maxy=h):(c<this._minx&&(this._minx=c),c>this._maxx&&(this._maxx=c),h<this._miny&&(this._miny=h),h>this._maxy&&(this._maxy=h))}},Qt.prototype.minExtent=function(){if(this.isNull())return 0;var o=this.getWidth(),a=this.getHeight();return o<a?o:a},Qt.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Qt.prototype.compareTo=function(o){var a=o;return this.isNull()?a.isNull()?0:-1:a.isNull()?1:this._minx<a._minx?-1:this._minx>a._minx?1:this._miny<a._miny?-1:this._miny>a._miny?1:this._maxx<a._maxx?-1:this._maxx>a._maxx?1:this._maxy<a._maxy?-1:this._maxy>a._maxy?1:0},Qt.prototype.translate=function(o,a){if(this.isNull())return null;this.init(this.getMinX()+o,this.getMaxX()+o,this.getMinY()+a,this.getMaxY()+a)},Qt.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Qt.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Qt.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Qt.prototype.maxExtent=function(){if(this.isNull())return 0;var o=this.getWidth(),a=this.getHeight();return o>a?o:a},Qt.prototype.expandBy=function(){if(1===arguments.length){var o=arguments[0];this.expandBy(o,o)}else if(2===arguments.length){var a=arguments[0],c=arguments[1];if(this.isNull())return null;this._minx-=a,this._maxx+=a,this._miny-=c,this._maxy+=c,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Qt.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Qt)return this.covers(arguments[0]);if(arguments[0]instanceof T)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},Qt.prototype.centre=function(){return this.isNull()?null:new T((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Qt.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof T){var o=arguments[0];this.init(o.x,o.x,o.y,o.y)}else if(arguments[0]instanceof Qt){var a=arguments[0];this._minx=a._minx,this._maxx=a._maxx,this._miny=a._miny,this._maxy=a._maxy}}else if(2===arguments.length){var c=arguments[0],h=arguments[1];this.init(c.x,h.x,c.y,h.y)}else if(4===arguments.length){var m=arguments[0],E=arguments[1],D=arguments[2],N=arguments[3];m<E?(this._minx=m,this._maxx=E):(this._minx=E,this._maxx=m),D<N?(this._miny=D,this._maxy=N):(this._miny=N,this._maxy=D)}},Qt.prototype.getMaxY=function(){return this._maxy},Qt.prototype.distance=function(o){if(this.intersects(o))return 0;var a=0;this._maxx<o._minx?a=o._minx-this._maxx:this._minx>o._maxx&&(a=this._minx-o._maxx);var c=0;return this._maxy<o._miny?c=o._miny-this._maxy:this._miny>o._maxy&&(c=this._miny-o._maxy),0===a?c:0===c?a:Math.sqrt(a*a+c*c)},Qt.prototype.hashCode=function(){var o=17;return 37*(o=37*(o=37*(o=37*o+T.hashCode(this._minx))+T.hashCode(this._maxx))+T.hashCode(this._miny))+T.hashCode(this._maxy)},Qt.prototype.interfaces_=function(){return[V,U]},Qt.prototype.getClass=function(){return Qt},Qt.intersects=function(){if(3===arguments.length){var o=arguments[0],a=arguments[1],c=arguments[2];return c.x>=(o.x<a.x?o.x:a.x)&&c.x<=(o.x>a.x?o.x:a.x)&&c.y>=(o.y<a.y?o.y:a.y)&&c.y<=(o.y>a.y?o.y:a.y)}if(4===arguments.length){var h=arguments[0],m=arguments[1],E=arguments[2],D=arguments[3],N=Math.min(E.x,D.x),Q=Math.max(E.x,D.x),Et=Math.min(h.x,m.x),Vt=Math.max(h.x,m.x);return!(Et>Q||Vt<N||(N=Math.min(E.y,D.y),Q=Math.max(E.y,D.y),Et=Math.min(h.y,m.y),Vt=Math.max(h.y,m.y),Et>Q||Vt<N))}},Qe.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Qt,Qe);var Cn={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},cn=function(o){this.geometryFactory=o||new Ne};cn.prototype.read=function(o){var a,c;o=o.replace(/[\n\r]/g," ");var m=Cn.typeStr.exec(o);if(-1!==o.search("EMPTY")&&((m=Cn.emptyTypeStr.exec(o))[2]=void 0),m&&(c=m[1].toLowerCase(),ze[c]&&(a=ze[c].apply(this,[m[2]]))),void 0===a)throw new Error("Could not parse WKT "+o);return a},cn.prototype.write=function(o){return this.extractGeometry(o)},cn.prototype.extractGeometry=function(o){var a=o.getGeometryType().toLowerCase();if(!Pe[a])return null;var c=a.toUpperCase();return o.isEmpty()?c+" EMPTY":c+"("+Pe[a].apply(this,[o])+")"};var Pe={coordinate:function(o){return o.x+" "+o.y},point:function(o){return Pe.coordinate.call(this,o._coordinates._coordinates[0])},multipoint:function(o){for(var a=[],c=0,h=o._geometries.length;c<h;++c)a.push("("+Pe.point.apply(this,[o._geometries[c]])+")");return a.join(",")},linestring:function(o){for(var a=[],c=0,h=o._points._coordinates.length;c<h;++c)a.push(Pe.coordinate.apply(this,[o._points._coordinates[c]]));return a.join(",")},linearring:function(o){for(var a=[],c=0,h=o._points._coordinates.length;c<h;++c)a.push(Pe.coordinate.apply(this,[o._points._coordinates[c]]));return a.join(",")},multilinestring:function(o){for(var a=[],c=0,h=o._geometries.length;c<h;++c)a.push("("+Pe.linestring.apply(this,[o._geometries[c]])+")");return a.join(",")},polygon:function(o){var a=[];a.push("("+Pe.linestring.apply(this,[o._shell])+")");for(var c=0,h=o._holes.length;c<h;++c)a.push("("+Pe.linestring.apply(this,[o._holes[c]])+")");return a.join(",")},multipolygon:function(o){for(var a=[],c=0,h=o._geometries.length;c<h;++c)a.push("("+Pe.polygon.apply(this,[o._geometries[c]])+")");return a.join(",")},geometrycollection:function(o){for(var a=[],c=0,h=o._geometries.length;c<h;++c)a.push(this.extractGeometry(o._geometries[c]));return a.join(",")}},ze={point:function(o){if(void 0===o)return this.geometryFactory.createPoint();var a=o.trim().split(Cn.spaces);return this.geometryFactory.createPoint(new T(Number.parseFloat(a[0]),Number.parseFloat(a[1])))},multipoint:function(o){if(void 0===o)return this.geometryFactory.createMultiPoint();for(var a,c=o.trim().split(","),h=[],m=0,E=c.length;m<E;++m)a=c[m].replace(Cn.trimParens,"$1"),h.push(ze.point.apply(this,[a]));return this.geometryFactory.createMultiPoint(h)},linestring:function(o){if(void 0===o)return this.geometryFactory.createLineString();for(var a,c=o.trim().split(","),h=[],m=0,E=c.length;m<E;++m)a=c[m].trim().split(Cn.spaces),h.push(new T(Number.parseFloat(a[0]),Number.parseFloat(a[1])));return this.geometryFactory.createLineString(h)},linearring:function(o){if(void 0===o)return this.geometryFactory.createLinearRing();for(var a,c=o.trim().split(","),h=[],m=0,E=c.length;m<E;++m)a=c[m].trim().split(Cn.spaces),h.push(new T(Number.parseFloat(a[0]),Number.parseFloat(a[1])));return this.geometryFactory.createLinearRing(h)},multilinestring:function(o){if(void 0===o)return this.geometryFactory.createMultiLineString();for(var a,c=o.trim().split(Cn.parenComma),h=[],m=0,E=c.length;m<E;++m)a=c[m].replace(Cn.trimParens,"$1"),h.push(ze.linestring.apply(this,[a]));return this.geometryFactory.createMultiLineString(h)},polygon:function(o){if(void 0===o)return this.geometryFactory.createPolygon();for(var a,c,h,m,E=o.trim().split(Cn.parenComma),D=[],N=0,Q=E.length;N<Q;++N)a=E[N].replace(Cn.trimParens,"$1"),c=ze.linestring.apply(this,[a]),h=this.geometryFactory.createLinearRing(c._points),0===N?m=h:D.push(h);return this.geometryFactory.createPolygon(m,D)},multipolygon:function(o){if(void 0===o)return this.geometryFactory.createMultiPolygon();for(var a,c=o.trim().split(Cn.doubleParenComma),h=[],m=0,E=c.length;m<E;++m)a=c[m].replace(Cn.trimParens,"$1"),h.push(ze.polygon.apply(this,[a]));return this.geometryFactory.createMultiPolygon(h)},geometrycollection:function(o){if(void 0===o)return this.geometryFactory.createGeometryCollection();for(var a=(o=o.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),c=[],h=0,m=a.length;h<m;++h)c.push(this.read(a[h]));return this.geometryFactory.createGeometryCollection(c)}},pr=function(o){this.parser=new cn(o)};pr.prototype.write=function(o){return this.parser.write(o)},pr.toLineString=function(o,a){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+o.x+" "+o.y+", "+a.x+" "+a.y+" )"};var bi=function(o){function a(c){o.call(this,c),this.name="RuntimeException",this.message=c,this.stack=(new o).stack}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a}(Error),js=function(o){function a(){o.call(this),0===arguments.length?o.call(this):1===arguments.length&&o.call(this,arguments[0])}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(bi),Ue=function(){};Ue.prototype.interfaces_=function(){return[]},Ue.prototype.getClass=function(){return Ue},Ue.shouldNeverReachHere=function(){if(0===arguments.length)Ue.shouldNeverReachHere(null);else if(1===arguments.length){var o=arguments[0];throw new js("Should never reach here"+(null!==o?": "+o:""))}},Ue.isTrue=function(){var a;if(1===arguments.length)Ue.isTrue(arguments[0],null);else if(2===arguments.length&&(a=arguments[1],!arguments[0]))throw null===a?new js:new js(a)},Ue.equals=function(){var o,a,c;if(2===arguments.length)Ue.equals(o=arguments[0],a=arguments[1],null);else if(3===arguments.length&&(c=arguments[2],!(a=arguments[1]).equals(o=arguments[0])))throw new js("Expected "+o+" but encountered "+a+(null!==c?": "+c:""))};var ur=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new T,this._intPt[1]=new T,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Vo={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};ur.prototype.getIndexAlongSegment=function(o,a){return this.computeIntLineIndex(),this._intLineIndex[o][a]},ur.prototype.getTopologySummary=function(){var o=new it;return this.isEndPoint()&&o.append(" endpoint"),this._isProper&&o.append(" proper"),this.isCollinear()&&o.append(" collinear"),o.toString()},ur.prototype.computeIntersection=function(o,a,c,h){this._inputLines[0][0]=o,this._inputLines[0][1]=a,this._inputLines[1][0]=c,this._inputLines[1][1]=h,this._result=this.computeIntersect(o,a,c,h)},ur.prototype.getIntersectionNum=function(){return this._result},ur.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var o=arguments[0];this.getEdgeDistance(o,0)>this.getEdgeDistance(o,1)?(this._intLineIndex[o][0]=0,this._intLineIndex[o][1]=1):(this._intLineIndex[o][0]=1,this._intLineIndex[o][1]=0)}},ur.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},ur.prototype.setPrecisionModel=function(o){this._precisionModel=o},ur.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var o=arguments[0],a=0;a<this._result;a++)if(!this._intPt[a].equals2D(this._inputLines[o][0])&&!this._intPt[a].equals2D(this._inputLines[o][1]))return!0;return!1}},ur.prototype.getIntersection=function(o){return this._intPt[o]},ur.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},ur.prototype.hasIntersection=function(){return this._result!==ur.NO_INTERSECTION},ur.prototype.getEdgeDistance=function(o,a){return ur.computeEdgeDistance(this._intPt[a],this._inputLines[o][0],this._inputLines[o][1])},ur.prototype.isCollinear=function(){return this._result===ur.COLLINEAR_INTERSECTION},ur.prototype.toString=function(){return pr.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+pr.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},ur.prototype.getEndpoint=function(o,a){return this._inputLines[o][a]},ur.prototype.isIntersection=function(o){for(var a=0;a<this._result;a++)if(this._intPt[a].equals2D(o))return!0;return!1},ur.prototype.getIntersectionAlongSegment=function(o,a){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[o][a]]},ur.prototype.interfaces_=function(){return[]},ur.prototype.getClass=function(){return ur},ur.computeEdgeDistance=function(o,a,c){var h=Math.abs(c.x-a.x),m=Math.abs(c.y-a.y),E=-1;if(o.equals(a))E=0;else if(o.equals(c))E=h>m?h:m;else{var D=Math.abs(o.x-a.x),N=Math.abs(o.y-a.y);0!==(E=h>m?D:N)||o.equals(a)||(E=Math.max(D,N))}return Ue.isTrue(!(0===E&&!o.equals(a)),"Bad distance calculation"),E},ur.nonRobustComputeEdgeDistance=function(o,a,c){var h=o.x-a.x,m=o.y-a.y,E=Math.sqrt(h*h+m*m);return Ue.isTrue(!(0===E&&!o.equals(a)),"Invalid distance calculation"),E},Vo.DONT_INTERSECT.get=function(){return 0},Vo.DO_INTERSECT.get=function(){return 1},Vo.COLLINEAR.get=function(){return 2},Vo.NO_INTERSECTION.get=function(){return 0},Vo.POINT_INTERSECTION.get=function(){return 1},Vo.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(ur,Vo);var fo=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.isInSegmentEnvelopes=function(c){var h=new Qt(this._inputLines[0][0],this._inputLines[0][1]),m=new Qt(this._inputLines[1][0],this._inputLines[1][1]);return h.contains(c)&&m.contains(c)},a.prototype.computeIntersection=function(){if(3!==arguments.length)return o.prototype.computeIntersection.apply(this,arguments);var c=arguments[0],h=arguments[1],m=arguments[2];if(this._isProper=!1,Qt.intersects(h,m,c)&&0===le.orientationIndex(h,m,c)&&0===le.orientationIndex(m,h,c))return this._isProper=!0,(c.equals(h)||c.equals(m))&&(this._isProper=!1),this._result=o.POINT_INTERSECTION,null;this._result=o.NO_INTERSECTION},a.prototype.normalizeToMinimum=function(c,h,m,E,D){D.x=this.smallestInAbsValue(c.x,h.x,m.x,E.x),D.y=this.smallestInAbsValue(c.y,h.y,m.y,E.y),c.x-=D.x,c.y-=D.y,h.x-=D.x,h.y-=D.y,m.x-=D.x,m.y-=D.y,E.x-=D.x,E.y-=D.y},a.prototype.safeHCoordinateIntersection=function(c,h,m,E){var D=null;try{D=me.intersection(c,h,m,E)}catch(N){if(!(N instanceof De))throw N;D=a.nearestEndpoint(c,h,m,E)}return D},a.prototype.intersection=function(c,h,m,E){var D=this.intersectionWithNormalization(c,h,m,E);return this.isInSegmentEnvelopes(D)||(D=new T(a.nearestEndpoint(c,h,m,E))),null!==this._precisionModel&&this._precisionModel.makePrecise(D),D},a.prototype.smallestInAbsValue=function(c,h,m,E){var D=c,N=Math.abs(D);return Math.abs(h)<N&&(D=h,N=Math.abs(h)),Math.abs(m)<N&&(D=m,N=Math.abs(m)),Math.abs(E)<N&&(D=E),D},a.prototype.checkDD=function(c,h,m,E,D){var N=Mt.intersection(c,h,m,E),Q=this.isInSegmentEnvelopes(N);re.out.println("DD in env = "+Q+"  --------------------- "+N),D.distance(N)>1e-4&&re.out.println("Distance = "+D.distance(N))},a.prototype.intersectionWithNormalization=function(c,h,m,E){var D=new T(c),N=new T(h),Q=new T(m),Et=new T(E),Vt=new T;this.normalizeToEnvCentre(D,N,Q,Et,Vt);var zt=this.safeHCoordinateIntersection(D,N,Q,Et);return zt.x+=Vt.x,zt.y+=Vt.y,zt},a.prototype.computeCollinearIntersection=function(c,h,m,E){var D=Qt.intersects(c,h,m),N=Qt.intersects(c,h,E),Q=Qt.intersects(m,E,c),Et=Qt.intersects(m,E,h);return D&&N?(this._intPt[0]=m,this._intPt[1]=E,o.COLLINEAR_INTERSECTION):Q&&Et?(this._intPt[0]=c,this._intPt[1]=h,o.COLLINEAR_INTERSECTION):D&&Q?(this._intPt[0]=m,this._intPt[1]=c,!m.equals(c)||N||Et?o.COLLINEAR_INTERSECTION:o.POINT_INTERSECTION):D&&Et?(this._intPt[0]=m,this._intPt[1]=h,!m.equals(h)||N||Q?o.COLLINEAR_INTERSECTION:o.POINT_INTERSECTION):N&&Q?(this._intPt[0]=E,this._intPt[1]=c,!E.equals(c)||D||Et?o.COLLINEAR_INTERSECTION:o.POINT_INTERSECTION):N&&Et?(this._intPt[0]=E,this._intPt[1]=h,!E.equals(h)||D||Q?o.COLLINEAR_INTERSECTION:o.POINT_INTERSECTION):o.NO_INTERSECTION},a.prototype.normalizeToEnvCentre=function(c,h,m,E,D){var N=c.x<h.x?c.x:h.x,Q=c.y<h.y?c.y:h.y,Et=c.x>h.x?c.x:h.x,Vt=c.y>h.y?c.y:h.y,zt=m.x<E.x?m.x:E.x,ae=m.y<E.y?m.y:E.y,he=m.x>E.x?m.x:E.x,Ce=m.y>E.y?m.y:E.y,hr=((Q>ae?Q:ae)+(Vt<Ce?Vt:Ce))/2;D.x=((N>zt?N:zt)+(Et<he?Et:he))/2,D.y=hr,c.x-=D.x,c.y-=D.y,h.x-=D.x,h.y-=D.y,m.x-=D.x,m.y-=D.y,E.x-=D.x,E.y-=D.y},a.prototype.computeIntersect=function(c,h,m,E){if(this._isProper=!1,!Qt.intersects(c,h,m,E))return o.NO_INTERSECTION;var D=le.orientationIndex(c,h,m),N=le.orientationIndex(c,h,E);if(D>0&&N>0||D<0&&N<0)return o.NO_INTERSECTION;var Q=le.orientationIndex(m,E,c),Et=le.orientationIndex(m,E,h);return Q>0&&Et>0||Q<0&&Et<0?o.NO_INTERSECTION:0===D&&0===N&&0===Q&&0===Et?this.computeCollinearIntersection(c,h,m,E):(0===D||0===N||0===Q||0===Et?(this._isProper=!1,c.equals2D(m)||c.equals2D(E)?this._intPt[0]=c:h.equals2D(m)||h.equals2D(E)?this._intPt[0]=h:0===D?this._intPt[0]=new T(m):0===N?this._intPt[0]=new T(E):0===Q?this._intPt[0]=new T(c):0===Et&&(this._intPt[0]=new T(h))):(this._isProper=!0,this._intPt[0]=this.intersection(c,h,m,E)),o.POINT_INTERSECTION)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.nearestEndpoint=function(c,h,m,E){var D=c,N=le.distancePointLine(c,m,E),Q=le.distancePointLine(h,m,E);return Q<N&&(N=Q,D=h),(Q=le.distancePointLine(m,c,h))<N&&(N=Q,D=m),(Q=le.distancePointLine(E,c,h))<N&&(N=Q,D=E),D},a}(ur),Xo=function(){};Xo.prototype.interfaces_=function(){return[]},Xo.prototype.getClass=function(){return Xo},Xo.orientationIndex=function(o,a,c){return Xo.signOfDet2x2(a.x-o.x,a.y-o.y,c.x-a.x,c.y-a.y)},Xo.signOfDet2x2=function(o,a,c,h){var m=null,E=null,D=null;if(m=1,0===o||0===h)return 0===a||0===c?0:a>0?c>0?-m:m:c>0?m:-m;if(0===a||0===c)return h>0?o>0?m:-m:o>0?-m:m;if(a>0?h>0?a<=h||(m=-m,E=o,o=c,c=E,E=a,a=h,h=E):a<=-h?(m=-m,c=-c,h=-h):(E=o,o=-c,c=E,E=a,a=-h,h=E):h>0?-a<=h?(m=-m,o=-o,a=-a):(E=-o,o=c,c=E,E=-a,a=h,h=E):a>=h?(o=-o,a=-a,c=-c,h=-h):(m=-m,E=-o,o=-c,c=E,E=-a,a=-h,h=E),o>0){if(!(c>0&&o<=c))return m}else{if(c>0||!(o>=c))return-m;m=-m,o=-o,c=-c}for(;;){if((h-=(D=Math.floor(c/o))*a)<0)return-m;if(h>a)return m;if(o>(c-=D*o)+c){if(a<h+h)return m}else{if(a>h+h)return-m;c=o-c,h=a-h,m=-m}if(0===h)return 0===c?0:-m;if(0===c||(o-=(D=Math.floor(o/c))*c,(a-=D*h)<0))return m;if(a>h)return-m;if(c>o+o){if(h<a+a)return-m}else{if(h>a+a)return m;o=c-o,a=h-a,m=-m}if(0===a)return 0===o?0:m;if(0===o)return-m}};var cr=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};cr.prototype.countSegment=function(o,a){if(o.x<this._p.x&&a.x<this._p.x)return null;if(this._p.x===a.x&&this._p.y===a.y)return this._isPointOnSegment=!0,null;if(o.y===this._p.y&&a.y===this._p.y){var c=o.x,h=a.x;return c>h&&(c=a.x,h=o.x),this._p.x>=c&&this._p.x<=h&&(this._isPointOnSegment=!0),null}if(o.y>this._p.y&&a.y<=this._p.y||a.y>this._p.y&&o.y<=this._p.y){var E=o.y-this._p.y,N=a.y-this._p.y,Q=Xo.signOfDet2x2(o.x-this._p.x,E,a.x-this._p.x,N);if(0===Q)return this._isPointOnSegment=!0,null;N<E&&(Q=-Q),Q>0&&this._crossingCount++}},cr.prototype.isPointInPolygon=function(){return this.getLocation()!==W.EXTERIOR},cr.prototype.getLocation=function(){return this._isPointOnSegment?W.BOUNDARY:this._crossingCount%2==1?W.INTERIOR:W.EXTERIOR},cr.prototype.isOnSegment=function(){return this._isPointOnSegment},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr},cr.locatePointInRing=function(){if(arguments[0]instanceof T&&Bt(arguments[1],St)){for(var a=arguments[1],c=new cr(arguments[0]),h=new T,m=new T,E=1;E<a.size();E++)if(a.getCoordinate(E,h),a.getCoordinate(E-1,m),c.countSegment(h,m),c.isOnSegment())return c.getLocation();return c.getLocation()}if(arguments[0]instanceof T&&arguments[1]instanceof Array){for(var N=arguments[1],Q=new cr(arguments[0]),Et=1;Et<N.length;Et++)if(Q.countSegment(N[Et],N[Et-1]),Q.isOnSegment())return Q.getLocation();return Q.getLocation()}};var le=function(){},Hs={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};le.prototype.interfaces_=function(){return[]},le.prototype.getClass=function(){return le},le.orientationIndex=function(o,a,c){return Mt.orientationIndex(o,a,c)},le.signedArea=function(){if(arguments[0]instanceof Array){var o=arguments[0];if(o.length<3)return 0;for(var a=0,c=o[0].x,h=1;h<o.length-1;h++)a+=(o[h].x-c)*(o[h-1].y-o[h+1].y);return a/2}if(Bt(arguments[0],St)){var D=arguments[0],N=D.size();if(N<3)return 0;var Q=new T,Et=new T,Vt=new T;D.getCoordinate(0,Et),D.getCoordinate(1,Vt);var zt=Et.x;Vt.x-=zt;for(var ae=0,he=1;he<N-1;he++)Q.y=Et.y,Et.x=Vt.x,Et.y=Vt.y,D.getCoordinate(he+1,Vt),Vt.x-=zt,ae+=Et.x*(Q.y-Vt.y);return ae/2}},le.distanceLineLine=function(o,a,c,h){if(o.equals(a))return le.distancePointLine(o,c,h);if(c.equals(h))return le.distancePointLine(h,o,a);var m=!1;if(Qt.intersects(o,a,c,h)){var E=(a.x-o.x)*(h.y-c.y)-(a.y-o.y)*(h.x-c.x);if(0===E)m=!0;else{var N=((o.y-c.y)*(a.x-o.x)-(o.x-c.x)*(a.y-o.y))/E,Q=((o.y-c.y)*(h.x-c.x)-(o.x-c.x)*(h.y-c.y))/E;(Q<0||Q>1||N<0||N>1)&&(m=!0)}}else m=!0;return m?et.min(le.distancePointLine(o,c,h),le.distancePointLine(a,c,h),le.distancePointLine(c,o,a),le.distancePointLine(h,o,a)):0},le.isPointInRing=function(o,a){return le.locatePointInRing(o,a)!==W.EXTERIOR},le.computeLength=function(o){var a=o.size();if(a<=1)return 0;var c=0,h=new T;o.getCoordinate(0,h);for(var m=h.x,E=h.y,D=1;D<a;D++){o.getCoordinate(D,h);var N=h.x,Q=h.y,Et=N-m,Vt=Q-E;c+=Math.sqrt(Et*Et+Vt*Vt),m=N,E=Q}return c},le.isCCW=function(o){var a=o.length-1;if(a<3)throw new H("Ring has fewer than 4 points, so orientation cannot be determined");for(var c=o[0],h=0,m=1;m<=a;m++){var E=o[m];E.y>c.y&&(c=E,h=m)}var D=h;do{(D-=1)<0&&(D=a)}while(o[D].equals2D(c)&&D!==h);var N=h;do{N=(N+1)%a}while(o[N].equals2D(c)&&N!==h);var Q=o[D],Et=o[N];if(Q.equals2D(c)||Et.equals2D(c)||Q.equals2D(Et))return!1;var Vt=le.computeOrientation(Q,c,Et);return 0===Vt?Q.x>Et.x:Vt>0},le.locatePointInRing=function(o,a){return cr.locatePointInRing(o,a)},le.distancePointLinePerpendicular=function(o,a,c){var h=(c.x-a.x)*(c.x-a.x)+(c.y-a.y)*(c.y-a.y);return Math.abs(((a.y-o.y)*(c.x-a.x)-(a.x-o.x)*(c.y-a.y))/h)*Math.sqrt(h)},le.computeOrientation=function(o,a,c){return le.orientationIndex(o,a,c)},le.distancePointLine=function(){if(2===arguments.length){var o=arguments[0],a=arguments[1];if(0===a.length)throw new H("Line array must contain at least one vertex");for(var c=o.distance(a[0]),h=0;h<a.length-1;h++){var m=le.distancePointLine(o,a[h],a[h+1]);m<c&&(c=m)}return c}if(3===arguments.length){var E=arguments[0],D=arguments[1],N=arguments[2];if(D.x===N.x&&D.y===N.y)return E.distance(D);var Q=(N.x-D.x)*(N.x-D.x)+(N.y-D.y)*(N.y-D.y),Et=((E.x-D.x)*(N.x-D.x)+(E.y-D.y)*(N.y-D.y))/Q;return Et<=0?E.distance(D):Et>=1?E.distance(N):Math.abs(((D.y-E.y)*(N.x-D.x)-(D.x-E.x)*(N.y-D.y))/Q)*Math.sqrt(Q)}},le.isOnLine=function(o,a){for(var c=new fo,h=1;h<a.length;h++)if(c.computeIntersection(o,a[h-1],a[h]),c.hasIntersection())return!0;return!1},Hs.CLOCKWISE.get=function(){return-1},Hs.RIGHT.get=function(){return le.CLOCKWISE},Hs.COUNTERCLOCKWISE.get=function(){return 1},Hs.LEFT.get=function(){return le.COUNTERCLOCKWISE},Hs.COLLINEAR.get=function(){return 0},Hs.STRAIGHT.get=function(){return le.COLLINEAR},Object.defineProperties(le,Hs);var fs=function(){};fs.prototype.filter=function(o){},fs.prototype.interfaces_=function(){return[]},fs.prototype.getClass=function(){return fs};var Le=function(){var o=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=o,this._SRID=o.getSRID()},di={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Le.prototype.isGeometryCollection=function(){return this.getSortIndex()===Le.SORTINDEX_GEOMETRYCOLLECTION},Le.prototype.getFactory=function(){return this._factory},Le.prototype.getGeometryN=function(o){return this},Le.prototype.getArea=function(){return 0},Le.prototype.isRectangle=function(){return!1},Le.prototype.equals=function(){if(arguments[0]instanceof Le){var o=arguments[0];return null!==o&&this.equalsTopo(o)}if(arguments[0]instanceof Object){var a=arguments[0];return a instanceof Le&&this.equalsExact(a)}},Le.prototype.equalsExact=function(o){return this===o||this.equalsExact(o,0)},Le.prototype.geometryChanged=function(){this.apply(Le.geometryChangedFilter)},Le.prototype.geometryChangedAction=function(){this._envelope=null},Le.prototype.equalsNorm=function(o){return null!==o&&this.norm().equalsExact(o.norm())},Le.prototype.getLength=function(){return 0},Le.prototype.getNumGeometries=function(){return 1},Le.prototype.compareTo=function(){if(1===arguments.length){var o=arguments[0],a=o;return this.getSortIndex()!==a.getSortIndex()?this.getSortIndex()-a.getSortIndex():this.isEmpty()&&a.isEmpty()?0:this.isEmpty()?-1:a.isEmpty()?1:this.compareToSameClass(o)}if(2===arguments.length){var c=arguments[0],h=arguments[1];return this.getSortIndex()!==c.getSortIndex()?this.getSortIndex()-c.getSortIndex():this.isEmpty()&&c.isEmpty()?0:this.isEmpty()?-1:c.isEmpty()?1:this.compareToSameClass(c,h)}},Le.prototype.getUserData=function(){return this._userData},Le.prototype.getSRID=function(){return this._SRID},Le.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Le.prototype.checkNotGeometryCollection=function(o){if(o.getSortIndex()===Le.SORTINDEX_GEOMETRYCOLLECTION)throw new H("This method does not support GeometryCollection arguments")},Le.prototype.equal=function(o,a,c){return 0===c?o.equals(a):o.distance(a)<=c},Le.prototype.norm=function(){var o=this.copy();return o.normalize(),o},Le.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Le.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Qt(this._envelope)},Le.prototype.setSRID=function(o){this._SRID=o},Le.prototype.setUserData=function(o){this._userData=o},Le.prototype.compare=function(o,a){for(var c=o.iterator(),h=a.iterator();c.hasNext()&&h.hasNext();){var m=c.next(),E=h.next(),D=m.compareTo(E);if(0!==D)return D}return c.hasNext()?1:h.hasNext()?-1:0},Le.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Le.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Le.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Le.SORTINDEX_MULTIPOINT||this.getSortIndex()===Le.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Le.SORTINDEX_MULTIPOLYGON},Le.prototype.interfaces_=function(){return[j,V,U]},Le.prototype.getClass=function(){return Le},Le.hasNonEmptyElements=function(o){for(var a=0;a<o.length;a++)if(!o[a].isEmpty())return!0;return!1},Le.hasNullElements=function(o){for(var a=0;a<o.length;a++)if(null===o[a])return!0;return!1},di.serialVersionUID.get=function(){return 0x799ea46522854c00},di.SORTINDEX_POINT.get=function(){return 0},di.SORTINDEX_MULTIPOINT.get=function(){return 1},di.SORTINDEX_LINESTRING.get=function(){return 2},di.SORTINDEX_LINEARRING.get=function(){return 3},di.SORTINDEX_MULTILINESTRING.get=function(){return 4},di.SORTINDEX_POLYGON.get=function(){return 5},di.SORTINDEX_MULTIPOLYGON.get=function(){return 6},di.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},di.geometryChangedFilter.get=function(){return Nt},Object.defineProperties(Le,di);var Nt=function(){};Nt.interfaces_=function(){return[fs]},Nt.filter=function(o){o.geometryChangedAction()};var S=function(){};S.prototype.filter=function(o){},S.prototype.interfaces_=function(){return[]},S.prototype.getClass=function(){return S};var O=function(){},tt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};O.prototype.isInBoundary=function(o){},O.prototype.interfaces_=function(){return[]},O.prototype.getClass=function(){return O},tt.Mod2BoundaryNodeRule.get=function(){return ft},tt.EndPointBoundaryNodeRule.get=function(){return at},tt.MultiValentEndPointBoundaryNodeRule.get=function(){return Gt},tt.MonoValentEndPointBoundaryNodeRule.get=function(){return kt},tt.MOD2_BOUNDARY_RULE.get=function(){return new ft},tt.ENDPOINT_BOUNDARY_RULE.get=function(){return new at},tt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Gt},tt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new kt},tt.OGC_SFS_BOUNDARY_RULE.get=function(){return O.MOD2_BOUNDARY_RULE},Object.defineProperties(O,tt);var ft=function(){};ft.prototype.isInBoundary=function(o){return o%2==1},ft.prototype.interfaces_=function(){return[O]},ft.prototype.getClass=function(){return ft};var at=function(){};at.prototype.isInBoundary=function(o){return o>0},at.prototype.interfaces_=function(){return[O]},at.prototype.getClass=function(){return at};var Gt=function(){};Gt.prototype.isInBoundary=function(o){return o>1},Gt.prototype.interfaces_=function(){return[O]},Gt.prototype.getClass=function(){return Gt};var kt=function(){};kt.prototype.isInBoundary=function(o){return 1===o},kt.prototype.interfaces_=function(){return[O]},kt.prototype.getClass=function(){return kt};var Ht=function(){};Ht.prototype.add=function(){},Ht.prototype.addAll=function(){},Ht.prototype.isEmpty=function(){},Ht.prototype.iterator=function(){},Ht.prototype.size=function(){},Ht.prototype.toArray=function(){},Ht.prototype.remove=function(){},($.prototype=new Error).name="IndexOutOfBoundsException";var qt=function(){};qt.prototype.hasNext=function(){},qt.prototype.next=function(){},qt.prototype.remove=function(){};var de=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.get=function(){},a.prototype.set=function(){},a.prototype.isEmpty=function(){},a}(Ht);(ct.prototype=new Error).name="NoSuchElementException";var mt=function(o){function a(){o.call(this),this.array_=[],arguments[0]instanceof Ht&&this.addAll(arguments[0])}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.ensureCapacity=function(){},a.prototype.interfaces_=function(){return[o,Ht]},a.prototype.add=function(c){return 1===arguments.length?this.array_.push(c):this.array_.splice(arguments[0],arguments[1]),!0},a.prototype.clear=function(){this.array_=[]},a.prototype.addAll=function(c){for(var h=c.iterator();h.hasNext();)this.add(h.next());return!0},a.prototype.set=function(c,h){var m=this.array_[c];return this.array_[c]=h,m},a.prototype.iterator=function(){return new Kt(this)},a.prototype.get=function(c){if(c<0||c>=this.size())throw new $;return this.array_[c]},a.prototype.isEmpty=function(){return 0===this.array_.length},a.prototype.size=function(){return this.array_.length},a.prototype.toArray=function(){for(var c=[],h=0,m=this.array_.length;h<m;h++)c.push(this.array_[h]);return c},a.prototype.remove=function(c){for(var h=!1,m=0,E=this.array_.length;m<E;m++)if(this.array_[m]===c){this.array_.splice(m,1),h=!0;break}return h},a}(de),Kt=function(o){function a(c){o.call(this),this.arrayList_=c,this.position_=0}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new ct;return this.arrayList_.get(this.position_++)},a.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},a.prototype.set=function(c){return this.arrayList_.set(this.position_-1,c)},a.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},a}(qt),ce=function(o){function a(){if(o.call(this),0!==arguments.length)if(1===arguments.length){var h=arguments[0];this.ensureCapacity(h.length),this.add(h,!0)}else if(2===arguments.length){var m=arguments[0],E=arguments[1];this.ensureCapacity(m.length),this.add(m,E)}}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var c={coordArrayType:{configurable:!0}};return c.coordArrayType.get=function(){return new Array(0).fill(null)},a.prototype.getCoordinate=function(h){return this.get(h)},a.prototype.addAll=function(){if(2===arguments.length){for(var m=arguments[1],E=!1,D=arguments[0].iterator();D.hasNext();)this.add(D.next(),m),E=!0;return E}return o.prototype.addAll.apply(this,arguments)},a.prototype.clone=function(){for(var h=o.prototype.clone.call(this),m=0;m<this.size();m++)h.add(m,this.get(m).copy());return h},a.prototype.toCoordinateArray=function(){return this.toArray(a.coordArrayType)},a.prototype.add=function(){if(1===arguments.length)o.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof T&&"boolean"==typeof arguments[1]){var D=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(D))return null;o.prototype.add.call(this,D)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var Et=arguments[0],Vt=arguments[1];if(arguments[2])for(var zt=0;zt<Et.length;zt++)this.add(Et[zt],Vt);else for(var ae=Et.length-1;ae>=0;ae--)this.add(Et[ae],Vt);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof T){var he=arguments[0],Ce=arguments[1];if(!arguments[2]){var Be=this.size();if(Be>0&&(he>0&&this.get(he-1).equals2D(Ce)||he<Be&&this.get(he).equals2D(Ce)))return null}o.prototype.add.call(this,he,Ce)}}else if(4===arguments.length){var hr=arguments[0],Ii=arguments[1],Co=arguments[2],ya=arguments[3],Qa=1;Co>ya&&(Qa=-1);for(var zh=Co;zh!==ya;zh+=Qa)this.add(hr[zh],Ii);return!0}},a.prototype.closeRing=function(){this.size()>0&&this.add(new T(this.get(0)),!1)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},Object.defineProperties(a,c),a}(mt),se=function(){},Ge={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Ge.ForwardComparator.get=function(){return mn},Ge.BidirectionalComparator.get=function(){return Ke},Ge.coordArrayType.get=function(){return new Array(0).fill(null)},se.prototype.interfaces_=function(){return[]},se.prototype.getClass=function(){return se},se.isRing=function(o){return!(o.length<4||!o[0].equals2D(o[o.length-1]))},se.ptNotInList=function(o,a){for(var c=0;c<o.length;c++){var h=o[c];if(se.indexOf(h,a)<0)return h}return null},se.scroll=function(o,a){var c=se.indexOf(a,o);if(c<0)return null;var h=new Array(o.length).fill(null);re.arraycopy(o,c,h,0,o.length-c),re.arraycopy(o,0,h,o.length-c,c),re.arraycopy(h,0,o,0,o.length)},se.equals=function(){if(2===arguments.length){var o=arguments[0],a=arguments[1];if(o===a)return!0;if(null===o||null===a||o.length!==a.length)return!1;for(var c=0;c<o.length;c++)if(!o[c].equals(a[c]))return!1;return!0}if(3===arguments.length){var h=arguments[0],m=arguments[1],E=arguments[2];if(h===m)return!0;if(null===h||null===m||h.length!==m.length)return!1;for(var D=0;D<h.length;D++)if(0!==E.compare(h[D],m[D]))return!1;return!0}},se.intersection=function(o,a){for(var c=new ce,h=0;h<o.length;h++)a.intersects(o[h])&&c.add(o[h],!0);return c.toCoordinateArray()},se.hasRepeatedPoints=function(o){for(var a=1;a<o.length;a++)if(o[a-1].equals(o[a]))return!0;return!1},se.removeRepeatedPoints=function(o){return se.hasRepeatedPoints(o)?new ce(o,!1).toCoordinateArray():o},se.reverse=function(o){for(var a=o.length-1,c=Math.trunc(a/2),h=0;h<=c;h++){var m=o[h];o[h]=o[a-h],o[a-h]=m}},se.removeNull=function(o){for(var a=0,c=0;c<o.length;c++)null!==o[c]&&a++;var h=new Array(a).fill(null);if(0===a)return h;for(var m=0,E=0;E<o.length;E++)null!==o[E]&&(h[m++]=o[E]);return h},se.copyDeep=function(){if(1===arguments.length){for(var o=arguments[0],a=new Array(o.length).fill(null),c=0;c<o.length;c++)a[c]=new T(o[c]);return a}if(5===arguments.length)for(var h=arguments[0],m=arguments[1],E=arguments[2],D=arguments[3],N=arguments[4],Q=0;Q<N;Q++)E[D+Q]=new T(h[m+Q])},se.isEqualReversed=function(o,a){for(var c=0;c<o.length;c++)if(0!==o[c].compareTo(a[o.length-c-1]))return!1;return!0},se.envelope=function(o){for(var a=new Qt,c=0;c<o.length;c++)a.expandToInclude(o[c]);return a},se.toCoordinateArray=function(o){return o.toArray(se.coordArrayType)},se.atLeastNCoordinatesOrNothing=function(o,a){return a.length>=o?a:[]},se.indexOf=function(o,a){for(var c=0;c<a.length;c++)if(o.equals(a[c]))return c;return-1},se.increasingDirection=function(o){for(var a=0;a<Math.trunc(o.length/2);a++){var h=o[a].compareTo(o[o.length-1-a]);if(0!==h)return h}return 1},se.compare=function(o,a){for(var c=0;c<o.length&&c<a.length;){var h=o[c].compareTo(a[c]);if(0!==h)return h;c++}return c<a.length?-1:c<o.length?1:0},se.minCoordinate=function(o){for(var a=null,c=0;c<o.length;c++)(null===a||a.compareTo(o[c])>0)&&(a=o[c]);return a},se.extract=function(o,a,c){a=et.clamp(a,0,o.length);var h=(c=et.clamp(c,-1,o.length))-a+1;c<0&&(h=0),a>=o.length&&(h=0),c<a&&(h=0);var m=new Array(h).fill(null);if(0===h)return m;for(var E=0,D=a;D<=c;D++)m[E++]=o[D];return m},Object.defineProperties(se,Ge);var mn=function(){};mn.prototype.compare=function(o,a){return se.compare(o,a)},mn.prototype.interfaces_=function(){return[Y]},mn.prototype.getClass=function(){return mn};var Ke=function(){};Ke.prototype.compare=function(o,a){var c=o,h=a;if(c.length<h.length)return-1;if(c.length>h.length)return 1;if(0===c.length)return 0;var m=se.compare(c,h);return se.isEqualReversed(c,h)?0:m},Ke.prototype.OLDcompare=function(o,a){var c=o,h=a;if(c.length<h.length)return-1;if(c.length>h.length)return 1;if(0===c.length)return 0;for(var m=se.increasingDirection(c),E=se.increasingDirection(h),D=m>0?0:c.length-1,N=E>0?0:c.length-1,Q=0;Q<c.length;Q++){var Et=c[D].compareTo(h[N]);if(0!==Et)return Et;D+=m,N+=E}return 0},Ke.prototype.interfaces_=function(){return[Y]},Ke.prototype.getClass=function(){return Ke};var lr=function(){};lr.prototype.get=function(){},lr.prototype.put=function(){},lr.prototype.size=function(){},lr.prototype.values=function(){},lr.prototype.entrySet=function(){};var Hi=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a}(lr);(ut.prototype=new Error).name="OperationNotSupported",(_t.prototype=new Ht).contains=function(){};var Gr=function(o){function a(){o.call(this),this.array_=[],arguments[0]instanceof Ht&&this.addAll(arguments[0])}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.contains=function(c){for(var h=0,m=this.array_.length;h<m;h++)if(this.array_[h]===c)return!0;return!1},a.prototype.add=function(c){return!this.contains(c)&&(this.array_.push(c),!0)},a.prototype.addAll=function(c){for(var h=c.iterator();h.hasNext();)this.add(h.next());return!0},a.prototype.remove=function(c){throw new Error},a.prototype.size=function(){return this.array_.length},a.prototype.isEmpty=function(){return 0===this.array_.length},a.prototype.toArray=function(){for(var c=[],h=0,m=this.array_.length;h<m;h++)c.push(this.array_[h]);return c},a.prototype.iterator=function(){return new Oi(this)},a}(_t),Oi=function(o){function a(c){o.call(this),this.hashSet_=c,this.position_=0}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new ct;return this.hashSet_.array_[this.position_++]},a.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},a.prototype.remove=function(){throw new ut},a}(qt),Sn=0;(Rt.prototype=new Hi).get=function(o){for(var a=this.root_;null!==a;){var c=o.compareTo(a.key);if(c<0)a=a.left;else{if(!(c>0))return a.value;a=a.right}}return null},Rt.prototype.put=function(o,a){if(null===this.root_)return this.root_={key:o,value:a,left:null,right:null,parent:null,color:Sn,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var c,h,m=this.root_;do{if(c=m,(h=o.compareTo(m.key))<0)m=m.left;else{if(!(h>0)){var E=m.value;return m.value=a,E}m=m.right}}while(null!==m);var D={key:o,left:null,right:null,value:a,parent:c,color:Sn,getValue:function(){return this.value},getKey:function(){return this.key}};return h<0?c.left=D:c.right=D,this.fixAfterInsertion(D),this.size_++,null},Rt.prototype.fixAfterInsertion=function(o){for(o.color=1;null!=o&&o!==this.root_&&1===o.parent.color;)if(wt(o)===Pt(wt(wt(o)))){var a=Ut(wt(wt(o)));1===J(a)?(xt(wt(o),Sn),xt(a,Sn),xt(wt(wt(o)),1),o=wt(wt(o))):(o===Ut(wt(o))&&(o=wt(o),this.rotateLeft(o)),xt(wt(o),Sn),xt(wt(wt(o)),1),this.rotateRight(wt(wt(o))))}else{var c=Pt(wt(wt(o)));1===J(c)?(xt(wt(o),Sn),xt(c,Sn),xt(wt(wt(o)),1),o=wt(wt(o))):(o===Pt(wt(o))&&(o=wt(o),this.rotateRight(o)),xt(wt(o),Sn),xt(wt(wt(o)),1),this.rotateLeft(wt(wt(o))))}this.root_.color=Sn},Rt.prototype.values=function(){var o=new mt,a=this.getFirstEntry();if(null!==a)for(o.add(a.value);null!==(a=Rt.successor(a));)o.add(a.value);return o},Rt.prototype.entrySet=function(){var o=new Gr,a=this.getFirstEntry();if(null!==a)for(o.add(a);null!==(a=Rt.successor(a));)o.add(a);return o},Rt.prototype.rotateLeft=function(o){if(null!=o){var a=o.right;o.right=a.left,null!=a.left&&(a.left.parent=o),a.parent=o.parent,null===o.parent?this.root_=a:o.parent.left===o?o.parent.left=a:o.parent.right=a,a.left=o,o.parent=a}},Rt.prototype.rotateRight=function(o){if(null!=o){var a=o.left;o.left=a.right,null!=a.right&&(a.right.parent=o),a.parent=o.parent,null===o.parent?this.root_=a:o.parent.right===o?o.parent.right=a:o.parent.left=a,a.right=o,o.parent=a}},Rt.prototype.getFirstEntry=function(){var o=this.root_;if(null!=o)for(;null!=o.left;)o=o.left;return o},Rt.successor=function(o){if(null===o)return null;if(null!==o.right){for(var a=o.right;null!==a.left;)a=a.left;return a}for(var c=o.parent,h=o;null!==c&&h===c.right;)h=c,c=c.parent;return c},Rt.prototype.size=function(){return this.size_};var ve=function(){};ve.prototype.interfaces_=function(){return[]},ve.prototype.getClass=function(){return ve},It.prototype=new _t,(bt.prototype=new It).contains=function(o){for(var a=0,c=this.array_.length;a<c;a++)if(0===this.array_[a].compareTo(o))return!0;return!1},bt.prototype.add=function(o){if(this.contains(o))return!1;for(var a=0,c=this.array_.length;a<c;a++)if(1===this.array_[a].compareTo(o))return this.array_.splice(a,0,o),!0;return this.array_.push(o),!0},bt.prototype.addAll=function(o){for(var a=o.iterator();a.hasNext();)this.add(a.next());return!0},bt.prototype.remove=function(o){throw new ut},bt.prototype.size=function(){return this.array_.length},bt.prototype.isEmpty=function(){return 0===this.array_.length},bt.prototype.toArray=function(){for(var o=[],a=0,c=this.array_.length;a<c;a++)o.push(this.array_[a]);return o},bt.prototype.iterator=function(){return new rr(this)};var rr=function(o){this.treeSet_=o,this.position_=0};rr.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new ct;return this.treeSet_.array_[this.position_++]},rr.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},rr.prototype.remove=function(){throw new ut};var gi=function(){};gi.sort=function(){var o,a,c,m=arguments[0];if(1===arguments.length)m.sort(function(D,N){return D.compareTo(N)});else if(2===arguments.length)c=arguments[1],m.sort(function(D,N){return c.compare(D,N)});else if(3===arguments.length){(a=m.slice(arguments[1],arguments[2])).sort();var E=m.slice(0,arguments[1]).concat(a,m.slice(arguments[2],m.length));for(m.splice(0,m.length),o=0;o<E.length;o++)m.push(E[o])}else if(4===arguments.length)for(a=m.slice(arguments[1],arguments[2]),c=arguments[3],a.sort(function(D,N){return c.compare(D,N)}),E=m.slice(0,arguments[1]).concat(a,m.slice(arguments[2],m.length)),m.splice(0,m.length),o=0;o<E.length;o++)m.push(E[o])},gi.asList=function(o){for(var a=new mt,c=0,h=o.length;c<h;c++)a.add(o[c]);return a};var Je=function(){},Fr={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Fr.P.get=function(){return 0},Fr.L.get=function(){return 1},Fr.A.get=function(){return 2},Fr.FALSE.get=function(){return-1},Fr.TRUE.get=function(){return-2},Fr.DONTCARE.get=function(){return-3},Fr.SYM_FALSE.get=function(){return"F"},Fr.SYM_TRUE.get=function(){return"T"},Fr.SYM_DONTCARE.get=function(){return"*"},Fr.SYM_P.get=function(){return"0"},Fr.SYM_L.get=function(){return"1"},Fr.SYM_A.get=function(){return"2"},Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je},Je.toDimensionSymbol=function(o){switch(o){case Je.FALSE:return Je.SYM_FALSE;case Je.TRUE:return Je.SYM_TRUE;case Je.DONTCARE:return Je.SYM_DONTCARE;case Je.P:return Je.SYM_P;case Je.L:return Je.SYM_L;case Je.A:return Je.SYM_A}throw new H("Unknown dimension value: "+o)},Je.toDimensionValue=function(o){switch(ht.toUpperCase(o)){case Je.SYM_FALSE:return Je.FALSE;case Je.SYM_TRUE:return Je.TRUE;case Je.SYM_DONTCARE:return Je.DONTCARE;case Je.SYM_P:return Je.P;case Je.SYM_L:return Je.L;case Je.SYM_A:return Je.A}throw new H("Unknown dimension symbol: "+o)},Object.defineProperties(Je,Fr);var kr=function(){};kr.prototype.filter=function(o){},kr.prototype.interfaces_=function(){return[]},kr.prototype.getClass=function(){return kr};var jr=function(){};jr.prototype.filter=function(o,a){},jr.prototype.isDone=function(){},jr.prototype.isGeometryChanged=function(){},jr.prototype.interfaces_=function(){return[]},jr.prototype.getClass=function(){return jr};var wr=function(o){function a(h,m){if(o.call(this,m),this._geometries=h||[],o.hasNullElements(this._geometries))throw new H("geometries must not contain null elements")}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var c={serialVersionUID:{configurable:!0}};return a.prototype.computeEnvelopeInternal=function(){for(var h=new Qt,m=0;m<this._geometries.length;m++)h.expandToInclude(this._geometries[m].getEnvelopeInternal());return h},a.prototype.getGeometryN=function(h){return this._geometries[h]},a.prototype.getSortIndex=function(){return o.SORTINDEX_GEOMETRYCOLLECTION},a.prototype.getCoordinates=function(){for(var h=new Array(this.getNumPoints()).fill(null),m=-1,E=0;E<this._geometries.length;E++)for(var D=this._geometries[E].getCoordinates(),N=0;N<D.length;N++)h[++m]=D[N];return h},a.prototype.getArea=function(){for(var h=0,m=0;m<this._geometries.length;m++)h+=this._geometries[m].getArea();return h},a.prototype.equalsExact=function(){if(2===arguments.length){var h=arguments[0],m=arguments[1];if(!this.isEquivalentClass(h))return!1;var E=h;if(this._geometries.length!==E._geometries.length)return!1;for(var D=0;D<this._geometries.length;D++)if(!this._geometries[D].equalsExact(E._geometries[D],m))return!1;return!0}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.normalize=function(){for(var h=0;h<this._geometries.length;h++)this._geometries[h].normalize();gi.sort(this._geometries)},a.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},a.prototype.getBoundaryDimension=function(){for(var h=Je.FALSE,m=0;m<this._geometries.length;m++)h=Math.max(h,this._geometries[m].getBoundaryDimension());return h},a.prototype.getDimension=function(){for(var h=Je.FALSE,m=0;m<this._geometries.length;m++)h=Math.max(h,this._geometries[m].getDimension());return h},a.prototype.getLength=function(){for(var h=0,m=0;m<this._geometries.length;m++)h+=this._geometries[m].getLength();return h},a.prototype.getNumPoints=function(){for(var h=0,m=0;m<this._geometries.length;m++)h+=this._geometries[m].getNumPoints();return h},a.prototype.getNumGeometries=function(){return this._geometries.length},a.prototype.reverse=function(){for(var m=new Array(this._geometries.length).fill(null),E=0;E<this._geometries.length;E++)m[E]=this._geometries[E].reverse();return this.getFactory().createGeometryCollection(m)},a.prototype.compareToSameClass=function(){if(1===arguments.length){var h=arguments[0],m=new bt(gi.asList(this._geometries)),E=new bt(gi.asList(h._geometries));return this.compare(m,E)}if(2===arguments.length){for(var N=arguments[1],Q=arguments[0],Et=this.getNumGeometries(),Vt=Q.getNumGeometries(),zt=0;zt<Et&&zt<Vt;){var ae=this.getGeometryN(zt),he=Q.getGeometryN(zt),Ce=ae.compareToSameClass(he,N);if(0!==Ce)return Ce;zt++}return zt<Et?1:zt<Vt?-1:0}},a.prototype.apply=function(){if(Bt(arguments[0],S))for(var h=arguments[0],m=0;m<this._geometries.length;m++)this._geometries[m].apply(h);else if(Bt(arguments[0],jr)){var E=arguments[0];if(0===this._geometries.length)return null;for(var D=0;D<this._geometries.length&&(this._geometries[D].apply(E),!E.isDone());D++);E.isGeometryChanged()&&this.geometryChanged()}else if(Bt(arguments[0],kr)){var N=arguments[0];N.filter(this);for(var Q=0;Q<this._geometries.length;Q++)this._geometries[Q].apply(N)}else if(Bt(arguments[0],fs)){var Et=arguments[0];Et.filter(this);for(var Vt=0;Vt<this._geometries.length;Vt++)this._geometries[Vt].apply(Et)}},a.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Ue.shouldNeverReachHere(),null},a.prototype.clone=function(){var h=o.prototype.clone.call(this);h._geometries=new Array(this._geometries.length).fill(null);for(var m=0;m<this._geometries.length;m++)h._geometries[m]=this._geometries[m].clone();return h},a.prototype.getGeometryType=function(){return"GeometryCollection"},a.prototype.copy=function(){for(var h=new Array(this._geometries.length).fill(null),m=0;m<h.length;m++)h[m]=this._geometries[m].copy();return new a(h,this._factory)},a.prototype.isEmpty=function(){for(var h=0;h<this._geometries.length;h++)if(!this._geometries[h].isEmpty())return!1;return!0},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},c.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(a,c),a}(Le),hs=function(o){function a(){o.apply(this,arguments)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var c={serialVersionUID:{configurable:!0}};return a.prototype.getSortIndex=function(){return Le.SORTINDEX_MULTILINESTRING},a.prototype.equalsExact=function(){if(2===arguments.length){var h=arguments[0],m=arguments[1];return!!this.isEquivalentClass(h)&&o.prototype.equalsExact.call(this,h,m)}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.getBoundaryDimension=function(){return this.isClosed()?Je.FALSE:0},a.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var h=0;h<this._geometries.length;h++)if(!this._geometries[h].isClosed())return!1;return!0},a.prototype.getDimension=function(){return 1},a.prototype.reverse=function(){for(var h=this._geometries.length,m=new Array(h).fill(null),E=0;E<this._geometries.length;E++)m[h-1-E]=this._geometries[E].reverse();return this.getFactory().createMultiLineString(m)},a.prototype.getBoundary=function(){return new Yr(this).getBoundary()},a.prototype.getGeometryType=function(){return"MultiLineString"},a.prototype.copy=function(){for(var h=new Array(this._geometries.length).fill(null),m=0;m<h.length;m++)h[m]=this._geometries[m].copy();return new a(h,this._factory)},a.prototype.interfaces_=function(){return[ve]},a.prototype.getClass=function(){return a},c.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(a,c),a}(wr),Yr=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var o=arguments[0],a=O.MOD2_BOUNDARY_RULE;this._geom=o,this._geomFact=o.getFactory(),this._bnRule=a}else if(2===arguments.length){var c=arguments[0],h=arguments[1];this._geom=c,this._geomFact=c.getFactory(),this._bnRule=h}};Yr.prototype.boundaryMultiLineString=function(o){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var a=this.computeBoundaryCoordinates(o);return 1===a.length?this._geomFact.createPoint(a[0]):this._geomFact.createMultiPointFromCoords(a)},Yr.prototype.getBoundary=function(){return this._geom instanceof Hr?this.boundaryLineString(this._geom):this._geom instanceof hs?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Yr.prototype.boundaryLineString=function(o){return this._geom.isEmpty()?this.getEmptyMultiPoint():o.isClosed()?this._bnRule.isInBoundary(2)?o.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([o.getStartPoint(),o.getEndPoint()])},Yr.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Yr.prototype.computeBoundaryCoordinates=function(o){var a=new mt;this._endpointMap=new Rt;for(var c=0;c<o.getNumGeometries();c++){var h=o.getGeometryN(c);0!==h.getNumPoints()&&(this.addEndpoint(h.getCoordinateN(0)),this.addEndpoint(h.getCoordinateN(h.getNumPoints()-1)))}for(var m=this._endpointMap.entrySet().iterator();m.hasNext();){var E=m.next(),D=E.getValue().count;this._bnRule.isInBoundary(D)&&a.add(E.getKey())}return se.toCoordinateArray(a)},Yr.prototype.addEndpoint=function(o){var a=this._endpointMap.get(o);null===a&&(a=new Ua,this._endpointMap.put(o,a)),a.count++},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr},Yr.getBoundary=function(){return 1===arguments.length?new Yr(arguments[0]).getBoundary():2===arguments.length?new Yr(arguments[0],arguments[1]).getBoundary():void 0};var Ua=function(){this.count=null};Ua.prototype.interfaces_=function(){return[]},Ua.prototype.getClass=function(){return Ua};var gr=function(){},ca={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr},gr.chars=function(o,a){for(var c=new Array(a).fill(null),h=0;h<a;h++)c[h]=o;return String(c)},gr.getStackTrace=function(){if(1===arguments.length){var o=arguments[0],a=new function(){},c=new function(){}(a);return o.printStackTrace(c),a.toString()}if(2===arguments.length){for(var m=arguments[1],E="",D=new function(){}(new function(){}(gr.getStackTrace(arguments[0]))),N=0;N<m;N++)try{E+=D.readLine()+gr.NEWLINE}catch(Q){if(!(Q instanceof Yt))throw Q;Ue.shouldNeverReachHere()}return E}},gr.split=function(o,a){for(var c=a.length,h=new mt,m=""+o,E=m.indexOf(a);E>=0;){var D=m.substring(0,E);h.add(D),E=(m=m.substring(E+c)).indexOf(a)}m.length>0&&h.add(m);for(var N=new Array(h.size()).fill(null),Q=0;Q<N.length;Q++)N[Q]=h.get(Q);return N},gr.toString=function(){if(1===arguments.length)return gr.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},gr.spaces=function(o){return gr.chars(" ",o)},ca.NEWLINE.get=function(){return re.getProperty("line.separator")},ca.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(gr,ca);var Nn=function(){};Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Nn.copyCoord=function(o,a,c,h){for(var m=Math.min(o.getDimension(),c.getDimension()),E=0;E<m;E++)c.setOrdinate(h,E,o.getOrdinate(a,E))},Nn.isRing=function(o){var a=o.size();return 0===a||!(a<=3)&&o.getOrdinate(0,St.X)===o.getOrdinate(a-1,St.X)&&o.getOrdinate(0,St.Y)===o.getOrdinate(a-1,St.Y)},Nn.isEqual=function(o,a){var c=o.size();if(c!==a.size())return!1;for(var h=Math.min(o.getDimension(),a.getDimension()),m=0;m<c;m++)for(var E=0;E<h;E++){var D=o.getOrdinate(m,E),N=a.getOrdinate(m,E);if(!(o.getOrdinate(m,E)===a.getOrdinate(m,E)||F.isNaN(D)&&F.isNaN(N)))return!1}return!0},Nn.extend=function(o,a,c){var h=o.create(c,a.getDimension()),m=a.size();if(Nn.copy(a,0,h,0,m),m>0)for(var E=m;E<c;E++)Nn.copy(a,m-1,h,E,1);return h},Nn.reverse=function(o){for(var a=o.size()-1,c=Math.trunc(a/2),h=0;h<=c;h++)Nn.swap(o,h,a-h)},Nn.swap=function(o,a,c){if(a===c)return null;for(var h=0;h<o.getDimension();h++){var m=o.getOrdinate(a,h);o.setOrdinate(a,h,o.getOrdinate(c,h)),o.setOrdinate(c,h,m)}},Nn.copy=function(o,a,c,h,m){for(var E=0;E<m;E++)Nn.copyCoord(o,a+E,c,h+E)},Nn.toString=function(){if(1===arguments.length){var o=arguments[0],a=o.size();if(0===a)return"()";var c=o.getDimension(),h=new it;h.append("(");for(var m=0;m<a;m++){m>0&&h.append(" ");for(var E=0;E<c;E++)E>0&&h.append(","),h.append(gr.toString(o.getOrdinate(m,E)))}return h.append(")"),h.toString()}},Nn.ensureValidRing=function(o,a){var c=a.size();return 0===c?a:c<=3?Nn.createClosedRing(o,a,4):a.getOrdinate(0,St.X)===a.getOrdinate(c-1,St.X)&&a.getOrdinate(0,St.Y)===a.getOrdinate(c-1,St.Y)?a:Nn.createClosedRing(o,a,c+1)},Nn.createClosedRing=function(o,a,c){var h=o.create(c,a.getDimension()),m=a.size();Nn.copy(a,0,h,0,m);for(var E=m;E<c;E++)Nn.copy(a,0,h,E,1);return h};var Hr=function(o){function a(h,m){o.call(this,m),this._points=null,this.init(h)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var c={serialVersionUID:{configurable:!0}};return a.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Qt:this._points.expandEnvelope(new Qt)},a.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},a.prototype.getSortIndex=function(){return o.SORTINDEX_LINESTRING},a.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},a.prototype.equalsExact=function(){if(2===arguments.length){var h=arguments[0],m=arguments[1];if(!this.isEquivalentClass(h))return!1;var E=h;if(this._points.size()!==E._points.size())return!1;for(var D=0;D<this._points.size();D++)if(!this.equal(this._points.getCoordinate(D),E._points.getCoordinate(D),m))return!1;return!0}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.normalize=function(){for(var h=0;h<Math.trunc(this._points.size()/2);h++){var m=this._points.size()-1-h;if(!this._points.getCoordinate(h).equals(this._points.getCoordinate(m)))return this._points.getCoordinate(h).compareTo(this._points.getCoordinate(m))>0&&Nn.reverse(this._points),null}},a.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},a.prototype.getBoundaryDimension=function(){return this.isClosed()?Je.FALSE:0},a.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},a.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},a.prototype.getDimension=function(){return 1},a.prototype.getLength=function(){return le.computeLength(this._points)},a.prototype.getNumPoints=function(){return this._points.size()},a.prototype.reverse=function(){var h=this._points.copy();return Nn.reverse(h),this.getFactory().createLineString(h)},a.prototype.compareToSameClass=function(){if(1===arguments.length){for(var h=arguments[0],m=0,E=0;m<this._points.size()&&E<h._points.size();){var D=this._points.getCoordinate(m).compareTo(h._points.getCoordinate(E));if(0!==D)return D;m++,E++}return m<this._points.size()?1:E<h._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},a.prototype.apply=function(){if(Bt(arguments[0],S))for(var h=arguments[0],m=0;m<this._points.size();m++)h.filter(this._points.getCoordinate(m));else if(Bt(arguments[0],jr)){var E=arguments[0];if(0===this._points.size())return null;for(var D=0;D<this._points.size()&&(E.filter(this._points,D),!E.isDone());D++);E.isGeometryChanged()&&this.geometryChanged()}else(Bt(arguments[0],kr)||Bt(arguments[0],fs))&&arguments[0].filter(this)},a.prototype.getBoundary=function(){return new Yr(this).getBoundary()},a.prototype.isEquivalentClass=function(h){return h instanceof a},a.prototype.clone=function(){var h=o.prototype.clone.call(this);return h._points=this._points.clone(),h},a.prototype.getCoordinateN=function(h){return this._points.getCoordinate(h)},a.prototype.getGeometryType=function(){return"LineString"},a.prototype.copy=function(){return new a(this._points.copy(),this._factory)},a.prototype.getCoordinateSequence=function(){return this._points},a.prototype.isEmpty=function(){return 0===this._points.size()},a.prototype.init=function(h){if(null===h&&(h=this.getFactory().getCoordinateSequenceFactory().create([])),1===h.size())throw new H("Invalid number of points in LineString (found "+h.size()+" - must be 0 or >= 2)");this._points=h},a.prototype.isCoordinate=function(h){for(var m=0;m<this._points.size();m++)if(this._points.getCoordinate(m).equals(h))return!0;return!1},a.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},a.prototype.getPointN=function(h){return this.getFactory().createPoint(this._points.getCoordinate(h))},a.prototype.interfaces_=function(){return[ve]},a.prototype.getClass=function(){return a},c.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(a,c),a}(Le),fa=function(){};fa.prototype.interfaces_=function(){return[]},fa.prototype.getClass=function(){return fa};var ro=function(o){function a(h,m){o.call(this,m),this._coordinates=h||null,this.init(this._coordinates)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var c={serialVersionUID:{configurable:!0}};return a.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Qt;var h=new Qt;return h.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),h},a.prototype.getSortIndex=function(){return o.SORTINDEX_POINT},a.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},a.prototype.equalsExact=function(){if(2===arguments.length){var h=arguments[0],m=arguments[1];return!!this.isEquivalentClass(h)&&(!(!this.isEmpty()||!h.isEmpty())||this.isEmpty()===h.isEmpty()&&this.equal(h.getCoordinate(),this.getCoordinate(),m))}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.normalize=function(){},a.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},a.prototype.getBoundaryDimension=function(){return Je.FALSE},a.prototype.getDimension=function(){return 0},a.prototype.getNumPoints=function(){return this.isEmpty()?0:1},a.prototype.reverse=function(){return this.copy()},a.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},a.prototype.compareToSameClass=function(){if(1===arguments.length){var h=arguments[0];return this.getCoordinate().compareTo(h.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},a.prototype.apply=function(){if(Bt(arguments[0],S)){var h=arguments[0];if(this.isEmpty())return null;h.filter(this.getCoordinate())}else if(Bt(arguments[0],jr)){var m=arguments[0];if(this.isEmpty())return null;m.filter(this._coordinates,0),m.isGeometryChanged()&&this.geometryChanged()}else(Bt(arguments[0],kr)||Bt(arguments[0],fs))&&arguments[0].filter(this)},a.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},a.prototype.clone=function(){var h=o.prototype.clone.call(this);return h._coordinates=this._coordinates.clone(),h},a.prototype.getGeometryType=function(){return"Point"},a.prototype.copy=function(){return new a(this._coordinates.copy(),this._factory)},a.prototype.getCoordinateSequence=function(){return this._coordinates},a.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},a.prototype.isEmpty=function(){return 0===this._coordinates.size()},a.prototype.init=function(h){null===h&&(h=this.getFactory().getCoordinateSequenceFactory().create([])),Ue.isTrue(h.size()<=1),this._coordinates=h},a.prototype.isSimple=function(){return!0},a.prototype.interfaces_=function(){return[fa]},a.prototype.getClass=function(){return a},c.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(a,c),a}(Le),ds=function(){};ds.prototype.interfaces_=function(){return[]},ds.prototype.getClass=function(){return ds};var Xr=function(o){function a(h,m,E){if(o.call(this,E),this._shell=null,this._holes=null,null===h&&(h=this.getFactory().createLinearRing()),null===m&&(m=[]),o.hasNullElements(m))throw new H("holes must not contain null elements");if(h.isEmpty()&&o.hasNonEmptyElements(m))throw new H("shell is empty but holes are not");this._shell=h,this._holes=m}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var c={serialVersionUID:{configurable:!0}};return a.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},a.prototype.getSortIndex=function(){return o.SORTINDEX_POLYGON},a.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var h=new Array(this.getNumPoints()).fill(null),m=-1,E=this._shell.getCoordinates(),D=0;D<E.length;D++)h[++m]=E[D];for(var N=0;N<this._holes.length;N++)for(var Q=this._holes[N].getCoordinates(),Et=0;Et<Q.length;Et++)h[++m]=Q[Et];return h},a.prototype.getArea=function(){var h=0;h+=Math.abs(le.signedArea(this._shell.getCoordinateSequence()));for(var m=0;m<this._holes.length;m++)h-=Math.abs(le.signedArea(this._holes[m].getCoordinateSequence()));return h},a.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var h=this._shell.getCoordinateSequence(),m=this.getEnvelopeInternal(),E=0;E<5;E++){var D=h.getX(E);if(D!==m.getMinX()&&D!==m.getMaxX())return!1;var N=h.getY(E);if(N!==m.getMinY()&&N!==m.getMaxY())return!1}for(var Q=h.getX(0),Et=h.getY(0),Vt=1;Vt<=4;Vt++){var zt=h.getX(Vt),ae=h.getY(Vt);if(zt!==Q==(ae!==Et))return!1;Q=zt,Et=ae}return!0},a.prototype.equalsExact=function(){if(2===arguments.length){var h=arguments[0],m=arguments[1];if(!this.isEquivalentClass(h))return!1;var E=h;if(!this._shell.equalsExact(E._shell,m)||this._holes.length!==E._holes.length)return!1;for(var Q=0;Q<this._holes.length;Q++)if(!this._holes[Q].equalsExact(E._holes[Q],m))return!1;return!0}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var h=0;h<this._holes.length;h++)this.normalize(this._holes[h],!1);gi.sort(this._holes)}else if(2===arguments.length){var m=arguments[0],E=arguments[1];if(m.isEmpty())return null;var D=new Array(m.getCoordinates().length-1).fill(null);re.arraycopy(m.getCoordinates(),0,D,0,D.length);var N=se.minCoordinate(m.getCoordinates());se.scroll(D,N),re.arraycopy(D,0,m.getCoordinates(),0,D.length),m.getCoordinates()[D.length]=D[0],le.isCCW(m.getCoordinates())===E&&se.reverse(m.getCoordinates())}},a.prototype.getCoordinate=function(){return this._shell.getCoordinate()},a.prototype.getNumInteriorRing=function(){return this._holes.length},a.prototype.getBoundaryDimension=function(){return 1},a.prototype.getDimension=function(){return 2},a.prototype.getLength=function(){var h=0;h+=this._shell.getLength();for(var m=0;m<this._holes.length;m++)h+=this._holes[m].getLength();return h},a.prototype.getNumPoints=function(){for(var h=this._shell.getNumPoints(),m=0;m<this._holes.length;m++)h+=this._holes[m].getNumPoints();return h},a.prototype.reverse=function(){var h=this.copy();h._shell=this._shell.copy().reverse(),h._holes=new Array(this._holes.length).fill(null);for(var m=0;m<this._holes.length;m++)h._holes[m]=this._holes[m].copy().reverse();return h},a.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},a.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var N=arguments[1],Q=arguments[0],zt=this._shell.compareToSameClass(Q._shell,N);if(0!==zt)return zt;for(var ae=this.getNumInteriorRing(),he=Q.getNumInteriorRing(),Ce=0;Ce<ae&&Ce<he;){var Be=this.getInteriorRingN(Ce),hr=Q.getInteriorRingN(Ce),Ii=Be.compareToSameClass(hr,N);if(0!==Ii)return Ii;Ce++}return Ce<ae?1:Ce<he?-1:0}},a.prototype.apply=function(h){if(Bt(h,S)){this._shell.apply(h);for(var m=0;m<this._holes.length;m++)this._holes[m].apply(h)}else if(Bt(h,jr)){if(this._shell.apply(h),!h.isDone())for(var E=0;E<this._holes.length&&(this._holes[E].apply(h),!h.isDone());E++);h.isGeometryChanged()&&this.geometryChanged()}else if(Bt(h,kr))h.filter(this);else if(Bt(h,fs)){h.filter(this),this._shell.apply(h);for(var D=0;D<this._holes.length;D++)this._holes[D].apply(h)}},a.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var h=new Array(this._holes.length+1).fill(null);h[0]=this._shell;for(var m=0;m<this._holes.length;m++)h[m+1]=this._holes[m];return h.length<=1?this.getFactory().createLinearRing(h[0].getCoordinateSequence()):this.getFactory().createMultiLineString(h)},a.prototype.clone=function(){var h=o.prototype.clone.call(this);h._shell=this._shell.clone(),h._holes=new Array(this._holes.length).fill(null);for(var m=0;m<this._holes.length;m++)h._holes[m]=this._holes[m].clone();return h},a.prototype.getGeometryType=function(){return"Polygon"},a.prototype.copy=function(){for(var h=this._shell.copy(),m=new Array(this._holes.length).fill(null),E=0;E<m.length;E++)m[E]=this._holes[E].copy();return new a(h,m,this._factory)},a.prototype.getExteriorRing=function(){return this._shell},a.prototype.isEmpty=function(){return this._shell.isEmpty()},a.prototype.getInteriorRingN=function(h){return this._holes[h]},a.prototype.interfaces_=function(){return[ds]},a.prototype.getClass=function(){return a},c.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(a,c),a}(Le),Ns=function(o){function a(){o.apply(this,arguments)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var c={serialVersionUID:{configurable:!0}};return a.prototype.getSortIndex=function(){return Le.SORTINDEX_MULTIPOINT},a.prototype.isValid=function(){return!0},a.prototype.equalsExact=function(){if(2===arguments.length){var h=arguments[0],m=arguments[1];return!!this.isEquivalentClass(h)&&o.prototype.equalsExact.call(this,h,m)}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():o.prototype.getCoordinate.apply(this,arguments)},a.prototype.getBoundaryDimension=function(){return Je.FALSE},a.prototype.getDimension=function(){return 0},a.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},a.prototype.getGeometryType=function(){return"MultiPoint"},a.prototype.copy=function(){for(var h=new Array(this._geometries.length).fill(null),m=0;m<h.length;m++)h[m]=this._geometries[m].copy();return new a(h,this._factory)},a.prototype.interfaces_=function(){return[fa]},a.prototype.getClass=function(){return a},c.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(a,c),a}(wr),ps=function(o){function a(h,m){h instanceof T&&m instanceof Ne&&(h=m.getCoordinateSequenceFactory().create(h)),o.call(this,h,m),this.validateConstruction()}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var c={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return a.prototype.getSortIndex=function(){return Le.SORTINDEX_LINEARRING},a.prototype.getBoundaryDimension=function(){return Je.FALSE},a.prototype.isClosed=function(){return!!this.isEmpty()||o.prototype.isClosed.call(this)},a.prototype.reverse=function(){var h=this._points.copy();return Nn.reverse(h),this.getFactory().createLinearRing(h)},a.prototype.validateConstruction=function(){if(!this.isEmpty()&&!o.prototype.isClosed.call(this))throw new H("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<a.MINIMUM_VALID_SIZE)throw new H("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},a.prototype.getGeometryType=function(){return"LinearRing"},a.prototype.copy=function(){return new a(this._points.copy(),this._factory)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},c.MINIMUM_VALID_SIZE.get=function(){return 4},c.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(a,c),a}(Hr),So=function(o){function a(){o.apply(this,arguments)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var c={serialVersionUID:{configurable:!0}};return a.prototype.getSortIndex=function(){return Le.SORTINDEX_MULTIPOLYGON},a.prototype.equalsExact=function(){if(2===arguments.length){var h=arguments[0],m=arguments[1];return!!this.isEquivalentClass(h)&&o.prototype.equalsExact.call(this,h,m)}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.getBoundaryDimension=function(){return 1},a.prototype.getDimension=function(){return 2},a.prototype.reverse=function(){for(var m=new Array(this._geometries.length).fill(null),E=0;E<this._geometries.length;E++)m[E]=this._geometries[E].reverse();return this.getFactory().createMultiPolygon(m)},a.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var h=new mt,m=0;m<this._geometries.length;m++)for(var E=this._geometries[m].getBoundary(),D=0;D<E.getNumGeometries();D++)h.add(E.getGeometryN(D));var N=new Array(h.size()).fill(null);return this.getFactory().createMultiLineString(h.toArray(N))},a.prototype.getGeometryType=function(){return"MultiPolygon"},a.prototype.copy=function(){for(var h=new Array(this._geometries.length).fill(null),m=0;m<h.length;m++)h[m]=this._geometries[m].copy();return new a(h,this._factory)},a.prototype.interfaces_=function(){return[ds]},a.prototype.getClass=function(){return a},c.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(a,c),a}(wr),Ri=function(o){this._factory=o||null,this._isUserDataCopied=!1},mu={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Ri.prototype.setCopyUserData=function(o){this._isUserDataCopied=o},Ri.prototype.edit=function(o,a){if(null===o)return null;var c=this.editInternal(o,a);return this._isUserDataCopied&&c.setUserData(o.getUserData()),c},Ri.prototype.editInternal=function(o,a){return null===this._factory&&(this._factory=o.getFactory()),o instanceof wr?this.editGeometryCollection(o,a):o instanceof Xr?this.editPolygon(o,a):o instanceof ro||o instanceof Hr?a.edit(o,this._factory):(Ue.shouldNeverReachHere("Unsupported Geometry class: "+o.getClass().getName()),null)},Ri.prototype.editGeometryCollection=function(o,a){for(var c=a.edit(o,this._factory),h=new mt,m=0;m<c.getNumGeometries();m++){var E=this.edit(c.getGeometryN(m),a);null===E||E.isEmpty()||h.add(E)}return c.getClass()===Ns?this._factory.createMultiPoint(h.toArray([])):c.getClass()===hs?this._factory.createMultiLineString(h.toArray([])):c.getClass()===So?this._factory.createMultiPolygon(h.toArray([])):this._factory.createGeometryCollection(h.toArray([]))},Ri.prototype.editPolygon=function(o,a){var c=a.edit(o,this._factory);if(null===c&&(c=this._factory.createPolygon(null)),c.isEmpty())return c;var h=this.edit(c.getExteriorRing(),a);if(null===h||h.isEmpty())return this._factory.createPolygon();for(var m=new mt,E=0;E<c.getNumInteriorRing();E++){var D=this.edit(c.getInteriorRingN(E),a);null===D||D.isEmpty()||m.add(D)}return this._factory.createPolygon(h,m.toArray([]))},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Ri.GeometryEditorOperation=function(){},mu.NoOpGeometryOperation.get=function(){return Ga},mu.CoordinateOperation.get=function(){return $s},mu.CoordinateSequenceOperation.get=function(){return Pn},Object.defineProperties(Ri,mu);var Ga=function(){};Ga.prototype.edit=function(o,a){return o},Ga.prototype.interfaces_=function(){return[Ri.GeometryEditorOperation]},Ga.prototype.getClass=function(){return Ga};var $s=function(){};$s.prototype.edit=function(o,a){var c=this.editCoordinates(o.getCoordinates(),o);return null===c?o:o instanceof ps?a.createLinearRing(c):o instanceof Hr?a.createLineString(c):o instanceof ro?c.length>0?a.createPoint(c[0]):a.createPoint():o},$s.prototype.interfaces_=function(){return[Ri.GeometryEditorOperation]},$s.prototype.getClass=function(){return $s};var Pn=function(){};Pn.prototype.edit=function(o,a){return o instanceof ps?a.createLinearRing(this.edit(o.getCoordinateSequence(),o)):o instanceof Hr?a.createLineString(this.edit(o.getCoordinateSequence(),o)):o instanceof ro?a.createPoint(this.edit(o.getCoordinateSequence(),o)):o},Pn.prototype.interfaces_=function(){return[Ri.GeometryEditorOperation]},Pn.prototype.getClass=function(){return Pn};var nn=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var o=arguments[0];this._coordinates=new Array(o).fill(null);for(var a=0;a<o;a++)this._coordinates[a]=new T}else if(Bt(arguments[0],St)){var c=arguments[0];if(null===c)return this._coordinates=new Array(0).fill(null),null;this._dimension=c.getDimension(),this._coordinates=new Array(c.size()).fill(null);for(var h=0;h<this._coordinates.length;h++)this._coordinates[h]=c.getCoordinateCopy(h)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var m=arguments[0],E=arguments[1];this._coordinates=m,this._dimension=E,null===m&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var D=arguments[0],N=arguments[1];this._coordinates=new Array(D).fill(null),this._dimension=N;for(var Q=0;Q<D;Q++)this._coordinates[Q]=new T}},yu={serialVersionUID:{configurable:!0}};nn.prototype.setOrdinate=function(o,a,c){switch(a){case St.X:this._coordinates[o].x=c;break;case St.Y:this._coordinates[o].y=c;break;case St.Z:this._coordinates[o].z=c;break;default:throw new H("invalid ordinateIndex")}},nn.prototype.size=function(){return this._coordinates.length},nn.prototype.getOrdinate=function(o,a){switch(a){case St.X:return this._coordinates[o].x;case St.Y:return this._coordinates[o].y;case St.Z:return this._coordinates[o].z}return F.NaN},nn.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var a=arguments[0],c=arguments[1];c.x=this._coordinates[a].x,c.y=this._coordinates[a].y,c.z=this._coordinates[a].z}},nn.prototype.getCoordinateCopy=function(o){return new T(this._coordinates[o])},nn.prototype.getDimension=function(){return this._dimension},nn.prototype.getX=function(o){return this._coordinates[o].x},nn.prototype.clone=function(){for(var o=new Array(this.size()).fill(null),a=0;a<this._coordinates.length;a++)o[a]=this._coordinates[a].clone();return new nn(o,this._dimension)},nn.prototype.expandEnvelope=function(o){for(var a=0;a<this._coordinates.length;a++)o.expandToInclude(this._coordinates[a]);return o},nn.prototype.copy=function(){for(var o=new Array(this.size()).fill(null),a=0;a<this._coordinates.length;a++)o[a]=this._coordinates[a].copy();return new nn(o,this._dimension)},nn.prototype.toString=function(){if(this._coordinates.length>0){var o=new it(17*this._coordinates.length);o.append("("),o.append(this._coordinates[0]);for(var a=1;a<this._coordinates.length;a++)o.append(", "),o.append(this._coordinates[a]);return o.append(")"),o.toString()}return"()"},nn.prototype.getY=function(o){return this._coordinates[o].y},nn.prototype.toCoordinateArray=function(){return this._coordinates},nn.prototype.interfaces_=function(){return[St,U]},nn.prototype.getClass=function(){return nn},yu.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(nn,yu);var io=function(){},$r={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};io.prototype.readResolve=function(){return io.instance()},io.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new nn(arguments[0]);if(Bt(arguments[0],St))return new nn(arguments[0])}else if(2===arguments.length){var c=arguments[0],h=arguments[1];return h>3&&(h=3),h<2?new nn(c):new nn(c,h)}},io.prototype.interfaces_=function(){return[lt,U]},io.prototype.getClass=function(){return io},io.instance=function(){return io.instanceObject},$r.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},$r.instanceObject.get=function(){return new io},Object.defineProperties(io,$r);var Vu=function(o){function a(){o.call(this),this.map_=new Map}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.get=function(c){return this.map_.get(c)||null},a.prototype.put=function(c,h){return this.map_.set(c,h),h},a.prototype.values=function(){for(var c=new mt,h=this.map_.values(),m=h.next();!m.done;)c.add(m.value),m=h.next();return c},a.prototype.entrySet=function(){var c=new Gr;return this.map_.entries().forEach(function(h){return c.add(h)}),c},a.prototype.size=function(){return this.map_.size()},a}(lr),fe=function o(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=o.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ho){var a=arguments[0];this._modelType=a,a===o.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var c=arguments[0];this._modelType=o.FIXED,this.setScale(c)}else if(arguments[0]instanceof o){var h=arguments[0];this._modelType=h._modelType,this._scale=h._scale}},be={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};fe.prototype.equals=function(o){return o instanceof fe&&this._modelType===o._modelType&&this._scale===o._scale},fe.prototype.compareTo=function(o){var a=o,c=this.getMaximumSignificantDigits(),h=a.getMaximumSignificantDigits();return new ot(c).compareTo(new ot(h))},fe.prototype.getScale=function(){return this._scale},fe.prototype.isFloating=function(){return this._modelType===fe.FLOATING||this._modelType===fe.FLOATING_SINGLE},fe.prototype.getType=function(){return this._modelType},fe.prototype.toString=function(){var o="UNKNOWN";return this._modelType===fe.FLOATING?o="Floating":this._modelType===fe.FLOATING_SINGLE?o="Floating-Single":this._modelType===fe.FIXED&&(o="Fixed (Scale="+this.getScale()+")"),o},fe.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var o=arguments[0];return F.isNaN(o)||this._modelType===fe.FLOATING_SINGLE?o:this._modelType===fe.FIXED?Math.round(o*this._scale)/this._scale:o}if(arguments[0]instanceof T){var a=arguments[0];if(this._modelType===fe.FLOATING)return null;a.x=this.makePrecise(a.x),a.y=this.makePrecise(a.y)}},fe.prototype.getMaximumSignificantDigits=function(){var o=16;return this._modelType===fe.FLOATING?o=16:this._modelType===fe.FLOATING_SINGLE?o=6:this._modelType===fe.FIXED&&(o=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),o},fe.prototype.setScale=function(o){this._scale=Math.abs(o)},fe.prototype.interfaces_=function(){return[U,V]},fe.prototype.getClass=function(){return fe},fe.mostPrecise=function(o,a){return o.compareTo(a)>=0?o:a},be.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},be.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(fe,be);var ho=function o(a){this._name=a||null,o.nameToTypeMap.put(a,this)},ha={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ho.prototype.readResolve=function(){return ho.nameToTypeMap.get(this._name)},ho.prototype.toString=function(){return this._name},ho.prototype.interfaces_=function(){return[U]},ho.prototype.getClass=function(){return ho},ha.serialVersionUID.get=function(){return-552860263173159e4},ha.nameToTypeMap.get=function(){return new Vu},Object.defineProperties(ho,ha),fe.Type=ho,fe.FIXED=new ho("FIXED"),fe.FLOATING=new ho("FLOATING"),fe.FLOATING_SINGLE=new ho("FLOATING SINGLE");var Ne=function o(){this._precisionModel=new fe,this._SRID=0,this._coordinateSequenceFactory=o.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Bt(arguments[0],lt)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof fe&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Fl={serialVersionUID:{configurable:!0}};Ne.prototype.toGeometry=function(o){return o.isNull()?this.createPoint(null):o.getMinX()===o.getMaxX()&&o.getMinY()===o.getMaxY()?this.createPoint(new T(o.getMinX(),o.getMinY())):o.getMinX()===o.getMaxX()||o.getMinY()===o.getMaxY()?this.createLineString([new T(o.getMinX(),o.getMinY()),new T(o.getMaxX(),o.getMaxY())]):this.createPolygon(this.createLinearRing([new T(o.getMinX(),o.getMinY()),new T(o.getMinX(),o.getMaxY()),new T(o.getMaxX(),o.getMaxY()),new T(o.getMaxX(),o.getMinY()),new T(o.getMinX(),o.getMinY())]),null)},Ne.prototype.createLineString=function(o){return o?o instanceof Array?new Hr(this.getCoordinateSequenceFactory().create(o),this):Bt(o,St)?new Hr(o,this):void 0:new Hr(this.getCoordinateSequenceFactory().create([]),this)},Ne.prototype.createMultiLineString=function(){return 0===arguments.length?new hs(null,this):1===arguments.length?new hs(arguments[0],this):void 0},Ne.prototype.buildGeometry=function(o){for(var a=null,c=!1,h=!1,m=o.iterator();m.hasNext();){var E=m.next(),D=E.getClass();null===a&&(a=D),D!==a&&(c=!0),E.isGeometryCollectionOrDerived()&&(h=!0)}if(null===a)return this.createGeometryCollection();if(c||h)return this.createGeometryCollection(Ne.toGeometryArray(o));var N=o.iterator().next();if(o.size()>1){if(N instanceof Xr)return this.createMultiPolygon(Ne.toPolygonArray(o));if(N instanceof Hr)return this.createMultiLineString(Ne.toLineStringArray(o));if(N instanceof ro)return this.createMultiPoint(Ne.toPointArray(o));Ue.shouldNeverReachHere("Unhandled class: "+N.getClass().getName())}return N},Ne.prototype.createMultiPointFromCoords=function(o){return this.createMultiPoint(null!==o?this.getCoordinateSequenceFactory().create(o):null)},Ne.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof T){var o=arguments[0];return this.createPoint(null!==o?this.getCoordinateSequenceFactory().create([o]):null)}if(Bt(arguments[0],St))return new ro(arguments[0],this)}},Ne.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Ne.prototype.createPolygon=function(){if(0===arguments.length)return new Xr(null,null,this);if(1===arguments.length){if(Bt(arguments[0],St))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof ps)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new Xr(arguments[0],arguments[1],this)},Ne.prototype.getSRID=function(){return this._SRID},Ne.prototype.createGeometryCollection=function(){return 0===arguments.length?new wr(null,this):1===arguments.length?new wr(arguments[0],this):void 0},Ne.prototype.createGeometry=function(o){return new Ri(this).edit(o,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},Ne.prototype.getPrecisionModel=function(){return this._precisionModel},Ne.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var o=arguments[0];return this.createLinearRing(null!==o?this.getCoordinateSequenceFactory().create(o):null)}if(Bt(arguments[0],St))return new ps(arguments[0],this)}},Ne.prototype.createMultiPolygon=function(){return 0===arguments.length?new So(null,this):1===arguments.length?new So(arguments[0],this):void 0},Ne.prototype.createMultiPoint=function(){if(0===arguments.length)return new Ns(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Ns(arguments[0],this);if(arguments[0]instanceof Array){var a=arguments[0];return this.createMultiPoint(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(Bt(arguments[0],St)){var c=arguments[0];if(null===c)return this.createMultiPoint(new Array(0).fill(null));for(var h=new Array(c.size()).fill(null),m=0;m<c.size();m++){var E=this.getCoordinateSequenceFactory().create(1,c.getDimension());Nn.copy(c,m,E,0,1),h[m]=this.createPoint(E)}return this.createMultiPoint(h)}}},Ne.prototype.interfaces_=function(){return[U]},Ne.prototype.getClass=function(){return Ne},Ne.toMultiPolygonArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.toGeometryArray=function(o){if(null===o)return null;var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.getDefaultCoordinateSequenceFactory=function(){return io.instance()},Ne.toMultiLineStringArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.toLineStringArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.toMultiPointArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.toLinearRingArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.toPointArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.toPolygonArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.createPointFromInternalCoord=function(o,a){return a.getPrecisionModel().makePrecise(o),a.getFactory().createPoint(o)},Fl.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Ne,Fl);var zu=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],xn=function(o){this.geometryFactory=o||new Ne};xn.prototype.read=function(o){var a,c=(a="string"==typeof o?JSON.parse(o):o).type;if(!ir[c])throw new Error("Unknown GeoJSON type: "+a.type);return-1!==zu.indexOf(c)?ir[c].apply(this,[a.coordinates]):ir[c].apply(this,"GeometryCollection"===c?[a.geometries]:[a])},xn.prototype.write=function(o){var a=o.getGeometryType();if(!or[a])throw new Error("Geometry is not supported");return or[a].apply(this,[o])};var ir={Feature:function(o){var a={};for(var c in o)a[c]=o[c];if(o.geometry){if(!ir[o.geometry.type])throw new Error("Unknown GeoJSON type: "+o.type);a.geometry=this.read(o.geometry)}return o.bbox&&(a.bbox=ir.bbox.apply(this,[o.bbox])),a},FeatureCollection:function(o){var a={};if(o.features){a.features=[];for(var c=0;c<o.features.length;++c)a.features.push(this.read(o.features[c]))}return o.bbox&&(a.bbox=this.parse.bbox.apply(this,[o.bbox])),a},coordinates:function(o){for(var a=[],c=0;c<o.length;++c){var h=o[c];a.push(new T(h[0],h[1]))}return a},bbox:function(o){return this.geometryFactory.createLinearRing([new T(o[0],o[1]),new T(o[2],o[1]),new T(o[2],o[3]),new T(o[0],o[3]),new T(o[0],o[1])])},Point:function(o){var a=new T(o[0],o[1]);return this.geometryFactory.createPoint(a)},MultiPoint:function(o){for(var a=[],c=0;c<o.length;++c)a.push(ir.Point.apply(this,[o[c]]));return this.geometryFactory.createMultiPoint(a)},LineString:function(o){var a=ir.coordinates.apply(this,[o]);return this.geometryFactory.createLineString(a)},MultiLineString:function(o){for(var a=[],c=0;c<o.length;++c)a.push(ir.LineString.apply(this,[o[c]]));return this.geometryFactory.createMultiLineString(a)},Polygon:function(o){for(var a=ir.coordinates.apply(this,[o[0]]),c=this.geometryFactory.createLinearRing(a),h=[],m=1;m<o.length;++m){var D=ir.coordinates.apply(this,[o[m]]),N=this.geometryFactory.createLinearRing(D);h.push(N)}return this.geometryFactory.createPolygon(c,h)},MultiPolygon:function(o){for(var a=[],c=0;c<o.length;++c)a.push(ir.Polygon.apply(this,[o[c]]));return this.geometryFactory.createMultiPolygon(a)},GeometryCollection:function(o){for(var a=[],c=0;c<o.length;++c)a.push(this.read(o[c]));return this.geometryFactory.createGeometryCollection(a)}},or={coordinate:function(o){return[o.x,o.y]},Point:function(o){return{type:"Point",coordinates:or.coordinate.apply(this,[o.getCoordinate()])}},MultiPoint:function(o){for(var a=[],c=0;c<o._geometries.length;++c){var m=or.Point.apply(this,[o._geometries[c]]);a.push(m.coordinates)}return{type:"MultiPoint",coordinates:a}},LineString:function(o){for(var a=[],c=o.getCoordinates(),h=0;h<c.length;++h)a.push(or.coordinate.apply(this,[c[h]]));return{type:"LineString",coordinates:a}},MultiLineString:function(o){for(var a=[],c=0;c<o._geometries.length;++c){var m=or.LineString.apply(this,[o._geometries[c]]);a.push(m.coordinates)}return{type:"MultiLineString",coordinates:a}},Polygon:function(o){var a=[],c=or.LineString.apply(this,[o._shell]);a.push(c.coordinates);for(var h=0;h<o._holes.length;++h){var E=or.LineString.apply(this,[o._holes[h]]);a.push(E.coordinates)}return{type:"Polygon",coordinates:a}},MultiPolygon:function(o){for(var a=[],c=0;c<o._geometries.length;++c){var m=or.Polygon.apply(this,[o._geometries[c]]);a.push(m.coordinates)}return{type:"MultiPolygon",coordinates:a}},GeometryCollection:function(o){for(var a=[],c=0;c<o._geometries.length;++c){var h=o._geometries[c],m=h.getGeometryType();a.push(or[m].apply(this,[h]))}return{type:"GeometryCollection",geometries:a}}},qs=function(o){this.geometryFactory=o||new Ne,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new xn(this.geometryFactory)};qs.prototype.read=function(o){var a=this.parser.read(o);return this.precisionModel.getType()===fe.FIXED&&this.reducePrecision(a),a},qs.prototype.reducePrecision=function(o){var a,c;if(o.coordinate)this.precisionModel.makePrecise(o.coordinate);else if(o.points)for(a=0,c=o.points.length;a<c;a++)this.precisionModel.makePrecise(o.points[a]);else if(o.geometries)for(a=0,c=o.geometries.length;a<c;a++)this.reducePrecision(o.geometries[a])};var ja=function(){this.parser=new xn(this.geometryFactory)};ja.prototype.write=function(o){return this.parser.write(o)};var Wt=function(){},We={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt},Wt.opposite=function(o){return o===Wt.LEFT?Wt.RIGHT:o===Wt.RIGHT?Wt.LEFT:o},We.ON.get=function(){return 0},We.LEFT.get=function(){return 1},We.RIGHT.get=function(){return 2},Object.defineProperties(Wt,We),(B.prototype=new Error).name="EmptyStackException",(Z.prototype=new de).add=function(o){return this.array_.push(o),!0},Z.prototype.get=function(o){if(o<0||o>=this.size())throw new Error;return this.array_[o]},Z.prototype.push=function(o){return this.array_.push(o),o},Z.prototype.pop=function(o){if(0===this.array_.length)throw new B;return this.array_.pop()},Z.prototype.peek=function(){if(0===this.array_.length)throw new B;return this.array_[this.array_.length-1]},Z.prototype.empty=function(){return 0===this.array_.length},Z.prototype.isEmpty=function(){return this.empty()},Z.prototype.search=function(o){return this.array_.indexOf(o)},Z.prototype.size=function(){return this.array_.length},Z.prototype.toArray=function(){for(var o=[],a=0,c=this.array_.length;a<c;a++)o.push(this.array_[a]);return o};var oo=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};oo.prototype.getCoordinate=function(){return this._minCoord},oo.prototype.getRightmostSide=function(o,a){var c=this.getRightmostSideOfSegment(o,a);return c<0&&(c=this.getRightmostSideOfSegment(o,a-1)),c<0&&(this._minCoord=null,this.checkForRightmostCoordinate(o)),c},oo.prototype.findRightmostEdgeAtVertex=function(){var o=this._minDe.getEdge().getCoordinates();Ue.isTrue(this._minIndex>0&&this._minIndex<o.length,"rightmost point expected to be interior vertex of edge");var a=o[this._minIndex-1],c=o[this._minIndex+1],h=le.computeOrientation(this._minCoord,c,a),m=!1;(a.y<this._minCoord.y&&c.y<this._minCoord.y&&h===le.COUNTERCLOCKWISE||a.y>this._minCoord.y&&c.y>this._minCoord.y&&h===le.CLOCKWISE)&&(m=!0),m&&(this._minIndex=this._minIndex-1)},oo.prototype.getRightmostSideOfSegment=function(o,a){var c=o.getEdge().getCoordinates();if(a<0||a+1>=c.length||c[a].y===c[a+1].y)return-1;var h=Wt.LEFT;return c[a].y<c[a+1].y&&(h=Wt.RIGHT),h},oo.prototype.getEdge=function(){return this._orientedDe},oo.prototype.checkForRightmostCoordinate=function(o){for(var a=o.getEdge().getCoordinates(),c=0;c<a.length-1;c++)(null===this._minCoord||a[c].x>this._minCoord.x)&&(this._minDe=o,this._minIndex=c,this._minCoord=a[c])},oo.prototype.findRightmostEdgeAtNode=function(){var o=this._minDe.getNode().getEdges();this._minDe=o.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},oo.prototype.findEdge=function(o){for(var a=o.iterator();a.hasNext();){var c=a.next();c.isForward()&&this.checkForRightmostCoordinate(c)}Ue.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Wt.LEFT&&(this._orientedDe=this._minDe.getSym())},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo};var Mo=function(o){function a(c,h){o.call(this,a.msgWithCoord(c,h)),this.pt=h?new T(h):null,this.name="TopologyException"}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.getCoordinate=function(){return this.pt},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.msgWithCoord=function(c,h){return h?c:c+" [ "+h+" ]"},a}(bi),Ha=function(){this.array_=[]};Ha.prototype.addLast=function(o){this.array_.push(o)},Ha.prototype.removeFirst=function(){return this.array_.shift()},Ha.prototype.isEmpty=function(){return 0===this.array_.length};var mi=function(){this._finder=null,this._dirEdgeList=new mt,this._nodes=new mt,this._rightMostCoord=null,this._env=null,this._finder=new oo};mi.prototype.clearVisitedEdges=function(){for(var o=this._dirEdgeList.iterator();o.hasNext();)o.next().setVisited(!1)},mi.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},mi.prototype.computeNodeDepth=function(o){for(var a=null,c=o.getEdges().iterator();c.hasNext();){var h=c.next();if(h.isVisited()||h.getSym().isVisited()){a=h;break}}if(null===a)throw new Mo("unable to find edge to compute depths at "+o.getCoordinate());o.getEdges().computeDepths(a);for(var m=o.getEdges().iterator();m.hasNext();){var E=m.next();E.setVisited(!0),this.copySymDepths(E)}},mi.prototype.computeDepth=function(o){this.clearVisitedEdges();var a=this._finder.getEdge();a.setEdgeDepths(Wt.RIGHT,o),this.copySymDepths(a),this.computeDepths(a)},mi.prototype.create=function(o){this.addReachable(o),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},mi.prototype.findResultEdges=function(){for(var o=this._dirEdgeList.iterator();o.hasNext();){var a=o.next();a.getDepth(Wt.RIGHT)>=1&&a.getDepth(Wt.LEFT)<=0&&!a.isInteriorAreaEdge()&&a.setInResult(!0)}},mi.prototype.computeDepths=function(o){var a=new Gr,c=new Ha,h=o.getNode();for(c.addLast(h),a.add(h),o.setVisited(!0);!c.isEmpty();){var m=c.removeFirst();a.add(m),this.computeNodeDepth(m);for(var E=m.getEdges().iterator();E.hasNext();){var D=E.next().getSym();if(!D.isVisited()){var N=D.getNode();a.contains(N)||(c.addLast(N),a.add(N))}}}},mi.prototype.compareTo=function(o){return this._rightMostCoord.x<o._rightMostCoord.x?-1:this._rightMostCoord.x>o._rightMostCoord.x?1:0},mi.prototype.getEnvelope=function(){if(null===this._env){for(var o=new Qt,a=this._dirEdgeList.iterator();a.hasNext();)for(var c=a.next().getEdge().getCoordinates(),h=0;h<c.length-1;h++)o.expandToInclude(c[h]);this._env=o}return this._env},mi.prototype.addReachable=function(o){var a=new Z;for(a.add(o);!a.empty();){var c=a.pop();this.add(c,a)}},mi.prototype.copySymDepths=function(o){var a=o.getSym();a.setDepth(Wt.LEFT,o.getDepth(Wt.RIGHT)),a.setDepth(Wt.RIGHT,o.getDepth(Wt.LEFT))},mi.prototype.add=function(o,a){o.setVisited(!0),this._nodes.add(o);for(var c=o.getEdges().iterator();c.hasNext();){var h=c.next();this._dirEdgeList.add(h);var m=h.getSym().getNode();m.isVisited()||a.push(m)}},mi.prototype.getNodes=function(){return this._nodes},mi.prototype.getDirectedEdges=function(){return this._dirEdgeList},mi.prototype.interfaces_=function(){return[V]},mi.prototype.getClass=function(){return mi};var Zt=function o(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var c=arguments[0];this.init(1),this.location[Wt.ON]=c}else if(arguments[0]instanceof o){var h=arguments[0];if(this.init(h.location.length),null!==h)for(var m=0;m<this.location.length;m++)this.location[m]=h.location[m]}}else if(3===arguments.length){var E=arguments[0],D=arguments[1],N=arguments[2];this.init(3),this.location[Wt.ON]=E,this.location[Wt.LEFT]=D,this.location[Wt.RIGHT]=N}};Zt.prototype.setAllLocations=function(o){for(var a=0;a<this.location.length;a++)this.location[a]=o},Zt.prototype.isNull=function(){for(var o=0;o<this.location.length;o++)if(this.location[o]!==W.NONE)return!1;return!0},Zt.prototype.setAllLocationsIfNull=function(o){for(var a=0;a<this.location.length;a++)this.location[a]===W.NONE&&(this.location[a]=o)},Zt.prototype.isLine=function(){return 1===this.location.length},Zt.prototype.merge=function(o){if(o.location.length>this.location.length){var a=new Array(3).fill(null);a[Wt.ON]=this.location[Wt.ON],a[Wt.LEFT]=W.NONE,a[Wt.RIGHT]=W.NONE,this.location=a}for(var c=0;c<this.location.length;c++)this.location[c]===W.NONE&&c<o.location.length&&(this.location[c]=o.location[c])},Zt.prototype.getLocations=function(){return this.location},Zt.prototype.flip=function(){if(this.location.length<=1)return null;var o=this.location[Wt.LEFT];this.location[Wt.LEFT]=this.location[Wt.RIGHT],this.location[Wt.RIGHT]=o},Zt.prototype.toString=function(){var o=new it;return this.location.length>1&&o.append(W.toLocationSymbol(this.location[Wt.LEFT])),o.append(W.toLocationSymbol(this.location[Wt.ON])),this.location.length>1&&o.append(W.toLocationSymbol(this.location[Wt.RIGHT])),o.toString()},Zt.prototype.setLocations=function(o,a,c){this.location[Wt.ON]=o,this.location[Wt.LEFT]=a,this.location[Wt.RIGHT]=c},Zt.prototype.get=function(o){return o<this.location.length?this.location[o]:W.NONE},Zt.prototype.isArea=function(){return this.location.length>1},Zt.prototype.isAnyNull=function(){for(var o=0;o<this.location.length;o++)if(this.location[o]===W.NONE)return!0;return!1},Zt.prototype.setLocation=function(){1===arguments.length?this.setLocation(Wt.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},Zt.prototype.init=function(o){this.location=new Array(o).fill(null),this.setAllLocations(W.NONE)},Zt.prototype.isEqualOnSide=function(o,a){return this.location[a]===o.location[a]},Zt.prototype.allPositionsEqual=function(o){for(var a=0;a<this.location.length;a++)if(this.location[a]!==o)return!1;return!0},Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt};var gn=function o(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var a=arguments[0];this.elt[0]=new Zt(a),this.elt[1]=new Zt(a)}else if(arguments[0]instanceof o){var c=arguments[0];this.elt[0]=new Zt(c.elt[0]),this.elt[1]=new Zt(c.elt[1])}}else if(2===arguments.length){var h=arguments[0],m=arguments[1];this.elt[0]=new Zt(W.NONE),this.elt[1]=new Zt(W.NONE),this.elt[h].setLocation(m)}else if(3===arguments.length){var E=arguments[0],D=arguments[1],N=arguments[2];this.elt[0]=new Zt(E,D,N),this.elt[1]=new Zt(E,D,N)}else if(4===arguments.length){var Q=arguments[0],Et=arguments[1],Vt=arguments[2],zt=arguments[3];this.elt[0]=new Zt(W.NONE,W.NONE,W.NONE),this.elt[1]=new Zt(W.NONE,W.NONE,W.NONE),this.elt[Q].setLocations(Et,Vt,zt)}};gn.prototype.getGeometryCount=function(){var o=0;return this.elt[0].isNull()||o++,this.elt[1].isNull()||o++,o},gn.prototype.setAllLocations=function(o,a){this.elt[o].setAllLocations(a)},gn.prototype.isNull=function(o){return this.elt[o].isNull()},gn.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var o=arguments[0];this.setAllLocationsIfNull(0,o),this.setAllLocationsIfNull(1,o)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},gn.prototype.isLine=function(o){return this.elt[o].isLine()},gn.prototype.merge=function(o){for(var a=0;a<2;a++)null===this.elt[a]&&null!==o.elt[a]?this.elt[a]=new Zt(o.elt[a]):this.elt[a].merge(o.elt[a])},gn.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},gn.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(Wt.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},gn.prototype.toString=function(){var o=new it;return null!==this.elt[0]&&(o.append("A:"),o.append(this.elt[0].toString())),null!==this.elt[1]&&(o.append(" B:"),o.append(this.elt[1].toString())),o.toString()},gn.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},gn.prototype.isAnyNull=function(o){return this.elt[o].isAnyNull()},gn.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(Wt.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},gn.prototype.isEqualOnSide=function(o,a){return this.elt[0].isEqualOnSide(o.elt[0],a)&&this.elt[1].isEqualOnSide(o.elt[1],a)},gn.prototype.allPositionsEqual=function(o,a){return this.elt[o].allPositionsEqual(a)},gn.prototype.toLine=function(o){this.elt[o].isArea()&&(this.elt[o]=new Zt(this.elt[o].location[0]))},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},gn.toLineLabel=function(o){for(var a=new gn(W.NONE),c=0;c<2;c++)a.setLocation(c,o.getLocation(c));return a};var Ie=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new mt,this._pts=new mt,this._label=new gn(W.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new mt,this._geometryFactory=null;var o=arguments[0];this._geometryFactory=arguments[1],this.computePoints(o),this.computeRing()};Ie.prototype.computeRing=function(){if(null!==this._ring)return null;for(var o=new Array(this._pts.size()).fill(null),a=0;a<this._pts.size();a++)o[a]=this._pts.get(a);this._ring=this._geometryFactory.createLinearRing(o),this._isHole=le.isCCW(this._ring.getCoordinates())},Ie.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Ie.prototype.computePoints=function(o){this._startDe=o;var a=o,c=!0;do{if(null===a)throw new Mo("Found null DirectedEdge");if(a.getEdgeRing()===this)throw new Mo("Directed Edge visited twice during ring-building at "+a.getCoordinate());this._edges.add(a);var h=a.getLabel();Ue.isTrue(h.isArea()),this.mergeLabel(h),this.addPoints(a.getEdge(),a.isForward(),c),c=!1,this.setEdgeRing(a,this),a=this.getNext(a)}while(a!==this._startDe)},Ie.prototype.getLinearRing=function(){return this._ring},Ie.prototype.getCoordinate=function(o){return this._pts.get(o)},Ie.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var o=this._startDe;do{var a=o.getNode().getEdges().getOutgoingDegree(this);a>this._maxNodeDegree&&(this._maxNodeDegree=a),o=this.getNext(o)}while(o!==this._startDe);this._maxNodeDegree*=2},Ie.prototype.addPoints=function(o,a,c){var h=o.getCoordinates();if(a){var m=1;c&&(m=0);for(var E=m;E<h.length;E++)this._pts.add(h[E])}else{var D=h.length-2;c&&(D=h.length-1);for(var N=D;N>=0;N--)this._pts.add(h[N])}},Ie.prototype.isHole=function(){return this._isHole},Ie.prototype.setInResult=function(){var o=this._startDe;do{o.getEdge().setInResult(!0),o=o.getNext()}while(o!==this._startDe)},Ie.prototype.containsPoint=function(o){var a=this.getLinearRing();if(!a.getEnvelopeInternal().contains(o)||!le.isPointInRing(o,a.getCoordinates()))return!1;for(var c=this._holes.iterator();c.hasNext();)if(c.next().containsPoint(o))return!1;return!0},Ie.prototype.addHole=function(o){this._holes.add(o)},Ie.prototype.isShell=function(){return null===this._shell},Ie.prototype.getLabel=function(){return this._label},Ie.prototype.getEdges=function(){return this._edges},Ie.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Ie.prototype.getShell=function(){return this._shell},Ie.prototype.mergeLabel=function(){if(1===arguments.length){var o=arguments[0];this.mergeLabel(o,0),this.mergeLabel(o,1)}else if(2===arguments.length){var c=arguments[1],h=arguments[0].getLocation(c,Wt.RIGHT);if(h===W.NONE)return null;if(this._label.getLocation(c)===W.NONE)return this._label.setLocation(c,h),null}},Ie.prototype.setShell=function(o){this._shell=o,null!==o&&o.addHole(this)},Ie.prototype.toPolygon=function(o){for(var a=new Array(this._holes.size()).fill(null),c=0;c<this._holes.size();c++)a[c]=this._holes.get(c).getLinearRing();return o.createPolygon(this.getLinearRing(),a)},Ie.prototype.interfaces_=function(){return[]},Ie.prototype.getClass=function(){return Ie};var fr=function(o){function a(){o.call(this,arguments[0],arguments[1])}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.setEdgeRing=function(c,h){c.setMinEdgeRing(h)},a.prototype.getNext=function(c){return c.getNextMin()},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Ie),ef=function(o){function a(){o.call(this,arguments[0],arguments[1])}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.buildMinimalRings=function(){var c=new mt,h=this._startDe;do{if(null===h.getMinEdgeRing()){var m=new fr(h,this._geometryFactory);c.add(m)}h=h.getNext()}while(h!==this._startDe);return c},a.prototype.setEdgeRing=function(c,h){c.setEdgeRing(h)},a.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var c=this._startDe;do{c.getNode().getEdges().linkMinimalDirectedEdges(this),c=c.getNext()}while(c!==this._startDe)},a.prototype.getNext=function(c){return c.getNext()},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Ie),je=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};je.prototype.setVisited=function(o){this._isVisited=o},je.prototype.setInResult=function(o){this._isInResult=o},je.prototype.isCovered=function(){return this._isCovered},je.prototype.isCoveredSet=function(){return this._isCoveredSet},je.prototype.setLabel=function(o){this._label=o},je.prototype.getLabel=function(){return this._label},je.prototype.setCovered=function(o){this._isCovered=o,this._isCoveredSet=!0},je.prototype.updateIM=function(o){Ue.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(o)},je.prototype.isInResult=function(){return this._isInResult},je.prototype.isVisited=function(){return this._isVisited},je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je};var zo=function(o){function a(){o.call(this),this._coord=null,this._edges=null;var h=arguments[1];this._coord=arguments[0],this._edges=h,this._label=new gn(0,W.NONE)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.isIncidentEdgeInResult=function(){for(var c=this.getEdges().getEdges().iterator();c.hasNext();)if(c.next().getEdge().isInResult())return!0;return!1},a.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},a.prototype.getCoordinate=function(){return this._coord},a.prototype.print=function(c){c.println("node "+this._coord+" lbl: "+this._label)},a.prototype.computeIM=function(c){},a.prototype.computeMergedLocation=function(c,h){var m=W.NONE;if(m=this._label.getLocation(h),!c.isNull(h)){var E=c.getLocation(h);m!==W.BOUNDARY&&(m=E)}return m},a.prototype.setLabel=function(){if(2!==arguments.length)return o.prototype.setLabel.apply(this,arguments);var c=arguments[0],h=arguments[1];null===this._label?this._label=new gn(c,h):this._label.setLocation(c,h)},a.prototype.getEdges=function(){return this._edges},a.prototype.mergeLabel=function(){if(arguments[0]instanceof a)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof gn)for(var h=arguments[0],m=0;m<2;m++){var E=this.computeMergedLocation(h,m);this._label.getLocation(m)===W.NONE&&this._label.setLocation(m,E)}},a.prototype.add=function(c){this._edges.insert(c),c.setNode(this)},a.prototype.setLabelBoundary=function(c){if(null===this._label)return null;var h=W.NONE;null!==this._label&&(h=this._label.getLocation(c)),this._label.setLocation(c,h===W.BOUNDARY?W.INTERIOR:W.BOUNDARY)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(je),_n=function(){this.nodeMap=new Rt,this.nodeFact=null,this.nodeFact=arguments[0]};_n.prototype.find=function(o){return this.nodeMap.get(o)},_n.prototype.addNode=function(){if(arguments[0]instanceof T){var o=arguments[0],a=this.nodeMap.get(o);return null===a&&(a=this.nodeFact.createNode(o),this.nodeMap.put(o,a)),a}if(arguments[0]instanceof zo){var c=arguments[0],h=this.nodeMap.get(c.getCoordinate());return null===h?(this.nodeMap.put(c.getCoordinate(),c),c):(h.mergeLabel(c),h)}},_n.prototype.print=function(o){for(var a=this.iterator();a.hasNext();)a.next().print(o)},_n.prototype.iterator=function(){return this.nodeMap.values().iterator()},_n.prototype.values=function(){return this.nodeMap.values()},_n.prototype.getBoundaryNodes=function(o){for(var a=new mt,c=this.iterator();c.hasNext();){var h=c.next();h.getLabel().getLocation(o)===W.BOUNDARY&&a.add(h)}return a},_n.prototype.add=function(o){var a=o.getCoordinate();this.addNode(a).add(o)},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n};var on=function(){},$a={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on},on.isNorthern=function(o){return o===on.NE||o===on.NW},on.isOpposite=function(o,a){return o!==a&&(o-a+4)%4==2},on.commonHalfPlane=function(o,a){if(o===a)return o;if((o-a+4)%4==2)return-1;var c=o<a?o:a;return 0===c&&3===(o>a?o:a)?3:c},on.isInHalfPlane=function(o,a){return a===on.SE?o===on.SE||o===on.SW:o===a||o===a+1},on.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1];if(0===o&&0===a)throw new H("Cannot compute the quadrant for point ( "+o+", "+a+" )");return o>=0?a>=0?on.NE:on.SE:a>=0?on.NW:on.SW}if(arguments[0]instanceof T&&arguments[1]instanceof T){var c=arguments[0],h=arguments[1];if(h.x===c.x&&h.y===c.y)throw new H("Cannot compute the quadrant for two identical points "+c);return h.x>=c.x?h.y>=c.y?on.NE:on.SE:h.y>=c.y?on.NW:on.SW}},$a.NE.get=function(){return 0},$a.NW.get=function(){return 1},$a.SW.get=function(){return 2},$a.SE.get=function(){return 3},Object.defineProperties(on,$a);var yi=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var c=arguments[1],h=arguments[2];this._edge=arguments[0],this.init(c,h),this._label=null}else if(4===arguments.length){var E=arguments[1],D=arguments[2],N=arguments[3];this._edge=arguments[0],this.init(E,D),this._label=N}};yi.prototype.compareDirection=function(o){return this._dx===o._dx&&this._dy===o._dy?0:this._quadrant>o._quadrant?1:this._quadrant<o._quadrant?-1:le.computeOrientation(o._p0,o._p1,this._p1)},yi.prototype.getDy=function(){return this._dy},yi.prototype.getCoordinate=function(){return this._p0},yi.prototype.setNode=function(o){this._node=o},yi.prototype.print=function(o){var a=Math.atan2(this._dy,this._dx),c=this.getClass().getName(),h=c.lastIndexOf("."),m=c.substring(h+1);o.print("  "+m+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+a+"   "+this._label)},yi.prototype.compareTo=function(o){return this.compareDirection(o)},yi.prototype.getDirectedCoordinate=function(){return this._p1},yi.prototype.getDx=function(){return this._dx},yi.prototype.getLabel=function(){return this._label},yi.prototype.getEdge=function(){return this._edge},yi.prototype.getQuadrant=function(){return this._quadrant},yi.prototype.getNode=function(){return this._node},yi.prototype.toString=function(){var o=Math.atan2(this._dy,this._dx),a=this.getClass().getName(),c=a.lastIndexOf(".");return"  "+a.substring(c+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+o+"   "+this._label},yi.prototype.computeLabel=function(o){},yi.prototype.init=function(o,a){this._p0=o,this._p1=a,this._dx=a.x-o.x,this._dy=a.y-o.y,this._quadrant=on.quadrant(this._dx,this._dy),Ue.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},yi.prototype.interfaces_=function(){return[V]},yi.prototype.getClass=function(){return yi};var Uu=function(o){function a(){var c=arguments[0],h=arguments[1];if(o.call(this,c),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=h,h)this.init(c.getCoordinate(0),c.getCoordinate(1));else{var m=c.getNumPoints()-1;this.init(c.getCoordinate(m),c.getCoordinate(m-1))}this.computeDirectedLabel()}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.getNextMin=function(){return this._nextMin},a.prototype.getDepth=function(c){return this._depth[c]},a.prototype.setVisited=function(c){this._isVisited=c},a.prototype.computeDirectedLabel=function(){this._label=new gn(this._edge.getLabel()),this._isForward||this._label.flip()},a.prototype.getNext=function(){return this._next},a.prototype.setDepth=function(c,h){if(-999!==this._depth[c]&&this._depth[c]!==h)throw new Mo("assigned depths do not match",this.getCoordinate());this._depth[c]=h},a.prototype.isInteriorAreaEdge=function(){for(var c=!0,h=0;h<2;h++)this._label.isArea(h)&&this._label.getLocation(h,Wt.LEFT)===W.INTERIOR&&this._label.getLocation(h,Wt.RIGHT)===W.INTERIOR||(c=!1);return c},a.prototype.setNextMin=function(c){this._nextMin=c},a.prototype.print=function(c){o.prototype.print.call(this,c),c.print(" "+this._depth[Wt.LEFT]+"/"+this._depth[Wt.RIGHT]),c.print(" ("+this.getDepthDelta()+")"),this._isInResult&&c.print(" inResult")},a.prototype.setMinEdgeRing=function(c){this._minEdgeRing=c},a.prototype.isLineEdge=function(){var c=this._label.isLine(0)||this._label.isLine(1),h=!this._label.isArea(0)||this._label.allPositionsEqual(0,W.EXTERIOR),m=!this._label.isArea(1)||this._label.allPositionsEqual(1,W.EXTERIOR);return c&&h&&m},a.prototype.setEdgeRing=function(c){this._edgeRing=c},a.prototype.getMinEdgeRing=function(){return this._minEdgeRing},a.prototype.getDepthDelta=function(){var c=this._edge.getDepthDelta();return this._isForward||(c=-c),c},a.prototype.setInResult=function(c){this._isInResult=c},a.prototype.getSym=function(){return this._sym},a.prototype.isForward=function(){return this._isForward},a.prototype.getEdge=function(){return this._edge},a.prototype.printEdge=function(c){this.print(c),c.print(" "),this._isForward?this._edge.print(c):this._edge.printReverse(c)},a.prototype.setSym=function(c){this._sym=c},a.prototype.setVisitedEdge=function(c){this.setVisited(c),this._sym.setVisited(c)},a.prototype.setEdgeDepths=function(c,h){var m=this.getEdge().getDepthDelta();this._isForward||(m=-m);var E=1;c===Wt.LEFT&&(E=-1);var D=Wt.opposite(c),N=h+m*E;this.setDepth(c,h),this.setDepth(D,N)},a.prototype.getEdgeRing=function(){return this._edgeRing},a.prototype.isInResult=function(){return this._isInResult},a.prototype.setNext=function(c){this._next=c},a.prototype.isVisited=function(){return this._isVisited},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.depthFactor=function(c,h){return c===W.EXTERIOR&&h===W.INTERIOR?1:c===W.INTERIOR&&h===W.EXTERIOR?-1:0},a}(yi),$i=function(){};$i.prototype.createNode=function(o){return new zo(o,null)},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i};var Ir=function(){this._edges=new mt,this._nodes=null,this._edgeEndList=new mt,0===arguments.length?this._nodes=new _n(new $i):1===arguments.length&&(this._nodes=new _n(arguments[0]))};Ir.prototype.printEdges=function(o){o.println("Edges:");for(var a=0;a<this._edges.size();a++){o.println("edge "+a+":");var c=this._edges.get(a);c.print(o),c.eiList.print(o)}},Ir.prototype.find=function(o){return this._nodes.find(o)},Ir.prototype.addNode=function(){return arguments[0]instanceof zo||arguments[0]instanceof T?this._nodes.addNode(arguments[0]):void 0},Ir.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ir.prototype.linkResultDirectedEdges=function(){for(var o=this._nodes.iterator();o.hasNext();)o.next().getEdges().linkResultDirectedEdges()},Ir.prototype.debugPrintln=function(o){re.out.println(o)},Ir.prototype.isBoundaryNode=function(o,a){var c=this._nodes.find(a);if(null===c)return!1;var h=c.getLabel();return null!==h&&h.getLocation(o)===W.BOUNDARY},Ir.prototype.linkAllDirectedEdges=function(){for(var o=this._nodes.iterator();o.hasNext();)o.next().getEdges().linkAllDirectedEdges()},Ir.prototype.matchInSameDirection=function(o,a,c,h){return!!o.equals(c)&&le.computeOrientation(o,a,h)===le.COLLINEAR&&on.quadrant(o,a)===on.quadrant(c,h)},Ir.prototype.getEdgeEnds=function(){return this._edgeEndList},Ir.prototype.debugPrint=function(o){re.out.print(o)},Ir.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ir.prototype.findEdgeInSameDirection=function(o,a){for(var c=0;c<this._edges.size();c++){var h=this._edges.get(c),m=h.getCoordinates();if(this.matchInSameDirection(o,a,m[0],m[1])||this.matchInSameDirection(o,a,m[m.length-1],m[m.length-2]))return h}return null},Ir.prototype.insertEdge=function(o){this._edges.add(o)},Ir.prototype.findEdgeEnd=function(o){for(var a=this.getEdgeEnds().iterator();a.hasNext();){var c=a.next();if(c.getEdge()===o)return c}return null},Ir.prototype.addEdges=function(o){for(var a=o.iterator();a.hasNext();){var c=a.next();this._edges.add(c);var h=new Uu(c,!0),m=new Uu(c,!1);h.setSym(m),m.setSym(h),this.add(h),this.add(m)}},Ir.prototype.add=function(o){this._nodes.add(o),this._edgeEndList.add(o)},Ir.prototype.getNodes=function(){return this._nodes.values()},Ir.prototype.findEdge=function(o,a){for(var c=0;c<this._edges.size();c++){var h=this._edges.get(c),m=h.getCoordinates();if(o.equals(m[0])&&a.equals(m[1]))return h}return null},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir},Ir.linkResultDirectedEdges=function(o){for(var a=o.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()};var Fi=function(){this._geometryFactory=null,this._shellList=new mt,this._geometryFactory=arguments[0]};Fi.prototype.sortShellsAndHoles=function(o,a,c){for(var h=o.iterator();h.hasNext();){var m=h.next();m.isHole()?c.add(m):a.add(m)}},Fi.prototype.computePolygons=function(o){for(var a=new mt,c=o.iterator();c.hasNext();){var h=c.next().toPolygon(this._geometryFactory);a.add(h)}return a},Fi.prototype.placeFreeHoles=function(o,a){for(var c=a.iterator();c.hasNext();){var h=c.next();if(null===h.getShell()){var m=this.findEdgeRingContaining(h,o);if(null===m)throw new Mo("unable to assign hole to a shell",h.getCoordinate(0));h.setShell(m)}}},Fi.prototype.buildMinimalEdgeRings=function(o,a,c){for(var h=new mt,m=o.iterator();m.hasNext();){var E=m.next();if(E.getMaxNodeDegree()>2){E.linkDirectedEdgesForMinimalEdgeRings();var D=E.buildMinimalRings(),N=this.findShell(D);null!==N?(this.placePolygonHoles(N,D),a.add(N)):c.addAll(D)}else h.add(E)}return h},Fi.prototype.containsPoint=function(o){for(var a=this._shellList.iterator();a.hasNext();)if(a.next().containsPoint(o))return!0;return!1},Fi.prototype.buildMaximalEdgeRings=function(o){for(var a=new mt,c=o.iterator();c.hasNext();){var h=c.next();if(h.isInResult()&&h.getLabel().isArea()&&null===h.getEdgeRing()){var m=new ef(h,this._geometryFactory);a.add(m),m.setInResult()}}return a},Fi.prototype.placePolygonHoles=function(o,a){for(var c=a.iterator();c.hasNext();){var h=c.next();h.isHole()&&h.setShell(o)}},Fi.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Fi.prototype.findEdgeRingContaining=function(o,a){for(var c=o.getLinearRing(),h=c.getEnvelopeInternal(),m=c.getCoordinateN(0),E=null,D=null,N=a.iterator();N.hasNext();){var Q=N.next(),Et=Q.getLinearRing(),Vt=Et.getEnvelopeInternal();null!==E&&(D=E.getLinearRing().getEnvelopeInternal());var zt=!1;Vt.contains(h)&&le.isPointInRing(m,Et.getCoordinates())&&(zt=!0),zt&&(null===E||D.contains(Vt))&&(E=Q)}return E},Fi.prototype.findShell=function(o){for(var a=0,c=null,h=o.iterator();h.hasNext();){var m=h.next();m.isHole()||(c=m,a++)}return Ue.isTrue(a<=1,"found two shells in MinimalEdgeRing list"),c},Fi.prototype.add=function(){if(1===arguments.length){var o=arguments[0];this.add(o.getEdgeEnds(),o.getNodes())}else if(2===arguments.length){var a=arguments[0];Ir.linkResultDirectedEdges(arguments[1]);var h=this.buildMaximalEdgeRings(a),m=new mt,E=this.buildMinimalEdgeRings(h,this._shellList,m);this.sortShellsAndHoles(E,this._shellList,m),this.placeFreeHoles(this._shellList,m)}},Fi.prototype.interfaces_=function(){return[]},Fi.prototype.getClass=function(){return Fi};var vi=function(){};vi.prototype.getBounds=function(){},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi};var qi=function(){this._bounds=null,this._item=null;var a=arguments[1];this._bounds=arguments[0],this._item=a};qi.prototype.getItem=function(){return this._item},qi.prototype.getBounds=function(){return this._bounds},qi.prototype.interfaces_=function(){return[vi,U]},qi.prototype.getClass=function(){return qi};var gs=function(){this._size=null,this._items=null,this._size=0,this._items=new mt,this._items.add(null)};gs.prototype.poll=function(){if(this.isEmpty())return null;var o=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),o},gs.prototype.size=function(){return this._size},gs.prototype.reorder=function(o){for(var a=null,c=this._items.get(o);2*o<=this._size&&((a=2*o)!==this._size&&this._items.get(a+1).compareTo(this._items.get(a))<0&&a++,this._items.get(a).compareTo(c)<0);o=a)this._items.set(o,this._items.get(a));this._items.set(o,c)},gs.prototype.clear=function(){this._size=0,this._items.clear()},gs.prototype.isEmpty=function(){return 0===this._size},gs.prototype.add=function(o){this._items.add(null),this._size+=1;var a=this._size;for(this._items.set(0,o);o.compareTo(this._items.get(Math.trunc(a/2)))<0;a/=2)this._items.set(a,this._items.get(Math.trunc(a/2)));this._items.set(a,o)},gs.prototype.interfaces_=function(){return[]},gs.prototype.getClass=function(){return gs};var Zs=function(){};Zs.prototype.visitItem=function(o){},Zs.prototype.interfaces_=function(){return[]},Zs.prototype.getClass=function(){return Zs};var Ta=function(){};Ta.prototype.insert=function(o,a){},Ta.prototype.remove=function(o,a){},Ta.prototype.query=function(){},Ta.prototype.interfaces_=function(){return[]},Ta.prototype.getClass=function(){return Ta};var ni=function(){this._childBoundables=new mt,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},po={serialVersionUID:{configurable:!0}};ni.prototype.getLevel=function(){return this._level},ni.prototype.size=function(){return this._childBoundables.size()},ni.prototype.getChildBoundables=function(){return this._childBoundables},ni.prototype.addChildBoundable=function(o){Ue.isTrue(null===this._bounds),this._childBoundables.add(o)},ni.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},ni.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},ni.prototype.interfaces_=function(){return[vi,U]},ni.prototype.getClass=function(){return ni},po.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(ni,po);var Oe=function(){};Oe.reverseOrder=function(){return{compare:function(o,a){return a.compareTo(o)}}},Oe.min=function(o){return Oe.sort(o),o.get(0)},Oe.sort=function(o,a){var c=o.toArray();a?gi.sort(c,a):gi.sort(c);for(var h=o.iterator(),m=0,E=c.length;m<E;m++)h.next(),h.set(c[m])},Oe.singletonList=function(o){var a=new mt;return a.add(o),a};var Qr=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var a=arguments[1],c=arguments[2];this._boundable1=arguments[0],this._boundable2=a,this._itemDistance=c,this._distance=this.distance()};Qr.prototype.expandToQueue=function(o,a){var c=Qr.isComposite(this._boundable1),h=Qr.isComposite(this._boundable2);if(c&&h)return Qr.area(this._boundable1)>Qr.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,o,a),null):(this.expand(this._boundable2,this._boundable1,o,a),null);if(c)return this.expand(this._boundable1,this._boundable2,o,a),null;if(h)return this.expand(this._boundable2,this._boundable1,o,a),null;throw new H("neither boundable is composite")},Qr.prototype.isLeaves=function(){return!(Qr.isComposite(this._boundable1)||Qr.isComposite(this._boundable2))},Qr.prototype.compareTo=function(o){return this._distance<o._distance?-1:this._distance>o._distance?1:0},Qr.prototype.expand=function(o,a,c,h){for(var m=o.getChildBoundables().iterator();m.hasNext();){var E=m.next(),D=new Qr(E,a,this._itemDistance);D.getDistance()<h&&c.add(D)}},Qr.prototype.getBoundable=function(o){return 0===o?this._boundable1:this._boundable2},Qr.prototype.getDistance=function(){return this._distance},Qr.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Qr.prototype.interfaces_=function(){return[V]},Qr.prototype.getClass=function(){return Qr},Qr.area=function(o){return o.getBounds().getArea()},Qr.isComposite=function(o){return o instanceof ni};var Xe=function o(){if(this._root=null,this._built=!1,this._itemBoundables=new mt,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=o.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var c=arguments[0];Ue.isTrue(c>1,"Node capacity must be greater than 1"),this._nodeCapacity=c}},fl={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Xe.prototype.getNodeCapacity=function(){return this._nodeCapacity},Xe.prototype.lastNode=function(o){return o.get(o.size()-1)},Xe.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var o=0,a=arguments[0].getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof ni?o+=this.size(c):c instanceof qi&&(o+=1)}return o}},Xe.prototype.removeItem=function(o,a){for(var c=null,h=o.getChildBoundables().iterator();h.hasNext();){var m=h.next();m instanceof qi&&m.getItem()===a&&(c=m)}return null!==c&&(o.getChildBoundables().remove(c),!0)},Xe.prototype.itemsTree=function(){if(0===arguments.length){this.build();var o=this.itemsTree(this._root);return null===o?new mt:o}if(1===arguments.length){for(var a=arguments[0],c=new mt,h=a.getChildBoundables().iterator();h.hasNext();){var m=h.next();if(m instanceof ni){var E=this.itemsTree(m);null!==E&&c.add(E)}else m instanceof qi?c.add(m.getItem()):Ue.shouldNeverReachHere()}return c.size()<=0?null:c}},Xe.prototype.insert=function(o,a){Ue.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new qi(o,a))},Xe.prototype.boundablesAtLevel=function(){if(1===arguments.length){var o=arguments[0],a=new mt;return this.boundablesAtLevel(o,this._root,a),a}if(3===arguments.length){var c=arguments[0],h=arguments[1],m=arguments[2];if(Ue.isTrue(c>-2),h.getLevel()===c)return m.add(h),null;for(var E=h.getChildBoundables().iterator();E.hasNext();){var D=E.next();D instanceof ni?this.boundablesAtLevel(c,D,m):(Ue.isTrue(D instanceof qi),-1===c&&m.add(D))}return null}},Xe.prototype.query=function(){if(1===arguments.length){var o=arguments[0];this.build();var a=new mt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.query(o,this._root,a),a}if(2===arguments.length){var c=arguments[0],h=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),c)&&this.query(c,this._root,h)}else if(3===arguments.length)if(Bt(arguments[2],Zs)&&arguments[0]instanceof Object&&arguments[1]instanceof ni)for(var m=arguments[0],D=arguments[2],N=arguments[1].getChildBoundables(),Q=0;Q<N.size();Q++){var Et=N.get(Q);this.getIntersectsOp().intersects(Et.getBounds(),m)&&(Et instanceof ni?this.query(m,Et,D):Et instanceof qi?D.visitItem(Et.getItem()):Ue.shouldNeverReachHere())}else if(Bt(arguments[2],de)&&arguments[0]instanceof Object&&arguments[1]instanceof ni)for(var Vt=arguments[0],ae=arguments[2],he=arguments[1].getChildBoundables(),Ce=0;Ce<he.size();Ce++){var Be=he.get(Ce);this.getIntersectsOp().intersects(Be.getBounds(),Vt)&&(Be instanceof ni?this.query(Vt,Be,ae):Be instanceof qi?ae.add(Be.getItem()):Ue.shouldNeverReachHere())}},Xe.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Xe.prototype.getRoot=function(){return this.build(),this._root},Xe.prototype.remove=function(){if(2===arguments.length){var o=arguments[0],a=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.remove(o,this._root,a)}if(3===arguments.length){var c=arguments[0],h=arguments[1],m=arguments[2],E=this.removeItem(h,m);if(E)return!0;for(var D=null,N=h.getChildBoundables().iterator();N.hasNext();){var Q=N.next();if(this.getIntersectsOp().intersects(Q.getBounds(),c)&&Q instanceof ni&&(E=this.remove(c,Q,m))){D=Q;break}}return null!==D&&D.getChildBoundables().isEmpty()&&h.getChildBoundables().remove(D),E}},Xe.prototype.createHigherLevels=function(o,a){Ue.isTrue(!o.isEmpty());var c=this.createParentBoundables(o,a+1);return 1===c.size()?c.get(0):this.createHigherLevels(c,a+1)},Xe.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var o=0,a=arguments[0].getChildBoundables().iterator();a.hasNext();){var c=a.next();if(c instanceof ni){var h=this.depth(c);h>o&&(o=h)}}return o+1}},Xe.prototype.createParentBoundables=function(o,a){Ue.isTrue(!o.isEmpty());var c=new mt;c.add(this.createNode(a));var h=new mt(o);Oe.sort(h,this.getComparator());for(var m=h.iterator();m.hasNext();){var E=m.next();this.lastNode(c).getChildBoundables().size()===this.getNodeCapacity()&&c.add(this.createNode(a)),this.lastNode(c).addChildBoundable(E)}return c},Xe.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Xe.prototype.interfaces_=function(){return[U]},Xe.prototype.getClass=function(){return Xe},Xe.compareDoubles=function(o,a){return o>a?1:o<a?-1:0},fl.IntersectsOp.get=function(){return Re},fl.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},fl.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Xe,fl);var Re=function(){},Ws=function(){};Ws.prototype.distance=function(o,a){},Ws.prototype.interfaces_=function(){return[]},Ws.prototype.getClass=function(){return Ws};var Uo=function(o){function a(h){o.call(this,h=h||a.DEFAULT_NODE_CAPACITY)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var c={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return a.prototype.createParentBoundablesFromVerticalSlices=function(h,m){Ue.isTrue(h.length>0);for(var E=new mt,D=0;D<h.length;D++)E.addAll(this.createParentBoundablesFromVerticalSlice(h[D],m));return E},a.prototype.createNode=function(h){return new vu(h)},a.prototype.size=function(){return 0===arguments.length?o.prototype.size.call(this):o.prototype.size.apply(this,arguments)},a.prototype.insert=function(){if(2!==arguments.length)return o.prototype.insert.apply(this,arguments);var h=arguments[0],m=arguments[1];if(h.isNull())return null;o.prototype.insert.call(this,h,m)},a.prototype.getIntersectsOp=function(){return a.intersectsOp},a.prototype.verticalSlices=function(h,m){for(var E=Math.trunc(Math.ceil(h.size()/m)),D=new Array(m).fill(null),N=h.iterator(),Q=0;Q<m;Q++){D[Q]=new mt;for(var Et=0;N.hasNext()&&Et<E;){var Vt=N.next();D[Q].add(Vt),Et++}}return D},a.prototype.query=function(){if(1===arguments.length)return o.prototype.query.call(this,arguments[0]);2===arguments.length?o.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(Bt(arguments[2],Zs)&&arguments[0]instanceof Object&&arguments[1]instanceof ni||Bt(arguments[2],de)&&arguments[0]instanceof Object&&arguments[1]instanceof ni)&&o.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},a.prototype.getComparator=function(){return a.yComparator},a.prototype.createParentBoundablesFromVerticalSlice=function(h,m){return o.prototype.createParentBoundables.call(this,h,m)},a.prototype.remove=function(){return 2===arguments.length?o.prototype.remove.call(this,arguments[0],arguments[1]):o.prototype.remove.apply(this,arguments)},a.prototype.depth=function(){return 0===arguments.length?o.prototype.depth.call(this):o.prototype.depth.apply(this,arguments)},a.prototype.createParentBoundables=function(h,m){Ue.isTrue(!h.isEmpty());var E=Math.trunc(Math.ceil(h.size()/this.getNodeCapacity())),D=new mt(h);Oe.sort(D,a.xComparator);var N=this.verticalSlices(D,Math.trunc(Math.ceil(Math.sqrt(E))));return this.createParentBoundablesFromVerticalSlices(N,m)},a.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Bt(arguments[0],Ws)){var h=arguments[0],m=new Qr(this.getRoot(),this.getRoot(),h);return this.nearestNeighbour(m)}if(arguments[0]instanceof Qr)return this.nearestNeighbour(arguments[0],F.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof a&&Bt(arguments[1],Ws)){var D=arguments[0],N=arguments[1],Q=new Qr(this.getRoot(),D.getRoot(),N);return this.nearestNeighbour(Q)}if(arguments[0]instanceof Qr&&"number"==typeof arguments[1]){var Et=arguments[0],Vt=arguments[1],zt=null,ae=new gs;for(ae.add(Et);!ae.isEmpty()&&Vt>0;){var he=ae.poll(),Ce=he.getDistance();if(Ce>=Vt)break;he.isLeaves()?(Vt=Ce,zt=he):he.expandToQueue(ae,Vt)}return[zt.getBoundable(0).getItem(),zt.getBoundable(1).getItem()]}}else if(3===arguments.length){var Ii=arguments[2],Co=new qi(arguments[0],arguments[1]),ya=new Qr(this.getRoot(),Co,Ii);return this.nearestNeighbour(ya)[0]}},a.prototype.interfaces_=function(){return[Ta,U]},a.prototype.getClass=function(){return a},a.centreX=function(h){return a.avg(h.getMinX(),h.getMaxX())},a.avg=function(h,m){return(h+m)/2},a.centreY=function(h){return a.avg(h.getMinY(),h.getMaxY())},c.STRtreeNode.get=function(){return vu},c.serialVersionUID.get=function(){return 0x39920f7d5f261e0},c.xComparator.get=function(){return{interfaces_:function(){return[Y]},compare:function(h,m){return o.compareDoubles(a.centreX(h.getBounds()),a.centreX(m.getBounds()))}}},c.yComparator.get=function(){return{interfaces_:function(){return[Y]},compare:function(h,m){return o.compareDoubles(a.centreY(h.getBounds()),a.centreY(m.getBounds()))}}},c.intersectsOp.get=function(){return{interfaces_:function(){return[o.IntersectsOp]},intersects:function(h,m){return h.intersects(m)}}},c.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(a,c),a}(Xe),vu=function(o){function a(){o.call(this,arguments[0])}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.computeBounds=function(){for(var c=null,h=this.getChildBoundables().iterator();h.hasNext();){var m=h.next();null===c?c=new Qt(m.getBounds()):c.expandToInclude(m.getBounds())}return c},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(ni),ki=function(){};ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki},ki.relativeSign=function(o,a){return o<a?-1:o>a?1:0},ki.compare=function(o,a,c){if(a.equals2D(c))return 0;var h=ki.relativeSign(a.x,c.x),m=ki.relativeSign(a.y,c.y);switch(o){case 0:return ki.compareValue(h,m);case 1:return ki.compareValue(m,h);case 2:return ki.compareValue(m,-h);case 3:return ki.compareValue(-h,m);case 4:return ki.compareValue(-h,-m);case 5:return ki.compareValue(-m,-h);case 6:return ki.compareValue(-m,h);case 7:return ki.compareValue(h,-m)}return Ue.shouldNeverReachHere("invalid octant value"),0},ki.compareValue=function(o,a){return o<0?-1:o>0?1:a<0?-1:a>0?1:0};var Ts=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var o=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3];this._segString=o,this.coord=new T(a),this.segmentIndex=c,this._segmentOctant=h,this._isInterior=!a.equals2D(o.getCoordinate(c))};Ts.prototype.getCoordinate=function(){return this.coord},Ts.prototype.print=function(o){o.print(this.coord),o.print(" seg # = "+this.segmentIndex)},Ts.prototype.compareTo=function(o){var a=o;return this.segmentIndex<a.segmentIndex?-1:this.segmentIndex>a.segmentIndex?1:this.coord.equals2D(a.coord)?0:ki.compare(this._segmentOctant,this.coord,a.coord)},Ts.prototype.isEndPoint=function(o){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===o},Ts.prototype.isInterior=function(){return this._isInterior},Ts.prototype.interfaces_=function(){return[V]},Ts.prototype.getClass=function(){return Ts};var Bi=function(){this._nodeMap=new Rt,this._edge=null,this._edge=arguments[0]};Bi.prototype.getSplitCoordinates=function(){var o=new ce;this.addEndpoints();for(var a=this.iterator(),c=a.next();a.hasNext();){var h=a.next();this.addEdgeCoordinates(c,h,o),c=h}return o.toCoordinateArray()},Bi.prototype.addCollapsedNodes=function(){var o=new mt;this.findCollapsesFromInsertedNodes(o),this.findCollapsesFromExistingVertices(o);for(var a=o.iterator();a.hasNext();){var c=a.next().intValue();this.add(this._edge.getCoordinate(c),c)}},Bi.prototype.print=function(o){o.println("Intersections:");for(var a=this.iterator();a.hasNext();)a.next().print(o)},Bi.prototype.findCollapsesFromExistingVertices=function(o){for(var a=0;a<this._edge.size()-2;a++){var c=this._edge.getCoordinate(a),h=this._edge.getCoordinate(a+2);c.equals2D(h)&&o.add(new ot(a+1))}},Bi.prototype.addEdgeCoordinates=function(o,a,c){var h=this._edge.getCoordinate(a.segmentIndex),m=a.isInterior()||!a.coord.equals2D(h);c.add(new T(o.coord),!1);for(var E=o.segmentIndex+1;E<=a.segmentIndex;E++)c.add(this._edge.getCoordinate(E));m&&c.add(new T(a.coord))},Bi.prototype.iterator=function(){return this._nodeMap.values().iterator()},Bi.prototype.addSplitEdges=function(o){this.addEndpoints(),this.addCollapsedNodes();for(var a=this.iterator(),c=a.next();a.hasNext();){var h=a.next(),m=this.createSplitEdge(c,h);o.add(m),c=h}},Bi.prototype.findCollapseIndex=function(o,a,c){if(!o.coord.equals2D(a.coord))return!1;var h=a.segmentIndex-o.segmentIndex;return a.isInterior()||h--,1===h&&(c[0]=o.segmentIndex+1,!0)},Bi.prototype.findCollapsesFromInsertedNodes=function(o){for(var a=new Array(1).fill(null),c=this.iterator(),h=c.next();c.hasNext();){var m=c.next();this.findCollapseIndex(h,m,a)&&o.add(new ot(a[0])),h=m}},Bi.prototype.getEdge=function(){return this._edge},Bi.prototype.addEndpoints=function(){var o=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(o),o)},Bi.prototype.createSplitEdge=function(o,a){var c=a.segmentIndex-o.segmentIndex+2,h=this._edge.getCoordinate(a.segmentIndex),m=a.isInterior()||!a.coord.equals2D(h);m||c--;var E=new Array(c).fill(null),D=0;E[D++]=new T(o.coord);for(var N=o.segmentIndex+1;N<=a.segmentIndex;N++)E[D++]=this._edge.getCoordinate(N);return m&&(E[D]=new T(a.coord)),new Br(E,this._edge.getData())},Bi.prototype.add=function(o,a){var c=new Ts(this._edge,o,a,this._edge.getSegmentOctant(a)),h=this._nodeMap.get(c);return null!==h?(Ue.isTrue(h.coord.equals2D(o),"Found equal nodes with different coordinates"),h):(this._nodeMap.put(c,c),c)},Bi.prototype.checkSplitEdgesCorrectness=function(o){var a=this._edge.getCoordinates(),c=o.get(0).getCoordinate(0);if(!c.equals2D(a[0]))throw new bi("bad split edge start point at "+c);var h=o.get(o.size()-1).getCoordinates(),m=h[h.length-1];if(!m.equals2D(a[a.length-1]))throw new bi("bad split edge end point at "+m)},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi};var As=function(){};As.prototype.interfaces_=function(){return[]},As.prototype.getClass=function(){return As},As.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1];if(0===o&&0===a)throw new H("Cannot compute the octant for point ( "+o+", "+a+" )");var c=Math.abs(o),h=Math.abs(a);return o>=0?a>=0?c>=h?0:1:c>=h?7:6:a>=0?c>=h?3:2:c>=h?4:5}if(arguments[0]instanceof T&&arguments[1]instanceof T){var m=arguments[0],E=arguments[1],D=E.x-m.x,N=E.y-m.y;if(0===D&&0===N)throw new H("Cannot compute the octant for two identical points "+m);return As.octant(D,N)}};var Po=function(){};Po.prototype.getCoordinates=function(){},Po.prototype.size=function(){},Po.prototype.getCoordinate=function(o){},Po.prototype.isClosed=function(){},Po.prototype.setData=function(o){},Po.prototype.getData=function(){},Po.prototype.interfaces_=function(){return[]},Po.prototype.getClass=function(){return Po};var Ys=function(){};Ys.prototype.addIntersection=function(o,a){},Ys.prototype.interfaces_=function(){return[Po]},Ys.prototype.getClass=function(){return Ys};var Br=function(){this._nodeList=new Bi(this),this._pts=null,this._data=null;var a=arguments[1];this._pts=arguments[0],this._data=a};Br.prototype.getCoordinates=function(){return this._pts},Br.prototype.size=function(){return this._pts.length},Br.prototype.getCoordinate=function(o){return this._pts[o]},Br.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Br.prototype.getSegmentOctant=function(o){return o===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(o),this.getCoordinate(o+1))},Br.prototype.setData=function(o){this._data=o},Br.prototype.safeOctant=function(o,a){return o.equals2D(a)?0:As.octant(o,a)},Br.prototype.getData=function(){return this._data},Br.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var h=arguments[1],E=new T(arguments[0].getIntersection(arguments[3]));this.addIntersection(E,h)}},Br.prototype.toString=function(){return pr.toLineString(new nn(this._pts))},Br.prototype.getNodeList=function(){return this._nodeList},Br.prototype.addIntersectionNode=function(o,a){var c=a,h=c+1;return h<this._pts.length&&o.equals2D(this._pts[h])&&(c=h),this._nodeList.add(o,c)},Br.prototype.addIntersections=function(o,a,c){for(var h=0;h<o.getIntersectionNum();h++)this.addIntersection(o,a,c,h)},Br.prototype.interfaces_=function(){return[Ys]},Br.prototype.getClass=function(){return Br},Br.getNodedSubstrings=function(){if(1===arguments.length){var o=arguments[0],a=new mt;return Br.getNodedSubstrings(o,a),a}if(2===arguments.length)for(var h=arguments[1],m=arguments[0].iterator();m.hasNext();)m.next().getNodeList().addSplitEdges(h)};var _e=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new T,this.p1=new T;else if(1===arguments.length){var o=arguments[0];this.p0=new T(o.p0),this.p1=new T(o.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var h=arguments[2],m=arguments[3];this.p0=new T(arguments[0],arguments[1]),this.p1=new T(h,m)}},Dn={serialVersionUID:{configurable:!0}};_e.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},_e.prototype.orientationIndex=function(){if(arguments[0]instanceof _e){var o=arguments[0],a=le.orientationIndex(this.p0,this.p1,o.p0),c=le.orientationIndex(this.p0,this.p1,o.p1);return a>=0&&c>=0||a<=0&&c<=0?Math.max(a,c):0}if(arguments[0]instanceof T)return le.orientationIndex(this.p0,this.p1,arguments[0])},_e.prototype.toGeometry=function(o){return o.createLineString([this.p0,this.p1])},_e.prototype.isVertical=function(){return this.p0.x===this.p1.x},_e.prototype.equals=function(o){if(!(o instanceof _e))return!1;var a=o;return this.p0.equals(a.p0)&&this.p1.equals(a.p1)},_e.prototype.intersection=function(o){var a=new fo;return a.computeIntersection(this.p0,this.p1,o.p0,o.p1),a.hasIntersection()?a.getIntersection(0):null},_e.prototype.project=function(){if(arguments[0]instanceof T){var o=arguments[0];if(o.equals(this.p0)||o.equals(this.p1))return new T(o);var a=this.projectionFactor(o),c=new T;return c.x=this.p0.x+a*(this.p1.x-this.p0.x),c.y=this.p0.y+a*(this.p1.y-this.p0.y),c}if(arguments[0]instanceof _e){var h=arguments[0],m=this.projectionFactor(h.p0),E=this.projectionFactor(h.p1);if(m>=1&&E>=1||m<=0&&E<=0)return null;var D=this.project(h.p0);m<0&&(D=this.p0),m>1&&(D=this.p1);var N=this.project(h.p1);return E<0&&(N=this.p0),E>1&&(N=this.p1),new _e(D,N)}},_e.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},_e.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},_e.prototype.getCoordinate=function(o){return 0===o?this.p0:this.p1},_e.prototype.distancePerpendicular=function(o){return le.distancePointLinePerpendicular(o,this.p0,this.p1)},_e.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},_e.prototype.midPoint=function(){return _e.midPoint(this.p0,this.p1)},_e.prototype.projectionFactor=function(o){if(o.equals(this.p0))return 0;if(o.equals(this.p1))return 1;var a=this.p1.x-this.p0.x,c=this.p1.y-this.p0.y,h=a*a+c*c;return h<=0?F.NaN:((o.x-this.p0.x)*a+(o.y-this.p0.y)*c)/h},_e.prototype.closestPoints=function(o){var a=this.intersection(o);if(null!==a)return[a,a];var c=new Array(2).fill(null),h=F.MAX_VALUE,m=null,E=this.closestPoint(o.p0);h=E.distance(o.p0),c[0]=E,c[1]=o.p0;var D=this.closestPoint(o.p1);(m=D.distance(o.p1))<h&&(h=m,c[0]=D,c[1]=o.p1);var N=o.closestPoint(this.p0);(m=N.distance(this.p0))<h&&(h=m,c[0]=this.p0,c[1]=N);var Q=o.closestPoint(this.p1);return(m=Q.distance(this.p1))<h&&(h=m,c[0]=this.p1,c[1]=Q),c},_e.prototype.closestPoint=function(o){var a=this.projectionFactor(o);return a>0&&a<1?this.project(o):this.p0.distance(o)<this.p1.distance(o)?this.p0:this.p1},_e.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},_e.prototype.getLength=function(){return this.p0.distance(this.p1)},_e.prototype.compareTo=function(o){var a=o,c=this.p0.compareTo(a.p0);return 0!==c?c:this.p1.compareTo(a.p1)},_e.prototype.reverse=function(){var o=this.p0;this.p0=this.p1,this.p1=o},_e.prototype.equalsTopo=function(o){return this.p0.equals(o.p0)&&(this.p1.equals(o.p1)||this.p0.equals(o.p1))&&this.p1.equals(o.p0)},_e.prototype.lineIntersection=function(o){try{return me.intersection(this.p0,this.p1,o.p0,o.p1)}catch(a){if(!(a instanceof De))throw a}return null},_e.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},_e.prototype.pointAlongOffset=function(o,a){var c=this.p0.x+o*(this.p1.x-this.p0.x),h=this.p0.y+o*(this.p1.y-this.p0.y),m=this.p1.x-this.p0.x,E=this.p1.y-this.p0.y,D=Math.sqrt(m*m+E*E),N=0,Q=0;if(0!==a){if(D<=0)throw new Error("Cannot compute offset from zero-length line segment");N=a*m/D,Q=a*E/D}return new T(c-Q,h+N)},_e.prototype.setCoordinates=function(){if(1===arguments.length){var o=arguments[0];this.setCoordinates(o.p0,o.p1)}else if(2===arguments.length){var a=arguments[0],c=arguments[1];this.p0.x=a.x,this.p0.y=a.y,this.p1.x=c.x,this.p1.y=c.y}},_e.prototype.segmentFraction=function(o){var a=this.projectionFactor(o);return a<0?a=0:(a>1||F.isNaN(a))&&(a=1),a},_e.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},_e.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},_e.prototype.distance=function(){if(arguments[0]instanceof _e){var o=arguments[0];return le.distanceLineLine(this.p0,this.p1,o.p0,o.p1)}if(arguments[0]instanceof T)return le.distancePointLine(arguments[0],this.p0,this.p1)},_e.prototype.pointAlong=function(o){var a=new T;return a.x=this.p0.x+o*(this.p1.x-this.p0.x),a.y=this.p0.y+o*(this.p1.y-this.p0.y),a},_e.prototype.hashCode=function(){var o=F.doubleToLongBits(this.p0.x);o^=31*F.doubleToLongBits(this.p0.y);var a=Math.trunc(o)^Math.trunc(o>>32),c=F.doubleToLongBits(this.p1.x);return c^=31*F.doubleToLongBits(this.p1.y),a^Math.trunc(c)^Math.trunc(c>>32)},_e.prototype.interfaces_=function(){return[V,U]},_e.prototype.getClass=function(){return _e},_e.midPoint=function(o,a){return new T((o.x+a.x)/2,(o.y+a.y)/2)},Dn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(_e,Dn);var da=function(){this.tempEnv1=new Qt,this.tempEnv2=new Qt,this._overlapSeg1=new _e,this._overlapSeg2=new _e};da.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var c=arguments[2],h=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),c.getLineSegment(h,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},da.prototype.interfaces_=function(){return[]},da.prototype.getClass=function(){return da};var Kr=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var a=arguments[1],c=arguments[2],h=arguments[3];this._pts=arguments[0],this._start=a,this._end=c,this._context=h};Kr.prototype.getLineSegment=function(o,a){a.p0=this._pts[o],a.p1=this._pts[o+1]},Kr.prototype.computeSelect=function(o,a,c,h){if(h.tempEnv1.init(this._pts[a],this._pts[c]),c-a==1)return h.select(this,a),null;if(!o.intersects(h.tempEnv1))return null;var D=Math.trunc((a+c)/2);a<D&&this.computeSelect(o,a,D,h),D<c&&this.computeSelect(o,D,c,h)},Kr.prototype.getCoordinates=function(){for(var o=new Array(this._end-this._start+1).fill(null),a=0,c=this._start;c<=this._end;c++)o[a++]=this._pts[c];return o},Kr.prototype.computeOverlaps=function(o,a){this.computeOverlapsInternal(this._start,this._end,o,o._start,o._end,a)},Kr.prototype.setId=function(o){this._id=o},Kr.prototype.select=function(o,a){this.computeSelect(o,this._start,this._end,a)},Kr.prototype.getEnvelope=function(){return null===this._env&&(this._env=new Qt(this._pts[this._start],this._pts[this._end])),this._env},Kr.prototype.getEndIndex=function(){return this._end},Kr.prototype.getStartIndex=function(){return this._start},Kr.prototype.getContext=function(){return this._context},Kr.prototype.getId=function(){return this._id},Kr.prototype.computeOverlapsInternal=function(o,a,c,h,m,E){var D=this._pts[o],N=this._pts[a],Q=c._pts[h],Et=c._pts[m];if(a-o==1&&m-h==1)return E.overlap(this,o,c,h),null;if(E.tempEnv1.init(D,N),E.tempEnv2.init(Q,Et),!E.tempEnv1.intersects(E.tempEnv2))return null;var Vt=Math.trunc((o+a)/2),zt=Math.trunc((h+m)/2);o<Vt&&(h<zt&&this.computeOverlapsInternal(o,Vt,c,h,zt,E),zt<m&&this.computeOverlapsInternal(o,Vt,c,zt,m,E)),Vt<a&&(h<zt&&this.computeOverlapsInternal(Vt,a,c,h,zt,E),zt<m&&this.computeOverlapsInternal(Vt,a,c,zt,m,E))},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr};var Vr=function(){};Vr.prototype.interfaces_=function(){return[]},Vr.prototype.getClass=function(){return Vr},Vr.getChainStartIndices=function(o){var a=0,c=new mt;c.add(new ot(a));do{var h=Vr.findChainEnd(o,a);c.add(new ot(h)),a=h}while(a<o.length-1);return Vr.toIntArray(c)},Vr.findChainEnd=function(o,a){for(var c=a;c<o.length-1&&o[c].equals2D(o[c+1]);)c++;if(c>=o.length-1)return o.length-1;for(var h=on.quadrant(o[c],o[c+1]),m=a+1;m<o.length&&(o[m-1].equals2D(o[m])||on.quadrant(o[m-1],o[m])===h);)m++;return m-1},Vr.getChains=function(){if(1===arguments.length)return Vr.getChains(arguments[0],null);if(2===arguments.length){for(var a=arguments[0],c=arguments[1],h=new mt,m=Vr.getChainStartIndices(a),E=0;E<m.length-1;E++){var D=new Kr(a,m[E],m[E+1],c);h.add(D)}return h}},Vr.toIntArray=function(o){for(var a=new Array(o.size()).fill(null),c=0;c<a.length;c++)a[c]=o.get(c).intValue();return a};var Ls=function(){};Ls.prototype.computeNodes=function(o){},Ls.prototype.getNodedSubstrings=function(){},Ls.prototype.interfaces_=function(){return[]},Ls.prototype.getClass=function(){return Ls};var qa=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};qa.prototype.setSegmentIntersector=function(o){this._segInt=o},qa.prototype.interfaces_=function(){return[Ls]},qa.prototype.getClass=function(){return qa};var br=function(o){function a(h){h?o.call(this,h):o.call(this),this._monoChains=new mt,this._index=new Uo,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var c={SegmentOverlapAction:{configurable:!0}};return a.prototype.getMonotoneChains=function(){return this._monoChains},a.prototype.getNodedSubstrings=function(){return Br.getNodedSubstrings(this._nodedSegStrings)},a.prototype.getIndex=function(){return this._index},a.prototype.add=function(h){for(var m=Vr.getChains(h.getCoordinates(),h).iterator();m.hasNext();){var E=m.next();E.setId(this._idCounter++),this._index.insert(E.getEnvelope(),E),this._monoChains.add(E)}},a.prototype.computeNodes=function(h){this._nodedSegStrings=h;for(var m=h.iterator();m.hasNext();)this.add(m.next());this.intersectChains()},a.prototype.intersectChains=function(){for(var h=new kl(this._segInt),m=this._monoChains.iterator();m.hasNext();)for(var E=m.next(),D=this._index.query(E.getEnvelope()).iterator();D.hasNext();){var N=D.next();if(N.getId()>E.getId()&&(E.computeOverlaps(N,h),this._nOverlaps++),this._segInt.isDone())return null}},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},c.SegmentOverlapAction.get=function(){return kl},Object.defineProperties(a,c),a}(qa),kl=function(o){function a(){o.call(this),this._si=null,this._si=arguments[0]}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.overlap=function(){if(4!==arguments.length)return o.prototype.overlap.apply(this,arguments);var h=arguments[1],m=arguments[2],E=arguments[3],D=arguments[0].getContext(),N=m.getContext();this._si.processIntersections(D,h,N,E)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(da),Mn=function o(){if(this._quadrantSegments=o.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=o.CAP_ROUND,this._joinStyle=o.JOIN_ROUND,this._mitreLimit=o.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=o.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var h=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(h)}else if(4===arguments.length){var E=arguments[1],D=arguments[2],N=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(E),this.setJoinStyle(D),this.setMitreLimit(N)}},Ee={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Mn.prototype.getEndCapStyle=function(){return this._endCapStyle},Mn.prototype.isSingleSided=function(){return this._isSingleSided},Mn.prototype.setQuadrantSegments=function(o){this._quadrantSegments=o,0===this._quadrantSegments&&(this._joinStyle=Mn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Mn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),o<=0&&(this._quadrantSegments=1),this._joinStyle!==Mn.JOIN_ROUND&&(this._quadrantSegments=Mn.DEFAULT_QUADRANT_SEGMENTS)},Mn.prototype.getJoinStyle=function(){return this._joinStyle},Mn.prototype.setJoinStyle=function(o){this._joinStyle=o},Mn.prototype.setSimplifyFactor=function(o){this._simplifyFactor=o<0?0:o},Mn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Mn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Mn.prototype.setEndCapStyle=function(o){this._endCapStyle=o},Mn.prototype.getMitreLimit=function(){return this._mitreLimit},Mn.prototype.setMitreLimit=function(o){this._mitreLimit=o},Mn.prototype.setSingleSided=function(o){this._isSingleSided=o},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},Mn.bufferDistanceError=function(o){var a=Math.PI/2/o;return 1-Math.cos(a/2)},Ee.CAP_ROUND.get=function(){return 1},Ee.CAP_FLAT.get=function(){return 2},Ee.CAP_SQUARE.get=function(){return 3},Ee.JOIN_ROUND.get=function(){return 1},Ee.JOIN_MITRE.get=function(){return 2},Ee.JOIN_BEVEL.get=function(){return 3},Ee.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Ee.DEFAULT_MITRE_LIMIT.get=function(){return 5},Ee.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Mn,Ee);var Sr=function(o){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=le.COUNTERCLOCKWISE,this._inputLine=o||null},Xs={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Sr.prototype.isDeletable=function(o,a,c,h){var m=this._inputLine[o],E=this._inputLine[a],D=this._inputLine[c];return!!this.isConcave(m,E,D)&&!!this.isShallow(m,E,D,h)&&this.isShallowSampled(m,E,o,c,h)},Sr.prototype.deleteShallowConcavities=function(){for(var o=1,a=this.findNextNonDeletedIndex(o),c=this.findNextNonDeletedIndex(a),h=!1;c<this._inputLine.length;){var m=!1;this.isDeletable(o,a,c,this._distanceTol)&&(this._isDeleted[a]=Sr.DELETE,m=!0,h=!0),a=this.findNextNonDeletedIndex(o=m?c:a),c=this.findNextNonDeletedIndex(a)}return h},Sr.prototype.isShallowConcavity=function(o,a,c,h){return le.computeOrientation(o,a,c)===this._angleOrientation&&le.distancePointLine(a,o,c)<h},Sr.prototype.isShallowSampled=function(o,a,c,h,m){var E=Math.trunc((h-c)/Sr.NUM_PTS_TO_CHECK);E<=0&&(E=1);for(var D=c;D<h;D+=E)if(!this.isShallow(o,a,this._inputLine[D],m))return!1;return!0},Sr.prototype.isConcave=function(o,a,c){return le.computeOrientation(o,a,c)===this._angleOrientation},Sr.prototype.simplify=function(o){this._distanceTol=Math.abs(o),o<0&&(this._angleOrientation=le.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var a=!1;do{a=this.deleteShallowConcavities()}while(a);return this.collapseLine()},Sr.prototype.findNextNonDeletedIndex=function(o){for(var a=o+1;a<this._inputLine.length&&this._isDeleted[a]===Sr.DELETE;)a++;return a},Sr.prototype.isShallow=function(o,a,c,h){return le.distancePointLine(a,o,c)<h},Sr.prototype.collapseLine=function(){for(var o=new ce,a=0;a<this._inputLine.length;a++)this._isDeleted[a]!==Sr.DELETE&&o.add(this._inputLine[a]);return o.toCoordinateArray()},Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr},Sr.simplify=function(o,a){return new Sr(o).simplify(a)},Xs.INIT.get=function(){return 0},Xs.DELETE.get=function(){return 1},Xs.KEEP.get=function(){return 1},Xs.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Sr,Xs);var so=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new mt},_u={COORDINATE_ARRAY_TYPE:{configurable:!0}};so.prototype.getCoordinates=function(){return this._ptList.toArray(so.COORDINATE_ARRAY_TYPE)},so.prototype.setPrecisionModel=function(o){this._precisionModel=o},so.prototype.addPt=function(o){var a=new T(o);if(this._precisionModel.makePrecise(a),this.isRedundant(a))return null;this._ptList.add(a)},so.prototype.revere=function(){},so.prototype.addPts=function(o,a){if(a)for(var c=0;c<o.length;c++)this.addPt(o[c]);else for(var h=o.length-1;h>=0;h--)this.addPt(o[h])},so.prototype.isRedundant=function(o){if(this._ptList.size()<1)return!1;var a=this._ptList.get(this._ptList.size()-1);return o.distance(a)<this._minimimVertexDistance},so.prototype.toString=function(){return(new Ne).createLineString(this.getCoordinates()).toString()},so.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var o=new T(this._ptList.get(0)),a=this._ptList.get(this._ptList.size()-1);if(o.equals(a))return null;this._ptList.add(o)},so.prototype.setMinimumVertexDistance=function(o){this._minimimVertexDistance=o},so.prototype.interfaces_=function(){return[]},so.prototype.getClass=function(){return so},_u.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(so,_u);var fn=function(){},Qo={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn},fn.toDegrees=function(o){return 180*o/Math.PI},fn.normalize=function(o){for(;o>Math.PI;)o-=fn.PI_TIMES_2;for(;o<=-Math.PI;)o+=fn.PI_TIMES_2;return o},fn.angle=function(){if(1===arguments.length){var o=arguments[0];return Math.atan2(o.y,o.x)}if(2===arguments.length){var a=arguments[0],c=arguments[1];return Math.atan2(c.y-a.y,c.x-a.x)}},fn.isAcute=function(o,a,c){return(o.x-a.x)*(c.x-a.x)+(o.y-a.y)*(c.y-a.y)>0},fn.isObtuse=function(o,a,c){return(o.x-a.x)*(c.x-a.x)+(o.y-a.y)*(c.y-a.y)<0},fn.interiorAngle=function(o,a,c){var h=fn.angle(a,o),m=fn.angle(a,c);return Math.abs(m-h)},fn.normalizePositive=function(o){if(o<0){for(;o<0;)o+=fn.PI_TIMES_2;o>=fn.PI_TIMES_2&&(o=0)}else{for(;o>=fn.PI_TIMES_2;)o-=fn.PI_TIMES_2;o<0&&(o=0)}return o},fn.angleBetween=function(o,a,c){var h=fn.angle(a,o),m=fn.angle(a,c);return fn.diff(h,m)},fn.diff=function(o,a){var c=null;return(c=o<a?a-o:o-a)>Math.PI&&(c=2*Math.PI-c),c},fn.toRadians=function(o){return o*Math.PI/180},fn.getTurn=function(o,a){var c=Math.sin(a-o);return c>0?fn.COUNTERCLOCKWISE:c<0?fn.CLOCKWISE:fn.NONE},fn.angleBetweenOriented=function(o,a,c){var h=fn.angle(a,o),m=fn.angle(a,c)-h;return m<=-Math.PI?m+fn.PI_TIMES_2:m>Math.PI?m-fn.PI_TIMES_2:m},Qo.PI_TIMES_2.get=function(){return 2*Math.PI},Qo.PI_OVER_2.get=function(){return Math.PI/2},Qo.PI_OVER_4.get=function(){return Math.PI/4},Qo.COUNTERCLOCKWISE.get=function(){return le.COUNTERCLOCKWISE},Qo.CLOCKWISE.get=function(){return le.CLOCKWISE},Qo.NONE.get=function(){return le.COLLINEAR},Object.defineProperties(fn,Qo);var sr=function o(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new _e,this._seg1=new _e,this._offset0=new _e,this._offset1=new _e,this._side=0,this._hasNarrowConcaveAngle=!1;var c=arguments[1],h=arguments[2];this._precisionModel=arguments[0],this._bufParams=c,this._li=new fo,this._filletAngleQuantum=Math.PI/2/c.getQuadrantSegments(),c.getQuadrantSegments()>=8&&c.getJoinStyle()===Mn.JOIN_ROUND&&(this._closingSegLengthFactor=o.MAX_CLOSING_SEG_LEN_FACTOR),this.init(h)},Gu={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};sr.prototype.addNextSegment=function(o,a){if(this._s0=this._s1,this._s1=this._s2,this._s2=o,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var c=le.computeOrientation(this._s0,this._s1,this._s2),h=c===le.CLOCKWISE&&this._side===Wt.LEFT||c===le.COUNTERCLOCKWISE&&this._side===Wt.RIGHT;0===c?this.addCollinear(a):h?this.addOutsideTurn(c,a):this.addInsideTurn(c,a)},sr.prototype.addLineEndCap=function(o,a){var c=new _e(o,a),h=new _e;this.computeOffsetSegment(c,Wt.LEFT,this._distance,h);var m=new _e;this.computeOffsetSegment(c,Wt.RIGHT,this._distance,m);var N=Math.atan2(a.y-o.y,a.x-o.x);switch(this._bufParams.getEndCapStyle()){case Mn.CAP_ROUND:this._segList.addPt(h.p1),this.addFilletArc(a,N+Math.PI/2,N-Math.PI/2,le.CLOCKWISE,this._distance),this._segList.addPt(m.p1);break;case Mn.CAP_FLAT:this._segList.addPt(h.p1),this._segList.addPt(m.p1);break;case Mn.CAP_SQUARE:var Q=new T;Q.x=Math.abs(this._distance)*Math.cos(N),Q.y=Math.abs(this._distance)*Math.sin(N);var Et=new T(h.p1.x+Q.x,h.p1.y+Q.y),Vt=new T(m.p1.x+Q.x,m.p1.y+Q.y);this._segList.addPt(Et),this._segList.addPt(Vt)}},sr.prototype.getCoordinates=function(){return this._segList.getCoordinates()},sr.prototype.addMitreJoin=function(o,a,c,h){var m=!0,E=null;try{E=me.intersection(a.p0,a.p1,c.p0,c.p1),(h<=0?1:E.distance(o)/Math.abs(h))>this._bufParams.getMitreLimit()&&(m=!1)}catch(D){if(!(D instanceof De))throw D;E=new T(0,0),m=!1}m?this._segList.addPt(E):this.addLimitedMitreJoin(a,c,h,this._bufParams.getMitreLimit())},sr.prototype.addFilletCorner=function(o,a,c,h,m){var N=Math.atan2(a.y-o.y,a.x-o.x),Vt=Math.atan2(c.y-o.y,c.x-o.x);h===le.CLOCKWISE?N<=Vt&&(N+=2*Math.PI):N>=Vt&&(N-=2*Math.PI),this._segList.addPt(a),this.addFilletArc(o,N,Vt,h,m),this._segList.addPt(c)},sr.prototype.addOutsideTurn=function(o,a){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*sr.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Mn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Mn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(a&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,o,this._distance),this._segList.addPt(this._offset1.p0))},sr.prototype.createSquare=function(o){this._segList.addPt(new T(o.x+this._distance,o.y+this._distance)),this._segList.addPt(new T(o.x+this._distance,o.y-this._distance)),this._segList.addPt(new T(o.x-this._distance,o.y-this._distance)),this._segList.addPt(new T(o.x-this._distance,o.y+this._distance)),this._segList.closeRing()},sr.prototype.addSegments=function(o,a){this._segList.addPts(o,a)},sr.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},sr.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},sr.prototype.initSideSegments=function(o,a,c){this._s1=o,this._s2=a,this._side=c,this._seg1.setCoordinates(o,a),this.computeOffsetSegment(this._seg1,c,this._distance,this._offset1)},sr.prototype.addLimitedMitreJoin=function(o,a,c,h){var m=this._seg0.p1,E=fn.angle(m,this._seg0.p0),D=fn.angleBetweenOriented(this._seg0.p0,m,this._seg1.p1)/2,N=fn.normalize(E+D),Q=fn.normalize(N+Math.PI),Et=h*c,Vt=c-Et*Math.abs(Math.sin(D)),zt=m.x+Et*Math.cos(Q),ae=m.y+Et*Math.sin(Q),he=new T(zt,ae),Ce=new _e(m,he),Be=Ce.pointAlongOffset(1,Vt),hr=Ce.pointAlongOffset(1,-Vt);this._side===Wt.LEFT?(this._segList.addPt(Be),this._segList.addPt(hr)):(this._segList.addPt(hr),this._segList.addPt(Be))},sr.prototype.computeOffsetSegment=function(o,a,c,h){var m=a===Wt.LEFT?1:-1,E=o.p1.x-o.p0.x,D=o.p1.y-o.p0.y,N=Math.sqrt(E*E+D*D),Q=m*c*E/N,Et=m*c*D/N;h.p0.x=o.p0.x-Et,h.p0.y=o.p0.y+Q,h.p1.x=o.p1.x-Et,h.p1.y=o.p1.y+Q},sr.prototype.addFilletArc=function(o,a,c,h,m){var E=h===le.CLOCKWISE?-1:1,D=Math.abs(a-c),N=Math.trunc(D/this._filletAngleQuantum+.5);if(N<1)return null;for(var Q=D/N,Et=0,Vt=new T;Et<D;){var zt=a+E*Et;Vt.x=o.x+m*Math.cos(zt),Vt.y=o.y+m*Math.sin(zt),this._segList.addPt(Vt),Et+=Q}},sr.prototype.addInsideTurn=function(o,a){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*sr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var c=new T((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(c);var h=new T((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(h)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},sr.prototype.createCircle=function(o){var a=new T(o.x+this._distance,o.y);this._segList.addPt(a),this.addFilletArc(o,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},sr.prototype.addBevelJoin=function(o,a){this._segList.addPt(o.p1),this._segList.addPt(a.p0)},sr.prototype.init=function(o){this._distance=o,this._maxCurveSegmentError=o*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new so,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(o*sr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},sr.prototype.addCollinear=function(o){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Mn.JOIN_BEVEL||this._bufParams.getJoinStyle()===Mn.JOIN_MITRE?(o&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,le.CLOCKWISE,this._distance))},sr.prototype.closeRing=function(){this._segList.closeRing()},sr.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr},Gu.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Gu.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Gu.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Gu.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(sr,Gu);var Si=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var a=arguments[1];this._precisionModel=arguments[0],this._bufParams=a};Si.prototype.getOffsetCurve=function(o,a){if(this._distance=a,0===a)return null;var c=a<0,h=Math.abs(a),m=this.getSegGen(h);o.length<=1?this.computePointCurve(o[0],m):this.computeOffsetCurve(o,c,m);var E=m.getCoordinates();return c&&se.reverse(E),E},Si.prototype.computeSingleSidedBufferCurve=function(o,a,c){var h=this.simplifyTolerance(this._distance);if(a){c.addSegments(o,!0);var m=Sr.simplify(o,-h),E=m.length-1;c.initSideSegments(m[E],m[E-1],Wt.LEFT),c.addFirstSegment();for(var D=E-2;D>=0;D--)c.addNextSegment(m[D],!0)}else{c.addSegments(o,!1);var N=Sr.simplify(o,h),Q=N.length-1;c.initSideSegments(N[0],N[1],Wt.LEFT),c.addFirstSegment();for(var Et=2;Et<=Q;Et++)c.addNextSegment(N[Et],!0)}c.addLastSegment(),c.closeRing()},Si.prototype.computeRingBufferCurve=function(o,a,c){var h=this.simplifyTolerance(this._distance);a===Wt.RIGHT&&(h=-h);var m=Sr.simplify(o,h),E=m.length-1;c.initSideSegments(m[E-1],m[0],a);for(var D=1;D<=E;D++)c.addNextSegment(m[D],1!==D);c.closeRing()},Si.prototype.computeLineBufferCurve=function(o,a){var c=this.simplifyTolerance(this._distance),h=Sr.simplify(o,c),m=h.length-1;a.initSideSegments(h[0],h[1],Wt.LEFT);for(var E=2;E<=m;E++)a.addNextSegment(h[E],!0);a.addLastSegment(),a.addLineEndCap(h[m-1],h[m]);var D=Sr.simplify(o,-c),N=D.length-1;a.initSideSegments(D[N],D[N-1],Wt.LEFT);for(var Q=N-2;Q>=0;Q--)a.addNextSegment(D[Q],!0);a.addLastSegment(),a.addLineEndCap(D[1],D[0]),a.closeRing()},Si.prototype.computePointCurve=function(o,a){switch(this._bufParams.getEndCapStyle()){case Mn.CAP_ROUND:a.createCircle(o);break;case Mn.CAP_SQUARE:a.createSquare(o)}},Si.prototype.getLineCurve=function(o,a){if(this._distance=a,a<0&&!this._bufParams.isSingleSided()||0===a)return null;var c=Math.abs(a),h=this.getSegGen(c);return o.length<=1?this.computePointCurve(o[0],h):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(o,a<0,h):this.computeLineBufferCurve(o,h),h.getCoordinates()},Si.prototype.getBufferParameters=function(){return this._bufParams},Si.prototype.simplifyTolerance=function(o){return o*this._bufParams.getSimplifyFactor()},Si.prototype.getRingCurve=function(o,a,c){if(this._distance=c,o.length<=2)return this.getLineCurve(o,c);if(0===c)return Si.copyCoordinates(o);var h=this.getSegGen(c);return this.computeRingBufferCurve(o,a,h),h.getCoordinates()},Si.prototype.computeOffsetCurve=function(o,a,c){var h=this.simplifyTolerance(this._distance);if(a){var m=Sr.simplify(o,-h),E=m.length-1;c.initSideSegments(m[E],m[E-1],Wt.LEFT),c.addFirstSegment();for(var D=E-2;D>=0;D--)c.addNextSegment(m[D],!0)}else{var N=Sr.simplify(o,h),Q=N.length-1;c.initSideSegments(N[0],N[1],Wt.LEFT),c.addFirstSegment();for(var Et=2;Et<=Q;Et++)c.addNextSegment(N[Et],!0)}c.addLastSegment()},Si.prototype.getSegGen=function(o){return new sr(this._precisionModel,this._bufParams,o)},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si},Si.copyCoordinates=function(o){for(var a=new Array(o.length).fill(null),c=0;c<a.length;c++)a[c]=new T(o[c]);return a};var Qi=function(){this._subgraphs=null,this._seg=new _e,this._cga=new le,this._subgraphs=arguments[0]},Bl={DepthSegment:{configurable:!0}};Qi.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var o=arguments[0],a=new mt,c=this._subgraphs.iterator();c.hasNext();){var h=c.next(),m=h.getEnvelope();o.y<m.getMinY()||o.y>m.getMaxY()||this.findStabbedSegments(o,h.getDirectedEdges(),a)}return a}if(3===arguments.length)if(Bt(arguments[2],de)&&arguments[0]instanceof T&&arguments[1]instanceof Uu){for(var E=arguments[0],D=arguments[1],N=arguments[2],Q=D.getEdge().getCoordinates(),Et=0;Et<Q.length-1;Et++)if(this._seg.p0=Q[Et],this._seg.p1=Q[Et+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<E.x||this._seg.isHorizontal()||E.y<this._seg.p0.y||E.y>this._seg.p1.y||le.computeOrientation(this._seg.p0,this._seg.p1,E)===le.RIGHT)){var Vt=D.getDepth(Wt.LEFT);this._seg.p0.equals(Q[Et])||(Vt=D.getDepth(Wt.RIGHT));var zt=new Go(this._seg,Vt);N.add(zt)}}else if(Bt(arguments[2],de)&&arguments[0]instanceof T&&Bt(arguments[1],de))for(var ae=arguments[0],Ce=arguments[2],Be=arguments[1].iterator();Be.hasNext();){var hr=Be.next();hr.isForward()&&this.findStabbedSegments(ae,hr,Ce)}},Qi.prototype.getDepth=function(o){var a=this.findStabbedSegments(o);return 0===a.size()?0:Oe.min(a)._leftDepth},Qi.prototype.interfaces_=function(){return[]},Qi.prototype.getClass=function(){return Qi},Bl.DepthSegment.get=function(){return Go},Object.defineProperties(Qi,Bl);var Go=function(){this._upwardSeg=null,this._leftDepth=null;var a=arguments[1];this._upwardSeg=new _e(arguments[0]),this._leftDepth=a};Go.prototype.compareTo=function(o){var a=o;if(this._upwardSeg.minX()>=a._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=a._upwardSeg.minX())return-1;var c=this._upwardSeg.orientationIndex(a._upwardSeg);return 0!==c||0!=(c=-1*a._upwardSeg.orientationIndex(this._upwardSeg))?c:this._upwardSeg.compareTo(a._upwardSeg)},Go.prototype.compareX=function(o,a){var c=o.p0.compareTo(a.p0);return 0!==c?c:o.p1.compareTo(a.p1)},Go.prototype.toString=function(){return this._upwardSeg.toString()},Go.prototype.interfaces_=function(){return[V]},Go.prototype.getClass=function(){return Go};var wn=function(o,a,c){this.p0=o||null,this.p1=a||null,this.p2=c||null};wn.prototype.area=function(){return wn.area(this.p0,this.p1,this.p2)},wn.prototype.signedArea=function(){return wn.signedArea(this.p0,this.p1,this.p2)},wn.prototype.interpolateZ=function(o){if(null===o)throw new H("Supplied point is null.");return wn.interpolateZ(o,this.p0,this.p1,this.p2)},wn.prototype.longestSideLength=function(){return wn.longestSideLength(this.p0,this.p1,this.p2)},wn.prototype.isAcute=function(){return wn.isAcute(this.p0,this.p1,this.p2)},wn.prototype.circumcentre=function(){return wn.circumcentre(this.p0,this.p1,this.p2)},wn.prototype.area3D=function(){return wn.area3D(this.p0,this.p1,this.p2)},wn.prototype.centroid=function(){return wn.centroid(this.p0,this.p1,this.p2)},wn.prototype.inCentre=function(){return wn.inCentre(this.p0,this.p1,this.p2)},wn.prototype.interfaces_=function(){return[]},wn.prototype.getClass=function(){return wn},wn.area=function(o,a,c){return Math.abs(((c.x-o.x)*(a.y-o.y)-(a.x-o.x)*(c.y-o.y))/2)},wn.signedArea=function(o,a,c){return((c.x-o.x)*(a.y-o.y)-(a.x-o.x)*(c.y-o.y))/2},wn.det=function(o,a,c,h){return o*h-a*c},wn.interpolateZ=function(o,a,c,h){var m=a.x,E=a.y,D=c.x-m,N=h.x-m,Q=c.y-E,Et=h.y-E,Vt=D*Et-N*Q,zt=o.x-m,ae=o.y-E;return a.z+(Et*zt-N*ae)/Vt*(c.z-a.z)+(-Q*zt+D*ae)/Vt*(h.z-a.z)},wn.longestSideLength=function(o,a,c){var h=o.distance(a),m=a.distance(c),E=c.distance(o),D=h;return m>D&&(D=m),E>D&&(D=E),D},wn.isAcute=function(o,a,c){return!!fn.isAcute(o,a,c)&&!!fn.isAcute(a,c,o)&&!!fn.isAcute(c,o,a)},wn.circumcentre=function(o,a,c){var h=c.x,m=c.y,E=o.x-h,D=o.y-m,N=a.x-h,Q=a.y-m,Et=2*wn.det(E,D,N,Q),Vt=wn.det(D,E*E+D*D,Q,N*N+Q*Q),zt=wn.det(E,E*E+D*D,N,N*N+Q*Q);return new T(h-Vt/Et,m+zt/Et)},wn.perpendicularBisector=function(o,a){var c=a.x-o.x,h=a.y-o.y,m=new me(o.x+c/2,o.y+h/2,1),E=new me(o.x-h+c/2,o.y+c+h/2,1);return new me(m,E)},wn.angleBisector=function(o,a,c){var h=a.distance(o),m=h/(h+a.distance(c));return new T(o.x+m*(c.x-o.x),o.y+m*(c.y-o.y))},wn.area3D=function(o,a,c){var h=a.x-o.x,m=a.y-o.y,E=a.z-o.z,D=c.x-o.x,N=c.y-o.y,Q=c.z-o.z,Et=m*Q-E*N,Vt=E*D-h*Q,zt=h*N-m*D;return Math.sqrt(Et*Et+Vt*Vt+zt*zt)/2},wn.centroid=function(o,a,c){return new T((o.x+a.x+c.x)/3,(o.y+a.y+c.y)/3)},wn.inCentre=function(o,a,c){var h=a.distance(c),m=o.distance(c),E=o.distance(a),D=h+m+E;return new T((h*o.x+m*a.x+E*c.x)/D,(h*o.y+m*a.y+E*c.y)/D)};var Vi=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new mt;var a=arguments[1],c=arguments[2];this._inputGeom=arguments[0],this._distance=a,this._curveBuilder=c};Vi.prototype.addPoint=function(o){if(this._distance<=0)return null;var a=o.getCoordinates(),c=this._curveBuilder.getLineCurve(a,this._distance);this.addCurve(c,W.EXTERIOR,W.INTERIOR)},Vi.prototype.addPolygon=function(o){var a=this._distance,c=Wt.LEFT;this._distance<0&&(a=-this._distance,c=Wt.RIGHT);var h=o.getExteriorRing(),m=se.removeRepeatedPoints(h.getCoordinates());if(this._distance<0&&this.isErodedCompletely(h,this._distance)||this._distance<=0&&m.length<3)return null;this.addPolygonRing(m,a,c,W.EXTERIOR,W.INTERIOR);for(var E=0;E<o.getNumInteriorRing();E++){var D=o.getInteriorRingN(E),N=se.removeRepeatedPoints(D.getCoordinates());this._distance>0&&this.isErodedCompletely(D,-this._distance)||this.addPolygonRing(N,a,Wt.opposite(c),W.INTERIOR,W.EXTERIOR)}},Vi.prototype.isTriangleErodedCompletely=function(o,a){var c=new wn(o[0],o[1],o[2]),h=c.inCentre();return le.distancePointLine(h,c.p0,c.p1)<Math.abs(a)},Vi.prototype.addLineString=function(o){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var a=se.removeRepeatedPoints(o.getCoordinates()),c=this._curveBuilder.getLineCurve(a,this._distance);this.addCurve(c,W.EXTERIOR,W.INTERIOR)},Vi.prototype.addCurve=function(o,a,c){if(null===o||o.length<2)return null;var h=new Br(o,new gn(0,W.BOUNDARY,a,c));this._curveList.add(h)},Vi.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Vi.prototype.addPolygonRing=function(o,a,c,h,m){if(0===a&&o.length<ps.MINIMUM_VALID_SIZE)return null;var E=h,D=m;o.length>=ps.MINIMUM_VALID_SIZE&&le.isCCW(o)&&(E=m,D=h,c=Wt.opposite(c));var N=this._curveBuilder.getRingCurve(o,c,a);this.addCurve(N,E,D)},Vi.prototype.add=function(o){if(o.isEmpty())return null;o instanceof Xr?this.addPolygon(o):o instanceof Hr?this.addLineString(o):o instanceof ro?this.addPoint(o):(o instanceof Ns||o instanceof hs||o instanceof So||o instanceof wr)&&this.addCollection(o)},Vi.prototype.isErodedCompletely=function(o,a){var c=o.getCoordinates();if(c.length<4)return a<0;if(4===c.length)return this.isTriangleErodedCompletely(c,a);var h=o.getEnvelopeInternal(),m=Math.min(h.getHeight(),h.getWidth());return a<0&&2*Math.abs(a)>m},Vi.prototype.addCollection=function(o){for(var a=0;a<o.getNumGeometries();a++){var c=o.getGeometryN(a);this.add(c)}},Vi.prototype.interfaces_=function(){return[]},Vi.prototype.getClass=function(){return Vi};var pa=function(){};pa.prototype.locate=function(o){},pa.prototype.interfaces_=function(){return[]},pa.prototype.getClass=function(){return pa};var ms=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var o=arguments[0];this._parent=o,this._atStart=!0,this._index=0,this._max=o.getNumGeometries()};ms.prototype.next=function(){if(this._atStart)return this._atStart=!1,ms.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new ct;var o=this._parent.getGeometryN(this._index++);return o instanceof wr?(this._subcollectionIterator=new ms(o),this._subcollectionIterator.next()):o},ms.prototype.remove=function(){throw new Error(this.getClass().getName())},ms.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},ms.prototype.interfaces_=function(){return[qt]},ms.prototype.getClass=function(){return ms},ms.isAtomic=function(o){return!(o instanceof wr)};var go=function(){this._geom=null,this._geom=arguments[0]};go.prototype.locate=function(o){return go.locate(o,this._geom)},go.prototype.interfaces_=function(){return[pa]},go.prototype.getClass=function(){return go},go.isPointInRing=function(o,a){return!!a.getEnvelopeInternal().intersects(o)&&le.isPointInRing(o,a.getCoordinates())},go.containsPointInPolygon=function(o,a){if(a.isEmpty())return!1;var c=a.getExteriorRing();if(!go.isPointInRing(o,c))return!1;for(var h=0;h<a.getNumInteriorRing();h++){var m=a.getInteriorRingN(h);if(go.isPointInRing(o,m))return!1}return!0},go.containsPoint=function(o,a){if(a instanceof Xr)return go.containsPointInPolygon(o,a);if(a instanceof wr)for(var c=new ms(a);c.hasNext();){var h=c.next();if(h!==a&&go.containsPoint(o,h))return!0}return!1},go.locate=function(o,a){return a.isEmpty()?W.EXTERIOR:go.containsPoint(o,a)?W.INTERIOR:W.EXTERIOR};var _i=function(){this._edgeMap=new Rt,this._edgeList=null,this._ptInAreaLocation=[W.NONE,W.NONE]};_i.prototype.getNextCW=function(o){this.getEdges();var a=this._edgeList.indexOf(o),c=a-1;return 0===a&&(c=this._edgeList.size()-1),this._edgeList.get(c)},_i.prototype.propagateSideLabels=function(o){for(var a=W.NONE,c=this.iterator();c.hasNext();){var h=c.next().getLabel();h.isArea(o)&&h.getLocation(o,Wt.LEFT)!==W.NONE&&(a=h.getLocation(o,Wt.LEFT))}if(a===W.NONE)return null;for(var m=a,E=this.iterator();E.hasNext();){var D=E.next(),N=D.getLabel();if(N.getLocation(o,Wt.ON)===W.NONE&&N.setLocation(o,Wt.ON,m),N.isArea(o)){var Q=N.getLocation(o,Wt.LEFT),Et=N.getLocation(o,Wt.RIGHT);if(Et!==W.NONE){if(Et!==m)throw new Mo("side location conflict",D.getCoordinate());Q===W.NONE&&Ue.shouldNeverReachHere("found single null side (at "+D.getCoordinate()+")"),m=Q}else Ue.isTrue(N.getLocation(o,Wt.LEFT)===W.NONE,"found single null side"),N.setLocation(o,Wt.RIGHT,m),N.setLocation(o,Wt.LEFT,m)}}},_i.prototype.getCoordinate=function(){var o=this.iterator();return o.hasNext()?o.next().getCoordinate():null},_i.prototype.print=function(o){re.out.println("EdgeEndStar:   "+this.getCoordinate());for(var a=this.iterator();a.hasNext();)a.next().print(o)},_i.prototype.isAreaLabelsConsistent=function(o){return this.computeEdgeEndLabels(o.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},_i.prototype.checkAreaLabelsConsistent=function(o){var a=this.getEdges();if(a.size()<=0)return!0;var c=a.size()-1,h=a.get(c).getLabel().getLocation(o,Wt.LEFT);Ue.isTrue(h!==W.NONE,"Found unlabelled area edge");for(var m=h,E=this.iterator();E.hasNext();){var D=E.next().getLabel();Ue.isTrue(D.isArea(o),"Found non-area edge");var N=D.getLocation(o,Wt.LEFT),Q=D.getLocation(o,Wt.RIGHT);if(N===Q||Q!==m)return!1;m=N}return!0},_i.prototype.findIndex=function(o){this.iterator();for(var a=0;a<this._edgeList.size();a++)if(this._edgeList.get(a)===o)return a;return-1},_i.prototype.iterator=function(){return this.getEdges().iterator()},_i.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new mt(this._edgeMap.values())),this._edgeList},_i.prototype.getLocation=function(o,a,c){return this._ptInAreaLocation[o]===W.NONE&&(this._ptInAreaLocation[o]=go.locate(a,c[o].getGeometry())),this._ptInAreaLocation[o]},_i.prototype.toString=function(){var o=new it;o.append("EdgeEndStar:   "+this.getCoordinate()),o.append("\n");for(var a=this.iterator();a.hasNext();){var c=a.next();o.append(c),o.append("\n")}return o.toString()},_i.prototype.computeEdgeEndLabels=function(o){for(var a=this.iterator();a.hasNext();)a.next().computeLabel(o)},_i.prototype.computeLabelling=function(o){this.computeEdgeEndLabels(o[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var a=[!1,!1],c=this.iterator();c.hasNext();)for(var h=c.next().getLabel(),m=0;m<2;m++)h.isLine(m)&&h.getLocation(m)===W.BOUNDARY&&(a[m]=!0);for(var E=this.iterator();E.hasNext();)for(var D=E.next(),N=D.getLabel(),Q=0;Q<2;Q++)if(N.isAnyNull(Q)){var Et=W.NONE;if(a[Q])Et=W.EXTERIOR;else{var Vt=D.getCoordinate();Et=this.getLocation(Q,Vt,o)}N.setAllLocationsIfNull(Q,Et)}},_i.prototype.getDegree=function(){return this._edgeMap.size()},_i.prototype.insertEdgeEnd=function(o,a){this._edgeMap.put(o,a),this._edgeList=null},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i};var Za=function(o){function a(){o.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var c=null,h=null,m=this._SCANNING_FOR_INCOMING,E=0;E<this._resultAreaEdgeList.size();E++){var D=this._resultAreaEdgeList.get(E),N=D.getSym();if(D.getLabel().isArea())switch(null===c&&D.isInResult()&&(c=D),m){case this._SCANNING_FOR_INCOMING:if(!N.isInResult())continue;h=N,m=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!D.isInResult())continue;h.setNext(D),m=this._SCANNING_FOR_INCOMING}}if(m===this._LINKING_TO_OUTGOING){if(null===c)throw new Mo("no outgoing dirEdge found",this.getCoordinate());Ue.isTrue(c.isInResult(),"unable to link last incoming dirEdge"),h.setNext(c)}},a.prototype.insert=function(c){this.insertEdgeEnd(c,c)},a.prototype.getRightmostEdge=function(){var c=this.getEdges(),h=c.size();if(h<1)return null;var m=c.get(0);if(1===h)return m;var E=c.get(h-1),D=m.getQuadrant(),N=E.getQuadrant();return on.isNorthern(D)&&on.isNorthern(N)?m:on.isNorthern(D)||on.isNorthern(N)?0!==m.getDy()?m:0!==E.getDy()?E:(Ue.shouldNeverReachHere("found two horizontal edges incident on node"),null):E},a.prototype.print=function(c){re.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var h=this.iterator();h.hasNext();){var m=h.next();c.print("out "),m.print(c),c.println(),c.print("in "),m.getSym().print(c),c.println()}},a.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new mt;for(var c=this.iterator();c.hasNext();){var h=c.next();(h.isInResult()||h.getSym().isInResult())&&this._resultAreaEdgeList.add(h)}return this._resultAreaEdgeList},a.prototype.updateLabelling=function(c){for(var h=this.iterator();h.hasNext();){var m=h.next().getLabel();m.setAllLocationsIfNull(0,c.getLocation(0)),m.setAllLocationsIfNull(1,c.getLocation(1))}},a.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var c=null,h=null,m=this._edgeList.size()-1;m>=0;m--){var E=this._edgeList.get(m),D=E.getSym();null===h&&(h=D),null!==c&&D.setNext(c),c=E}h.setNext(c)},a.prototype.computeDepths=function(){if(1===arguments.length){var c=arguments[0],h=this.findIndex(c),m=c.getDepth(Wt.LEFT),E=c.getDepth(Wt.RIGHT),D=this.computeDepths(h+1,this._edgeList.size(),m);if(this.computeDepths(0,h,D)!==E)throw new Mo("depth mismatch at "+c.getCoordinate())}else if(3===arguments.length){for(var Q=arguments[1],Et=arguments[2],Vt=arguments[0];Vt<Q;Vt++){var zt=this._edgeList.get(Vt);zt.setEdgeDepths(Wt.RIGHT,Et),Et=zt.getDepth(Wt.LEFT)}return Et}},a.prototype.mergeSymLabels=function(){for(var c=this.iterator();c.hasNext();){var h=c.next();h.getLabel().merge(h.getSym().getLabel())}},a.prototype.linkMinimalDirectedEdges=function(c){for(var h=null,m=null,E=this._SCANNING_FOR_INCOMING,D=this._resultAreaEdgeList.size()-1;D>=0;D--){var N=this._resultAreaEdgeList.get(D),Q=N.getSym();switch(null===h&&N.getEdgeRing()===c&&(h=N),E){case this._SCANNING_FOR_INCOMING:if(Q.getEdgeRing()!==c)continue;m=Q,E=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(N.getEdgeRing()!==c)continue;m.setNextMin(N),E=this._SCANNING_FOR_INCOMING}}E===this._LINKING_TO_OUTGOING&&(Ue.isTrue(null!==h,"found null for first outgoing dirEdge"),Ue.isTrue(h.getEdgeRing()===c,"unable to link last incoming dirEdge"),m.setNextMin(h))},a.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var c=0,h=this.iterator();h.hasNext();)h.next().isInResult()&&c++;return c}if(1===arguments.length){for(var m=arguments[0],E=0,D=this.iterator();D.hasNext();)D.next().getEdgeRing()===m&&E++;return E}},a.prototype.getLabel=function(){return this._label},a.prototype.findCoveredLineEdges=function(){for(var c=W.NONE,h=this.iterator();h.hasNext();){var m=h.next(),E=m.getSym();if(!m.isLineEdge()){if(m.isInResult()){c=W.INTERIOR;break}if(E.isInResult()){c=W.EXTERIOR;break}}}if(c===W.NONE)return null;for(var D=c,N=this.iterator();N.hasNext();){var Q=N.next(),Et=Q.getSym();Q.isLineEdge()?Q.getEdge().setCovered(D===W.INTERIOR):(Q.isInResult()&&(D=W.EXTERIOR),Et.isInResult()&&(D=W.INTERIOR))}},a.prototype.computeLabelling=function(c){o.prototype.computeLabelling.call(this,c),this._label=new gn(W.NONE);for(var h=this.iterator();h.hasNext();)for(var m=h.next().getEdge().getLabel(),E=0;E<2;E++){var D=m.getLocation(E);D!==W.INTERIOR&&D!==W.BOUNDARY||this._label.setLocation(E,W.INTERIOR)}},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(_i),Ko=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.createNode=function(c){return new zo(c,new Za)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}($i),wi=function o(){this._pts=null,this._orientation=null;var a=arguments[0];this._pts=a,this._orientation=o.orientation(a)};wi.prototype.compareTo=function(o){return wi.compareOriented(this._pts,this._orientation,o._pts,o._orientation)},wi.prototype.interfaces_=function(){return[V]},wi.prototype.getClass=function(){return wi},wi.orientation=function(o){return 1===se.increasingDirection(o)},wi.compareOriented=function(o,a,c,h){for(var m=a?1:-1,E=h?1:-1,D=a?o.length:-1,N=h?c.length:-1,Q=a?0:o.length-1,Et=h?0:c.length-1;;){var Vt=o[Q].compareTo(c[Et]);if(0!==Vt)return Vt;var zt=(Q+=m)===D,ae=(Et+=E)===N;if(zt&&!ae)return-1;if(!zt&&ae)return 1;if(zt&&ae)return 0}};var jo=function(){this._edges=new mt,this._ocaMap=new Rt};jo.prototype.print=function(o){o.print("MULTILINESTRING ( ");for(var a=0;a<this._edges.size();a++){var c=this._edges.get(a);a>0&&o.print(","),o.print("(");for(var h=c.getCoordinates(),m=0;m<h.length;m++)m>0&&o.print(","),o.print(h[m].x+" "+h[m].y);o.println(")")}o.print(")  ")},jo.prototype.addAll=function(o){for(var a=o.iterator();a.hasNext();)this.add(a.next())},jo.prototype.findEdgeIndex=function(o){for(var a=0;a<this._edges.size();a++)if(this._edges.get(a).equals(o))return a;return-1},jo.prototype.iterator=function(){return this._edges.iterator()},jo.prototype.getEdges=function(){return this._edges},jo.prototype.get=function(o){return this._edges.get(o)},jo.prototype.findEqualEdge=function(o){var a=new wi(o.getCoordinates());return this._ocaMap.get(a)},jo.prototype.add=function(o){this._edges.add(o);var a=new wi(o.getCoordinates());this._ocaMap.put(a,o)},jo.prototype.interfaces_=function(){return[]},jo.prototype.getClass=function(){return jo};var Me=function(){};Me.prototype.processIntersections=function(o,a,c,h){},Me.prototype.isDone=function(){},Me.prototype.interfaces_=function(){return[]},Me.prototype.getClass=function(){return Me};var ao=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};ao.prototype.isTrivialIntersection=function(o,a,c,h){if(o===c&&1===this._li.getIntersectionNum()){if(ao.isAdjacentSegments(a,h))return!0;if(o.isClosed()){var m=o.size()-1;if(0===a&&h===m||0===h&&a===m)return!0}}return!1},ao.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ao.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ao.prototype.getLineIntersector=function(){return this._li},ao.prototype.hasProperIntersection=function(){return this._hasProper},ao.prototype.processIntersections=function(o,a,c,h){if(o===c&&a===h)return null;this.numTests++;var m=o.getCoordinates()[a],E=o.getCoordinates()[a+1],D=c.getCoordinates()[h],N=c.getCoordinates()[h+1];this._li.computeIntersection(m,E,D,N),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(o,a,c,h)||(this._hasIntersection=!0,o.addIntersections(this._li,a,0),c.addIntersections(this._li,h,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},ao.prototype.hasIntersection=function(){return this._hasIntersection},ao.prototype.isDone=function(){return!1},ao.prototype.hasInteriorIntersection=function(){return this._hasInterior},ao.prototype.interfaces_=function(){return[Me]},ao.prototype.getClass=function(){return ao},ao.isAdjacentSegments=function(o,a){return 1===Math.abs(o-a)};var pe=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var a=arguments[1],c=arguments[2];this.coord=new T(arguments[0]),this.segmentIndex=a,this.dist=c};pe.prototype.getSegmentIndex=function(){return this.segmentIndex},pe.prototype.getCoordinate=function(){return this.coord},pe.prototype.print=function(o){o.print(this.coord),o.print(" seg # = "+this.segmentIndex),o.println(" dist = "+this.dist)},pe.prototype.compareTo=function(o){return this.compare(o.segmentIndex,o.dist)},pe.prototype.isEndPoint=function(o){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===o},pe.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},pe.prototype.getDistance=function(){return this.dist},pe.prototype.compare=function(o,a){return this.segmentIndex<o?-1:this.segmentIndex>o?1:this.dist<a?-1:this.dist>a?1:0},pe.prototype.interfaces_=function(){return[V]},pe.prototype.getClass=function(){return pe};var No=function(){this._nodeMap=new Rt,this.edge=null,this.edge=arguments[0]};No.prototype.print=function(o){o.println("Intersections:");for(var a=this.iterator();a.hasNext();)a.next().print(o)},No.prototype.iterator=function(){return this._nodeMap.values().iterator()},No.prototype.addSplitEdges=function(o){this.addEndpoints();for(var a=this.iterator(),c=a.next();a.hasNext();){var h=a.next(),m=this.createSplitEdge(c,h);o.add(m),c=h}},No.prototype.addEndpoints=function(){var o=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[o],o,0)},No.prototype.createSplitEdge=function(o,a){var c=a.segmentIndex-o.segmentIndex+2,m=a.dist>0||!a.coord.equals2D(this.edge.pts[a.segmentIndex]);m||c--;var E=new Array(c).fill(null),D=0;E[D++]=new T(o.coord);for(var N=o.segmentIndex+1;N<=a.segmentIndex;N++)E[D++]=this.edge.pts[N];return m&&(E[D]=a.coord),new ys(E,new gn(this.edge._label))},No.prototype.add=function(o,a,c){var h=new pe(o,a,c),m=this._nodeMap.get(h);return null!==m?m:(this._nodeMap.put(h,h),h)},No.prototype.isIntersection=function(o){for(var a=this.iterator();a.hasNext();)if(a.next().coord.equals(o))return!0;return!1},No.prototype.interfaces_=function(){return[]},No.prototype.getClass=function(){return No};var To=function(){};To.prototype.getChainStartIndices=function(o){var a=0,c=new mt;c.add(new ot(a));do{var h=this.findChainEnd(o,a);c.add(new ot(h)),a=h}while(a<o.length-1);return To.toIntArray(c)},To.prototype.findChainEnd=function(o,a){for(var c=on.quadrant(o[a],o[a+1]),h=a+1;h<o.length&&on.quadrant(o[h-1],o[h])===c;)h++;return h-1},To.prototype.interfaces_=function(){return[]},To.prototype.getClass=function(){return To},To.toIntArray=function(o){for(var a=new Array(o.size()).fill(null),c=0;c<a.length;c++)a[c]=o.get(c).intValue();return a};var mo=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Qt,this.env2=new Qt;var o=arguments[0];this.e=o,this.pts=o.getCoordinates();var a=new To;this.startIndex=a.getChainStartIndices(this.pts)};mo.prototype.getCoordinates=function(){return this.pts},mo.prototype.getMaxX=function(o){var a=this.pts[this.startIndex[o]].x,c=this.pts[this.startIndex[o+1]].x;return a>c?a:c},mo.prototype.getMinX=function(o){var a=this.pts[this.startIndex[o]].x,c=this.pts[this.startIndex[o+1]].x;return a<c?a:c},mo.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var o=arguments[0],a=arguments[1],c=arguments[2];this.computeIntersectsForChain(this.startIndex[o],this.startIndex[o+1],a,a.startIndex[c],a.startIndex[c+1],arguments[3])}else if(6===arguments.length){var m=arguments[0],E=arguments[1],D=arguments[2],N=arguments[3],Q=arguments[4],Et=arguments[5],Vt=this.pts[m],zt=this.pts[E],ae=D.pts[N],he=D.pts[Q];if(E-m==1&&Q-N==1)return Et.addIntersections(this.e,m,D.e,N),null;if(this.env1.init(Vt,zt),this.env2.init(ae,he),!this.env1.intersects(this.env2))return null;var Ce=Math.trunc((m+E)/2),Be=Math.trunc((N+Q)/2);m<Ce&&(N<Be&&this.computeIntersectsForChain(m,Ce,D,N,Be,Et),Be<Q&&this.computeIntersectsForChain(m,Ce,D,Be,Q,Et)),Ce<E&&(N<Be&&this.computeIntersectsForChain(Ce,E,D,N,Be,Et),Be<Q&&this.computeIntersectsForChain(Ce,E,D,Be,Q,Et))}},mo.prototype.getStartIndexes=function(){return this.startIndex},mo.prototype.computeIntersects=function(o,a){for(var c=0;c<this.startIndex.length-1;c++)for(var h=0;h<o.startIndex.length-1;h++)this.computeIntersectsForChain(c,o,h,a)},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo};var ri=function o(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var a=0;a<2;a++)for(var c=0;c<3;c++)this._depth[a][c]=o.NULL_VALUE},Vl={NULL_VALUE:{configurable:!0}};ri.prototype.getDepth=function(o,a){return this._depth[o][a]},ri.prototype.setDepth=function(o,a,c){this._depth[o][a]=c},ri.prototype.isNull=function(){if(0===arguments.length){for(var o=0;o<2;o++)for(var a=0;a<3;a++)if(this._depth[o][a]!==ri.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===ri.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===ri.NULL_VALUE:void 0},ri.prototype.normalize=function(){for(var o=0;o<2;o++)if(!this.isNull(o)){var a=this._depth[o][1];this._depth[o][2]<a&&(a=this._depth[o][2]),a<0&&(a=0);for(var c=1;c<3;c++){var h=0;this._depth[o][c]>a&&(h=1),this._depth[o][c]=h}}},ri.prototype.getDelta=function(o){return this._depth[o][Wt.RIGHT]-this._depth[o][Wt.LEFT]},ri.prototype.getLocation=function(o,a){return this._depth[o][a]<=0?W.EXTERIOR:W.INTERIOR},ri.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},ri.prototype.add=function(){if(1===arguments.length)for(var o=arguments[0],a=0;a<2;a++)for(var c=1;c<3;c++){var h=o.getLocation(a,c);h!==W.EXTERIOR&&h!==W.INTERIOR||(this.isNull(a,c)?this._depth[a][c]=ri.depthAtLocation(h):this._depth[a][c]+=ri.depthAtLocation(h))}else 3===arguments.length&&arguments[2]===W.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},ri.prototype.interfaces_=function(){return[]},ri.prototype.getClass=function(){return ri},ri.depthAtLocation=function(o){return o===W.EXTERIOR?0:o===W.INTERIOR?1:ri.NULL_VALUE},Vl.NULL_VALUE.get=function(){return-1},Object.defineProperties(ri,Vl);var ys=function(o){function a(){if(o.call(this),this.pts=null,this._env=null,this.eiList=new No(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ri,this._depthDelta=0,1===arguments.length)a.call(this,arguments[0],null);else if(2===arguments.length){var m=arguments[1];this.pts=arguments[0],this._label=m}}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.getDepth=function(){return this._depth},a.prototype.getCollapsedEdge=function(){var c=new Array(2).fill(null);return c[0]=this.pts[0],c[1]=this.pts[1],new a(c,gn.toLineLabel(this._label))},a.prototype.isIsolated=function(){return this._isIsolated},a.prototype.getCoordinates=function(){return this.pts},a.prototype.setIsolated=function(c){this._isIsolated=c},a.prototype.setName=function(c){this._name=c},a.prototype.equals=function(c){if(!(c instanceof a))return!1;var h=c;if(this.pts.length!==h.pts.length)return!1;for(var m=!0,E=!0,D=this.pts.length,N=0;N<this.pts.length;N++)if(this.pts[N].equals2D(h.pts[N])||(m=!1),this.pts[N].equals2D(h.pts[--D])||(E=!1),!m&&!E)return!1;return!0},a.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},a.prototype.print=function(c){c.print("edge "+this._name+": "),c.print("LINESTRING (");for(var h=0;h<this.pts.length;h++)h>0&&c.print(","),c.print(this.pts[h].x+" "+this.pts[h].y);c.print(")  "+this._label+" "+this._depthDelta)},a.prototype.computeIM=function(c){a.updateIM(this._label,c)},a.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},a.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},a.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},a.prototype.getDepthDelta=function(){return this._depthDelta},a.prototype.getNumPoints=function(){return this.pts.length},a.prototype.printReverse=function(c){c.print("edge "+this._name+": ");for(var h=this.pts.length-1;h>=0;h--)c.print(this.pts[h]+" ");c.println("")},a.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new mo(this)),this._mce},a.prototype.getEnvelope=function(){if(null===this._env){this._env=new Qt;for(var c=0;c<this.pts.length;c++)this._env.expandToInclude(this.pts[c])}return this._env},a.prototype.addIntersection=function(c,h,m,E){var D=new T(c.getIntersection(E)),N=h,Q=c.getEdgeDistance(m,E),Et=N+1;Et<this.pts.length&&D.equals2D(this.pts[Et])&&(N=Et,Q=0),this.eiList.add(D,N,Q)},a.prototype.toString=function(){var c=new it;c.append("edge "+this._name+": "),c.append("LINESTRING (");for(var h=0;h<this.pts.length;h++)h>0&&c.append(","),c.append(this.pts[h].x+" "+this.pts[h].y);return c.append(")  "+this._label+" "+this._depthDelta),c.toString()},a.prototype.isPointwiseEqual=function(c){if(this.pts.length!==c.pts.length)return!1;for(var h=0;h<this.pts.length;h++)if(!this.pts[h].equals2D(c.pts[h]))return!1;return!0},a.prototype.setDepthDelta=function(c){this._depthDelta=c},a.prototype.getEdgeIntersectionList=function(){return this.eiList},a.prototype.addIntersections=function(c,h,m){for(var E=0;E<c.getIntersectionNum();E++)this.addIntersection(c,h,m,E)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.updateIM=function(){if(2!==arguments.length)return o.prototype.updateIM.apply(this,arguments);var c=arguments[0],h=arguments[1];h.setAtLeastIfValid(c.getLocation(0,Wt.ON),c.getLocation(1,Wt.ON),1),c.isArea()&&(h.setAtLeastIfValid(c.getLocation(0,Wt.LEFT),c.getLocation(1,Wt.LEFT),2),h.setAtLeastIfValid(c.getLocation(0,Wt.RIGHT),c.getLocation(1,Wt.RIGHT),2))},a}(je),Er=function(o){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new jo,this._bufParams=o||null};Er.prototype.setWorkingPrecisionModel=function(o){this._workingPrecisionModel=o},Er.prototype.insertUniqueEdge=function(o){var a=this._edgeList.findEqualEdge(o);if(null!==a){var c=a.getLabel(),h=o.getLabel();a.isPointwiseEqual(o)||(h=new gn(o.getLabel())).flip(),c.merge(h);var m=Er.depthDelta(h),E=a.getDepthDelta()+m;a.setDepthDelta(E)}else this._edgeList.add(o),o.setDepthDelta(Er.depthDelta(o.getLabel()))},Er.prototype.buildSubgraphs=function(o,a){for(var c=new mt,h=o.iterator();h.hasNext();){var m=h.next(),E=m.getRightmostCoordinate(),D=new Qi(c).getDepth(E);m.computeDepth(D),m.findResultEdges(),c.add(m),a.add(m.getDirectedEdges(),m.getNodes())}},Er.prototype.createSubgraphs=function(o){for(var a=new mt,c=o.getNodes().iterator();c.hasNext();){var h=c.next();if(!h.isVisited()){var m=new mi;m.create(h),a.add(m)}}return Oe.sort(a,Oe.reverseOrder()),a},Er.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Er.prototype.getNoder=function(o){if(null!==this._workingNoder)return this._workingNoder;var a=new br,c=new fo;return c.setPrecisionModel(o),a.setSegmentIntersector(new ao(c)),a},Er.prototype.buffer=function(o,a){var c=this._workingPrecisionModel;null===c&&(c=o.getPrecisionModel()),this._geomFact=o.getFactory();var h=new Si(c,this._bufParams),m=new Vi(o,a,h).getCurves();if(m.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(m,c),this._graph=new Ir(new Ko),this._graph.addEdges(this._edgeList.getEdges());var E=this.createSubgraphs(this._graph),D=new Fi(this._geomFact);this.buildSubgraphs(E,D);var N=D.getPolygons();return N.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(N)},Er.prototype.computeNodedEdges=function(o,a){var c=this.getNoder(a);c.computeNodes(o);for(var h=c.getNodedSubstrings().iterator();h.hasNext();){var m=h.next(),E=m.getCoordinates();if(2!==E.length||!E[0].equals2D(E[1])){var D=m.getData(),N=new ys(m.getCoordinates(),new gn(D));this.insertUniqueEdge(N)}}},Er.prototype.setNoder=function(o){this._workingNoder=o},Er.prototype.interfaces_=function(){return[]},Er.prototype.getClass=function(){return Er},Er.depthDelta=function(o){var a=o.getLocation(0,Wt.LEFT),c=o.getLocation(0,Wt.RIGHT);return a===W.INTERIOR&&c===W.EXTERIOR?1:a===W.EXTERIOR&&c===W.INTERIOR?-1:0},Er.convertSegStrings=function(o){for(var a=new Ne,c=new mt;o.hasNext();){var h=o.next(),m=a.createLineString(h.getCoordinates());c.add(m)}return a.buildGeometry(c)};var Jo=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var a=arguments[1];this._noder=arguments[0],this._scaleFactor=a,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var h=arguments[1],m=arguments[2],E=arguments[3];this._noder=arguments[0],this._scaleFactor=h,this._offsetX=m,this._offsetY=E,this._isScaled=!this.isIntegerPrecision()}};Jo.prototype.rescale=function(){if(Bt(arguments[0],Ht))for(var o=arguments[0].iterator();o.hasNext();){var a=o.next();this.rescale(a.getCoordinates())}else if(arguments[0]instanceof Array){for(var c=arguments[0],h=0;h<c.length;h++)c[h].x=c[h].x/this._scaleFactor+this._offsetX,c[h].y=c[h].y/this._scaleFactor+this._offsetY;2===c.length&&c[0].equals2D(c[1])&&re.out.println(c)}},Jo.prototype.scale=function(){if(Bt(arguments[0],Ht)){for(var o=arguments[0],a=new mt,c=o.iterator();c.hasNext();){var h=c.next();a.add(new Br(this.scale(h.getCoordinates()),h.getData()))}return a}if(arguments[0]instanceof Array){for(var m=arguments[0],E=new Array(m.length).fill(null),D=0;D<m.length;D++)E[D]=new T(Math.round((m[D].x-this._offsetX)*this._scaleFactor),Math.round((m[D].y-this._offsetY)*this._scaleFactor),m[D].z);return se.removeRepeatedPoints(E)}},Jo.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Jo.prototype.getNodedSubstrings=function(){var o=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(o),o},Jo.prototype.computeNodes=function(o){var a=o;this._isScaled&&(a=this.scale(o)),this._noder.computeNodes(a)},Jo.prototype.interfaces_=function(){return[Ls]},Jo.prototype.getClass=function(){return Jo};var Jr=function(){this._li=new fo,this._segStrings=null,this._segStrings=arguments[0]},vs={fact:{configurable:!0}};Jr.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var o=this._segStrings.iterator();o.hasNext();){var a=o.next().getCoordinates();this.checkEndPtVertexIntersections(a[0],this._segStrings),this.checkEndPtVertexIntersections(a[a.length-1],this._segStrings)}else if(2===arguments.length)for(var c=arguments[0],h=arguments[1].iterator();h.hasNext();)for(var m=h.next().getCoordinates(),E=1;E<m.length-1;E++)if(m[E].equals(c))throw new bi("found endpt/interior pt intersection at index "+E+" :pt "+c)},Jr.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var o=this._segStrings.iterator();o.hasNext();)for(var a=o.next(),c=this._segStrings.iterator();c.hasNext();){var h=c.next();this.checkInteriorIntersections(a,h)}else if(2===arguments.length)for(var m=arguments[0],E=arguments[1],D=m.getCoordinates(),N=E.getCoordinates(),Q=0;Q<D.length-1;Q++)for(var Et=0;Et<N.length-1;Et++)this.checkInteriorIntersections(m,Q,E,Et);else if(4===arguments.length){var Vt=arguments[0],zt=arguments[1],ae=arguments[2],he=arguments[3];if(Vt===ae&&zt===he)return null;var Ce=Vt.getCoordinates()[zt],Be=Vt.getCoordinates()[zt+1],hr=ae.getCoordinates()[he],Ii=ae.getCoordinates()[he+1];if(this._li.computeIntersection(Ce,Be,hr,Ii),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Ce,Be)||this.hasInteriorIntersection(this._li,hr,Ii)))throw new bi("found non-noded intersection at "+Ce+"-"+Be+" and "+hr+"-"+Ii)}},Jr.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Jr.prototype.checkCollapses=function(){if(0===arguments.length)for(var o=this._segStrings.iterator();o.hasNext();){var a=o.next();this.checkCollapses(a)}else if(1===arguments.length)for(var c=arguments[0].getCoordinates(),h=0;h<c.length-2;h++)this.checkCollapse(c[h],c[h+1],c[h+2])},Jr.prototype.hasInteriorIntersection=function(o,a,c){for(var h=0;h<o.getIntersectionNum();h++){var m=o.getIntersection(h);if(!m.equals(a)&&!m.equals(c))return!0}return!1},Jr.prototype.checkCollapse=function(o,a,c){if(o.equals(c))throw new bi("found non-noded collapse at "+Jr.fact.createLineString([o,a,c]))},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr},vs.fact.get=function(){return new Ne},Object.defineProperties(Jr,vs);var Ve=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var o=arguments[0],a=arguments[1],c=arguments[2];if(this._originalPt=o,this._pt=o,this._scaleFactor=a,this._li=c,a<=0)throw new H("Scale factor must be non-zero");1!==a&&(this._pt=new T(this.scale(o.x),this.scale(o.y)),this._p0Scaled=new T,this._p1Scaled=new T),this.initCorners(this._pt)},wu={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Ve.prototype.intersectsScaled=function(o,a){var c=Math.min(o.x,a.x),h=Math.max(o.x,a.x),m=Math.min(o.y,a.y),E=Math.max(o.y,a.y),D=this._maxx<c||this._minx>h||this._maxy<m||this._miny>E;if(D)return!1;var N=this.intersectsToleranceSquare(o,a);return Ue.isTrue(!(D&&N),"Found bad envelope test"),N},Ve.prototype.initCorners=function(o){this._minx=o.x-.5,this._maxx=o.x+.5,this._miny=o.y-.5,this._maxy=o.y+.5,this._corner[0]=new T(this._maxx,this._maxy),this._corner[1]=new T(this._minx,this._maxy),this._corner[2]=new T(this._minx,this._miny),this._corner[3]=new T(this._maxx,this._miny)},Ve.prototype.intersects=function(o,a){return 1===this._scaleFactor?this.intersectsScaled(o,a):(this.copyScaled(o,this._p0Scaled),this.copyScaled(a,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Ve.prototype.scale=function(o){return Math.round(o*this._scaleFactor)},Ve.prototype.getCoordinate=function(){return this._originalPt},Ve.prototype.copyScaled=function(o,a){a.x=this.scale(o.x),a.y=this.scale(o.y)},Ve.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var o=Ve.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Qt(this._originalPt.x-o,this._originalPt.x+o,this._originalPt.y-o,this._originalPt.y+o)}return this._safeEnv},Ve.prototype.intersectsPixelClosure=function(o,a){return this._li.computeIntersection(o,a,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(o,a,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(o,a,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(o,a,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Ve.prototype.intersectsToleranceSquare=function(o,a){var c=!1,h=!1;return this._li.computeIntersection(o,a,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(o,a,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(c=!0),this._li.computeIntersection(o,a,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(h=!0),this._li.computeIntersection(o,a,this._corner[3],this._corner[0]),this._li.isProper()||c&&h||o.equals(this._pt)||a.equals(this._pt)))))},Ve.prototype.addSnappedNode=function(o,a){var c=o.getCoordinate(a),h=o.getCoordinate(a+1);return!!this.intersects(c,h)&&(o.addIntersection(this.getCoordinate(),a),!0)},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve},wu.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Ve,wu);var ts=function(){this.tempEnv1=new Qt,this.selectedSegment=new _e};ts.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},ts.prototype.interfaces_=function(){return[]},ts.prototype.getClass=function(){return ts};var ga=function(){this._index=null,this._index=arguments[0]},_s={HotPixelSnapAction:{configurable:!0}};ga.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var a=arguments[0],c=arguments[1],h=arguments[2],m=a.getSafeEnvelope(),E=new Ho(a,c,h);return this._index.query(m,{interfaces_:function(){return[Zs]},visitItem:function(D){D.select(m,E)}}),E.isNodeAdded()}},ga.prototype.interfaces_=function(){return[]},ga.prototype.getClass=function(){return ga},_s.HotPixelSnapAction.get=function(){return Ho},Object.defineProperties(ga,_s);var Ho=function(o){function a(){o.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var h=arguments[1],m=arguments[2];this._hotPixel=arguments[0],this._parentEdge=h,this._hotPixelVertexIndex=m}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.isNodeAdded=function(){return this._isNodeAdded},a.prototype.select=function(){if(2!==arguments.length)return o.prototype.select.apply(this,arguments);var h=arguments[1],m=arguments[0].getContext();if(null!==this._parentEdge&&m===this._parentEdge&&h===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(m,h)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(ts),es=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new mt};es.prototype.processIntersections=function(o,a,c,h){if(o===c&&a===h)return null;var m=o.getCoordinates()[a],E=o.getCoordinates()[a+1],D=c.getCoordinates()[h],N=c.getCoordinates()[h+1];if(this._li.computeIntersection(m,E,D,N),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var Q=0;Q<this._li.getIntersectionNum();Q++)this._interiorIntersections.add(this._li.getIntersection(Q));o.addIntersections(this._li,a,0),c.addIntersections(this._li,h,1)}},es.prototype.isDone=function(){return!1},es.prototype.getInteriorIntersections=function(){return this._interiorIntersections},es.prototype.interfaces_=function(){return[Me]},es.prototype.getClass=function(){return es};var Ao=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var o=arguments[0];this._pm=o,this._li=new fo,this._li.setPrecisionModel(o),this._scaleFactor=o.getScale()};Ao.prototype.checkCorrectness=function(o){var a=Br.getNodedSubstrings(o),c=new Jr(a);try{c.checkValid()}catch(h){if(!(h instanceof oe))throw h;h.printStackTrace()}},Ao.prototype.getNodedSubstrings=function(){return Br.getNodedSubstrings(this._nodedSegStrings)},Ao.prototype.snapRound=function(o,a){var c=this.findInteriorIntersections(o,a);this.computeIntersectionSnaps(c),this.computeVertexSnaps(o)},Ao.prototype.findInteriorIntersections=function(o,a){var c=new es(a);return this._noder.setSegmentIntersector(c),this._noder.computeNodes(o),c.getInteriorIntersections()},Ao.prototype.computeVertexSnaps=function(){if(Bt(arguments[0],Ht))for(var o=arguments[0].iterator();o.hasNext();){var a=o.next();this.computeVertexSnaps(a)}else if(arguments[0]instanceof Br)for(var c=arguments[0],h=c.getCoordinates(),m=0;m<h.length;m++){var E=new Ve(h[m],this._scaleFactor,this._li);this._pointSnapper.snap(E,c,m)&&c.addIntersection(h[m],m)}},Ao.prototype.computeNodes=function(o){this._nodedSegStrings=o,this._noder=new br,this._pointSnapper=new ga(this._noder.getIndex()),this.snapRound(o,this._li)},Ao.prototype.computeIntersectionSnaps=function(o){for(var a=o.iterator();a.hasNext();){var c=a.next(),h=new Ve(c,this._scaleFactor,this._li);this._pointSnapper.snap(h)}},Ao.prototype.interfaces_=function(){return[Ls]},Ao.prototype.getClass=function(){return Ao};var ti=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Mn,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var c=arguments[1];this._argGeom=arguments[0],this._bufParams=c}},Os={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};ti.prototype.bufferFixedPrecision=function(o){var a=new Jo(new Ao(new fe(1)),o.getScale()),c=new Er(this._bufParams);c.setWorkingPrecisionModel(o),c.setNoder(a),this._resultGeometry=c.buffer(this._argGeom,this._distance)},ti.prototype.bufferReducedPrecision=function(){var o=this;if(0===arguments.length){for(var a=ti.MAX_PRECISION_DIGITS;a>=0;a--){try{o.bufferReducedPrecision(a)}catch(E){if(!(E instanceof Mo))throw E;o._saveException=E}if(null!==o._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var h=ti.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),m=new fe(h);this.bufferFixedPrecision(m)}},ti.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var o=this._argGeom.getFactory().getPrecisionModel();o.getType()===fe.FIXED?this.bufferFixedPrecision(o):this.bufferReducedPrecision()},ti.prototype.setQuadrantSegments=function(o){this._bufParams.setQuadrantSegments(o)},ti.prototype.bufferOriginalPrecision=function(){try{var o=new Er(this._bufParams);this._resultGeometry=o.buffer(this._argGeom,this._distance)}catch(a){if(!(a instanceof bi))throw a;this._saveException=a}},ti.prototype.getResultGeometry=function(o){return this._distance=o,this.computeGeometry(),this._resultGeometry},ti.prototype.setEndCapStyle=function(o){this._bufParams.setEndCapStyle(o)},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ti.bufferOp=function(){if(2===arguments.length){var a=arguments[1];return new ti(arguments[0]).getResultGeometry(a)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Le&&"number"==typeof arguments[1]){var h=arguments[1],m=arguments[2],E=new ti(arguments[0]);return E.setQuadrantSegments(m),E.getResultGeometry(h)}if(arguments[2]instanceof Mn&&arguments[0]instanceof Le&&"number"==typeof arguments[1]){var N=arguments[1];return new ti(arguments[0],arguments[2]).getResultGeometry(N)}}else if(4===arguments.length){var Vt=arguments[1],zt=arguments[2],ae=arguments[3],he=new ti(arguments[0]);return he.setQuadrantSegments(zt),he.setEndCapStyle(ae),he.getResultGeometry(Vt)}},ti.precisionScaleFactor=function(o,a,c){var h=o.getEnvelopeInternal(),m=et.max(Math.abs(h.getMaxX()),Math.abs(h.getMaxY()),Math.abs(h.getMinX()),Math.abs(h.getMinY()))+2*(a>0?a:0),E=c-Math.trunc(Math.log(m)/Math.log(10)+1);return Math.pow(10,E)},Os.CAP_ROUND.get=function(){return Mn.CAP_ROUND},Os.CAP_BUTT.get=function(){return Mn.CAP_FLAT},Os.CAP_FLAT.get=function(){return Mn.CAP_FLAT},Os.CAP_SQUARE.get=function(){return Mn.CAP_SQUARE},Os.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(ti,Os);var ai=function(){this._pt=[new T,new T],this._distance=F.NaN,this._isNull=!0};ai.prototype.getCoordinates=function(){return this._pt},ai.prototype.getCoordinate=function(o){return this._pt[o]},ai.prototype.setMinimum=function(){if(1===arguments.length){var o=arguments[0];this.setMinimum(o._pt[0],o._pt[1])}else if(2===arguments.length){var a=arguments[0],c=arguments[1];if(this._isNull)return this.initialize(a,c),null;var h=a.distance(c);h<this._distance&&this.initialize(a,c,h)}},ai.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var o=arguments[0],a=arguments[1];this._pt[0].setCoordinate(o),this._pt[1].setCoordinate(a),this._distance=o.distance(a),this._isNull=!1}else if(3===arguments.length){var h=arguments[1],m=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(h),this._distance=m,this._isNull=!1}},ai.prototype.getDistance=function(){return this._distance},ai.prototype.setMaximum=function(){if(1===arguments.length){var o=arguments[0];this.setMaximum(o._pt[0],o._pt[1])}else if(2===arguments.length){var a=arguments[0],c=arguments[1];if(this._isNull)return this.initialize(a,c),null;var h=a.distance(c);h>this._distance&&this.initialize(a,c,h)}},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai};var Ki=function(){};Ki.prototype.interfaces_=function(){return[]},Ki.prototype.getClass=function(){return Ki},Ki.computeDistance=function(){if(arguments[2]instanceof ai&&arguments[0]instanceof Hr&&arguments[1]instanceof T)for(var a=arguments[1],c=arguments[2],h=arguments[0].getCoordinates(),m=new _e,E=0;E<h.length-1;E++){m.setCoordinates(h[E],h[E+1]);var D=m.closestPoint(a);c.setMinimum(D,a)}else if(arguments[2]instanceof ai&&arguments[0]instanceof Xr&&arguments[1]instanceof T){var N=arguments[0],Q=arguments[1],Et=arguments[2];Ki.computeDistance(N.getExteriorRing(),Q,Et);for(var Vt=0;Vt<N.getNumInteriorRing();Vt++)Ki.computeDistance(N.getInteriorRingN(Vt),Q,Et)}else if(arguments[2]instanceof ai&&arguments[0]instanceof Le&&arguments[1]instanceof T){var zt=arguments[0],ae=arguments[1],he=arguments[2];if(zt instanceof Hr)Ki.computeDistance(zt,ae,he);else if(zt instanceof Xr)Ki.computeDistance(zt,ae,he);else if(zt instanceof wr)for(var Ce=zt,Be=0;Be<Ce.getNumGeometries();Be++){var hr=Ce.getGeometryN(Be);Ki.computeDistance(hr,ae,he)}else he.setMinimum(zt.getCoordinate(),ae)}else if(arguments[2]instanceof ai&&arguments[0]instanceof _e&&arguments[1]instanceof T){var Co=arguments[1],ya=arguments[2],Qa=arguments[0].closestPoint(Co);ya.setMinimum(Qa,Co)}};var yo=function(o){this._maxPtDist=new ai,this._inputGeom=o||null},Wa={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};yo.prototype.computeMaxMidpointDistance=function(o){var a=new Ks(this._inputGeom);o.apply(a),this._maxPtDist.setMaximum(a.getMaxPointDistance())},yo.prototype.computeMaxVertexDistance=function(o){var a=new Qs(this._inputGeom);o.apply(a),this._maxPtDist.setMaximum(a.getMaxPointDistance())},yo.prototype.findDistance=function(o){return this.computeMaxVertexDistance(o),this.computeMaxMidpointDistance(o),this._maxPtDist.getDistance()},yo.prototype.getDistancePoints=function(){return this._maxPtDist},yo.prototype.interfaces_=function(){return[]},yo.prototype.getClass=function(){return yo},Wa.MaxPointDistanceFilter.get=function(){return Qs},Wa.MaxMidpointDistanceFilter.get=function(){return Ks},Object.defineProperties(yo,Wa);var Qs=function(o){this._maxPtDist=new ai,this._minPtDist=new ai,this._geom=o||null};Qs.prototype.filter=function(o){this._minPtDist.initialize(),Ki.computeDistance(this._geom,o,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Qs.prototype.getMaxPointDistance=function(){return this._maxPtDist},Qs.prototype.interfaces_=function(){return[S]},Qs.prototype.getClass=function(){return Qs};var Ks=function(o){this._maxPtDist=new ai,this._minPtDist=new ai,this._geom=o||null};Ks.prototype.filter=function(o,a){if(0===a)return null;var c=o.getCoordinate(a-1),h=o.getCoordinate(a),m=new T((c.x+h.x)/2,(c.y+h.y)/2);this._minPtDist.initialize(),Ki.computeDistance(this._geom,m,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ks.prototype.isDone=function(){return!1},Ks.prototype.isGeometryChanged=function(){return!1},Ks.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ks.prototype.interfaces_=function(){return[jr]},Ks.prototype.getClass=function(){return Ks};var Lo=function(o){this._comps=o||null};Lo.prototype.filter=function(o){o instanceof Xr&&this._comps.add(o)},Lo.prototype.interfaces_=function(){return[kr]},Lo.prototype.getClass=function(){return Lo},Lo.getPolygons=function(){if(1===arguments.length)return Lo.getPolygons(arguments[0],new mt);if(2===arguments.length){var a=arguments[0],c=arguments[1];return a instanceof Xr?c.add(a):a instanceof wr&&a.apply(new Lo(c)),c}};var Mi=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var c=arguments[1];this._lines=arguments[0],this._isForcedToLineString=c}};Mi.prototype.filter=function(o){if(this._isForcedToLineString&&o instanceof ps){var a=o.getFactory().createLineString(o.getCoordinateSequence());return this._lines.add(a),null}o instanceof Hr&&this._lines.add(o)},Mi.prototype.setForceToLineString=function(o){this._isForcedToLineString=o},Mi.prototype.interfaces_=function(){return[fs]},Mi.prototype.getClass=function(){return Mi},Mi.getGeometry=function(){if(1===arguments.length){var o=arguments[0];return o.getFactory().buildGeometry(Mi.getLines(o))}if(2===arguments.length){var a=arguments[0],c=arguments[1];return a.getFactory().buildGeometry(Mi.getLines(a,c))}},Mi.getLines=function(){if(1===arguments.length)return Mi.getLines(arguments[0],!1);if(2===arguments.length){if(Bt(arguments[0],Ht)&&Bt(arguments[1],Ht)){for(var c=arguments[1],h=arguments[0].iterator();h.hasNext();){var m=h.next();Mi.getLines(m,c)}return c}if(arguments[0]instanceof Le&&"boolean"==typeof arguments[1]){var E=arguments[0],D=arguments[1],N=new mt;return E.apply(new Mi(N,D)),N}if(arguments[0]instanceof Le&&Bt(arguments[1],Ht)){var Q=arguments[0],Et=arguments[1];return Q instanceof Hr?Et.add(Q):Q.apply(new Mi(Et)),Et}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Bt(arguments[0],Ht)&&Bt(arguments[1],Ht)){for(var zt=arguments[1],ae=arguments[2],he=arguments[0].iterator();he.hasNext();){var Ce=he.next();Mi.getLines(Ce,zt,ae)}return zt}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Le&&Bt(arguments[1],Ht)){var hr=arguments[1];return arguments[0].apply(new Mi(hr,arguments[2])),hr}}};var Oo=function(){if(this._boundaryRule=O.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var o=arguments[0];if(null===o)throw new H("Rule must be non-null");this._boundaryRule=o}};Oo.prototype.locateInternal=function(){if(arguments[0]instanceof T&&arguments[1]instanceof Xr){var o=arguments[0],a=arguments[1];if(a.isEmpty())return W.EXTERIOR;var c=a.getExteriorRing(),h=this.locateInPolygonRing(o,c);if(h===W.EXTERIOR)return W.EXTERIOR;if(h===W.BOUNDARY)return W.BOUNDARY;for(var m=0;m<a.getNumInteriorRing();m++){var E=a.getInteriorRingN(m),D=this.locateInPolygonRing(o,E);if(D===W.INTERIOR)return W.EXTERIOR;if(D===W.BOUNDARY)return W.BOUNDARY}return W.INTERIOR}if(arguments[0]instanceof T&&arguments[1]instanceof Hr){var N=arguments[0],Q=arguments[1];if(!Q.getEnvelopeInternal().intersects(N))return W.EXTERIOR;var Et=Q.getCoordinates();return Q.isClosed()||!N.equals(Et[0])&&!N.equals(Et[Et.length-1])?le.isOnLine(N,Et)?W.INTERIOR:W.EXTERIOR:W.BOUNDARY}if(arguments[0]instanceof T&&arguments[1]instanceof ro){var Vt=arguments[0];return arguments[1].getCoordinate().equals2D(Vt)?W.INTERIOR:W.EXTERIOR}},Oo.prototype.locateInPolygonRing=function(o,a){return a.getEnvelopeInternal().intersects(o)?le.locatePointInRing(o,a.getCoordinates()):W.EXTERIOR},Oo.prototype.intersects=function(o,a){return this.locate(o,a)!==W.EXTERIOR},Oo.prototype.updateLocationInfo=function(o){o===W.INTERIOR&&(this._isIn=!0),o===W.BOUNDARY&&this._numBoundaries++},Oo.prototype.computeLocation=function(o,a){if(a instanceof ro&&this.updateLocationInfo(this.locateInternal(o,a)),a instanceof Hr)this.updateLocationInfo(this.locateInternal(o,a));else if(a instanceof Xr)this.updateLocationInfo(this.locateInternal(o,a));else if(a instanceof hs)for(var c=a,h=0;h<c.getNumGeometries();h++){var m=c.getGeometryN(h);this.updateLocationInfo(this.locateInternal(o,m))}else if(a instanceof So)for(var E=a,D=0;D<E.getNumGeometries();D++){var N=E.getGeometryN(D);this.updateLocationInfo(this.locateInternal(o,N))}else if(a instanceof wr)for(var Q=new ms(a);Q.hasNext();){var Et=Q.next();Et!==a&&this.computeLocation(o,Et)}},Oo.prototype.locate=function(o,a){return a.isEmpty()?W.EXTERIOR:a instanceof Hr||a instanceof Xr?this.locateInternal(o,a):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(o,a),this._boundaryRule.isInBoundary(this._numBoundaries)?W.BOUNDARY:this._numBoundaries>0||this._isIn?W.INTERIOR:W.EXTERIOR)},Oo.prototype.interfaces_=function(){return[]},Oo.prototype.getClass=function(){return Oo};var Mr=function o(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)o.call(this,arguments[0],o.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var m=arguments[1],E=arguments[2];this._component=arguments[0],this._segIndex=m,this._pt=E}},hl={INSIDE_AREA:{configurable:!0}};Mr.prototype.isInsideArea=function(){return this._segIndex===Mr.INSIDE_AREA},Mr.prototype.getCoordinate=function(){return this._pt},Mr.prototype.getGeometryComponent=function(){return this._component},Mr.prototype.getSegmentIndex=function(){return this._segIndex},Mr.prototype.interfaces_=function(){return[]},Mr.prototype.getClass=function(){return Mr},hl.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Mr,hl);var Rs=function(o){this._pts=o||null};Rs.prototype.filter=function(o){o instanceof ro&&this._pts.add(o)},Rs.prototype.interfaces_=function(){return[kr]},Rs.prototype.getClass=function(){return Rs},Rs.getPoints=function(){if(1===arguments.length){var o=arguments[0];return o instanceof ro?Oe.singletonList(o):Rs.getPoints(o,new mt)}if(2===arguments.length){var a=arguments[0],c=arguments[1];return a instanceof ro?c.add(a):a instanceof wr&&a.apply(new Rs(c)),c}};var uo=function(){this._locations=null,this._locations=arguments[0]};uo.prototype.filter=function(o){(o instanceof ro||o instanceof Hr||o instanceof Xr)&&this._locations.add(new Mr(o,0,o.getCoordinate()))},uo.prototype.interfaces_=function(){return[kr]},uo.prototype.getClass=function(){return uo},uo.getLocations=function(o){var a=new mt;return o.apply(new uo(a)),a};var ii=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Oo,this._minDistanceLocation=null,this._minDistance=F.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var c=arguments[0],h=arguments[1],m=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=c,this._geom[1]=h,this._terminateDistance=m}};ii.prototype.computeContainmentDistance=function(){if(0===arguments.length){var o=new Array(2).fill(null);if(this.computeContainmentDistance(0,o),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,o)}else if(2===arguments.length){var a=arguments[0],c=arguments[1],h=1-a,m=Lo.getPolygons(this._geom[a]);if(m.size()>0){var E=uo.getLocations(this._geom[h]);if(this.computeContainmentDistance(E,m,c),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[h]=c[0],this._minDistanceLocation[a]=c[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Bt(arguments[0],de)&&Bt(arguments[1],de)){for(var D=arguments[0],N=arguments[1],Q=arguments[2],Et=0;Et<D.size();Et++)for(var Vt=D.get(Et),zt=0;zt<N.size();zt++)if(this.computeContainmentDistance(Vt,N.get(zt),Q),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Mr&&arguments[1]instanceof Xr){var ae=arguments[0],he=arguments[1],Ce=arguments[2],Be=ae.getCoordinate();if(W.EXTERIOR!==this._ptLocator.locate(Be,he))return this._minDistance=0,Ce[0]=ae,Ce[1]=new Mr(he,Be),null}},ii.prototype.computeMinDistanceLinesPoints=function(o,a,c){for(var h=0;h<o.size();h++)for(var m=o.get(h),E=0;E<a.size();E++){var D=a.get(E);if(this.computeMinDistance(m,D,c),this._minDistance<=this._terminateDistance)return null}},ii.prototype.computeFacetDistance=function(){var o=new Array(2).fill(null),a=Mi.getLines(this._geom[0]),c=Mi.getLines(this._geom[1]),h=Rs.getPoints(this._geom[0]),m=Rs.getPoints(this._geom[1]);return this.computeMinDistanceLines(a,c,o),this.updateMinDistance(o,!1),this._minDistance<=this._terminateDistance?null:(o[0]=null,o[1]=null,this.computeMinDistanceLinesPoints(a,m,o),this.updateMinDistance(o,!1),this._minDistance<=this._terminateDistance?null:(o[0]=null,o[1]=null,this.computeMinDistanceLinesPoints(c,h,o),this.updateMinDistance(o,!0),this._minDistance<=this._terminateDistance?null:(o[0]=null,o[1]=null,this.computeMinDistancePoints(h,m,o),void this.updateMinDistance(o,!1))))},ii.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},ii.prototype.updateMinDistance=function(o,a){if(null===o[0])return null;a?(this._minDistanceLocation[0]=o[1],this._minDistanceLocation[1]=o[0]):(this._minDistanceLocation[0]=o[0],this._minDistanceLocation[1]=o[1])},ii.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},ii.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Hr&&arguments[1]instanceof ro){var o=arguments[0],a=arguments[1],c=arguments[2];if(o.getEnvelopeInternal().distance(a.getEnvelopeInternal())>this._minDistance)return null;for(var h=o.getCoordinates(),m=a.getCoordinate(),E=0;E<h.length-1;E++){var D=le.distancePointLine(m,h[E],h[E+1]);if(D<this._minDistance){this._minDistance=D;var N=new _e(h[E],h[E+1]).closestPoint(m);c[0]=new Mr(o,E,N),c[1]=new Mr(a,0,m)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Hr&&arguments[1]instanceof Hr){var Q=arguments[0],Et=arguments[1],Vt=arguments[2];if(Q.getEnvelopeInternal().distance(Et.getEnvelopeInternal())>this._minDistance)return null;for(var zt=Q.getCoordinates(),ae=Et.getCoordinates(),he=0;he<zt.length-1;he++)for(var Ce=0;Ce<ae.length-1;Ce++){var Be=le.distanceLineLine(zt[he],zt[he+1],ae[Ce],ae[Ce+1]);if(Be<this._minDistance){this._minDistance=Be;var hr=new _e(zt[he],zt[he+1]),Ii=new _e(ae[Ce],ae[Ce+1]),Co=hr.closestPoints(Ii);Vt[0]=new Mr(Q,he,Co[0]),Vt[1]=new Mr(Et,Ce,Co[1])}if(this._minDistance<=this._terminateDistance)return null}}},ii.prototype.computeMinDistancePoints=function(o,a,c){for(var h=0;h<o.size();h++)for(var m=o.get(h),E=0;E<a.size();E++){var D=a.get(E),N=m.getCoordinate().distance(D.getCoordinate());if(N<this._minDistance&&(this._minDistance=N,c[0]=new Mr(m,0,m.getCoordinate()),c[1]=new Mr(D,0,D.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},ii.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new H("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},ii.prototype.computeMinDistanceLines=function(o,a,c){for(var h=0;h<o.size();h++)for(var m=o.get(h),E=0;E<a.size();E++){var D=a.get(E);if(this.computeMinDistance(m,D,c),this._minDistance<=this._terminateDistance)return null}},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.distance=function(o,a){return new ii(o,a).distance()},ii.isWithinDistance=function(o,a,c){return new ii(o,a,c).distance()<=c},ii.nearestPoints=function(o,a){return new ii(o,a).nearestPoints()};var zi=function(){this._pt=[new T,new T],this._distance=F.NaN,this._isNull=!0};zi.prototype.getCoordinates=function(){return this._pt},zi.prototype.getCoordinate=function(o){return this._pt[o]},zi.prototype.setMinimum=function(){if(1===arguments.length){var o=arguments[0];this.setMinimum(o._pt[0],o._pt[1])}else if(2===arguments.length){var a=arguments[0],c=arguments[1];if(this._isNull)return this.initialize(a,c),null;var h=a.distance(c);h<this._distance&&this.initialize(a,c,h)}},zi.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var o=arguments[0],a=arguments[1];this._pt[0].setCoordinate(o),this._pt[1].setCoordinate(a),this._distance=o.distance(a),this._isNull=!1}else if(3===arguments.length){var h=arguments[1],m=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(h),this._distance=m,this._isNull=!1}},zi.prototype.toString=function(){return pr.toLineString(this._pt[0],this._pt[1])},zi.prototype.getDistance=function(){return this._distance},zi.prototype.setMaximum=function(){if(1===arguments.length){var o=arguments[0];this.setMaximum(o._pt[0],o._pt[1])}else if(2===arguments.length){var a=arguments[0],c=arguments[1];if(this._isNull)return this.initialize(a,c),null;var h=a.distance(c);h>this._distance&&this.initialize(a,c,h)}},zi.prototype.interfaces_=function(){return[]},zi.prototype.getClass=function(){return zi};var vo=function(){};vo.prototype.interfaces_=function(){return[]},vo.prototype.getClass=function(){return vo},vo.computeDistance=function(){if(arguments[2]instanceof zi&&arguments[0]instanceof Hr&&arguments[1]instanceof T)for(var o=arguments[0],a=arguments[1],c=arguments[2],h=new _e,m=o.getCoordinates(),E=0;E<m.length-1;E++){h.setCoordinates(m[E],m[E+1]);var D=h.closestPoint(a);c.setMinimum(D,a)}else if(arguments[2]instanceof zi&&arguments[0]instanceof Xr&&arguments[1]instanceof T){var N=arguments[0],Q=arguments[1],Et=arguments[2];vo.computeDistance(N.getExteriorRing(),Q,Et);for(var Vt=0;Vt<N.getNumInteriorRing();Vt++)vo.computeDistance(N.getInteriorRingN(Vt),Q,Et)}else if(arguments[2]instanceof zi&&arguments[0]instanceof Le&&arguments[1]instanceof T){var zt=arguments[0],ae=arguments[1],he=arguments[2];if(zt instanceof Hr)vo.computeDistance(zt,ae,he);else if(zt instanceof Xr)vo.computeDistance(zt,ae,he);else if(zt instanceof wr)for(var Ce=zt,Be=0;Be<Ce.getNumGeometries();Be++){var hr=Ce.getGeometryN(Be);vo.computeDistance(hr,ae,he)}else he.setMinimum(zt.getCoordinate(),ae)}else if(arguments[2]instanceof zi&&arguments[0]instanceof _e&&arguments[1]instanceof T){var Co=arguments[1],ya=arguments[2],Qa=arguments[0].closestPoint(Co);ya.setMinimum(Qa,Co)}};var _o=function(){this._g0=null,this._g1=null,this._ptDist=new zi,this._densifyFrac=0;var a=arguments[1];this._g0=arguments[0],this._g1=a},ju={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};_o.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},_o.prototype.setDensifyFraction=function(o){if(o>1||o<=0)throw new H("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=o},_o.prototype.compute=function(o,a){this.computeOrientedDistance(o,a,this._ptDist),this.computeOrientedDistance(a,o,this._ptDist)},_o.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},_o.prototype.computeOrientedDistance=function(o,a,c){var h=new Aa(a);if(o.apply(h),c.setMaximum(h.getMaxPointDistance()),this._densifyFrac>0){var m=new $o(a,this._densifyFrac);o.apply(m),c.setMaximum(m.getMaxPointDistance())}},_o.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},_o.prototype.interfaces_=function(){return[]},_o.prototype.getClass=function(){return _o},_o.distance=function(){if(2===arguments.length)return new _o(arguments[0],arguments[1]).distance();if(3===arguments.length){var m=arguments[2],E=new _o(arguments[0],arguments[1]);return E.setDensifyFraction(m),E.distance()}},ju.MaxPointDistanceFilter.get=function(){return Aa},ju.MaxDensifiedByFractionDistanceFilter.get=function(){return $o},Object.defineProperties(_o,ju);var Aa=function(){this._maxPtDist=new zi,this._minPtDist=new zi,this._euclideanDist=new vo,this._geom=null,this._geom=arguments[0]};Aa.prototype.filter=function(o){this._minPtDist.initialize(),vo.computeDistance(this._geom,o,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Aa.prototype.getMaxPointDistance=function(){return this._maxPtDist},Aa.prototype.interfaces_=function(){return[S]},Aa.prototype.getClass=function(){return Aa};var $o=function(){this._maxPtDist=new zi,this._minPtDist=new zi,this._geom=null,this._numSubSegs=0;var a=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/a))};$o.prototype.filter=function(o,a){if(0===a)return null;for(var c=o.getCoordinate(a-1),h=o.getCoordinate(a),m=(h.x-c.x)/this._numSubSegs,E=(h.y-c.y)/this._numSubSegs,D=0;D<this._numSubSegs;D++){var Et=new T(c.x+D*m,c.y+D*E);this._minPtDist.initialize(),vo.computeDistance(this._geom,Et,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},$o.prototype.isDone=function(){return!1},$o.prototype.isGeometryChanged=function(){return!1},$o.prototype.getMaxPointDistance=function(){return this._maxPtDist},$o.prototype.interfaces_=function(){return[jr]},$o.prototype.getClass=function(){return $o};var Zi=function(o,a,c){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=o||null,this._bufDistance=a||null,this._result=c||null},ma={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Zi.prototype.checkMaximumDistance=function(o,a,c){var h=new _o(a,o);if(h.setDensifyFraction(.25),this._maxDistanceFound=h.orientedDistance(),this._maxDistanceFound>c){this._isValid=!1;var m=h.getCoordinates();this._errorLocation=m[1],this._errorIndicator=o.getFactory().createLineString(m),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+pr.toLineString(m[0],m[1])+")"}},Zi.prototype.isValid=function(){var o=Math.abs(this._bufDistance),a=Zi.MAX_DISTANCE_DIFF_FRAC*o;return this._minValidDistance=o-a,this._maxValidDistance=o+a,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Zi.VERBOSE&&re.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Zi.prototype.checkNegativeValid=function(){if(!(this._input instanceof Xr||this._input instanceof So||this._input instanceof wr))return null;var o=this.getPolygonLines(this._input);if(this.checkMinimumDistance(o,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(o,this._result,this._maxValidDistance)},Zi.prototype.getErrorIndicator=function(){return this._errorIndicator},Zi.prototype.checkMinimumDistance=function(o,a,c){var h=new ii(o,a,c);if(this._minDistanceFound=h.distance(),this._minDistanceFound<c){this._isValid=!1;var m=h.nearestPoints();this._errorLocation=h.nearestPoints()[1],this._errorIndicator=o.getFactory().createLineString(m),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+pr.toLineString(m[0],m[1])+" )"}},Zi.prototype.checkPositiveValid=function(){var o=this._result.getBoundary();if(this.checkMinimumDistance(this._input,o,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,o,this._maxValidDistance)},Zi.prototype.getErrorLocation=function(){return this._errorLocation},Zi.prototype.getPolygonLines=function(o){for(var a=new mt,c=new Mi(a),h=Lo.getPolygons(o).iterator();h.hasNext();)h.next().apply(c);return o.getFactory().buildGeometry(a)},Zi.prototype.getErrorMessage=function(){return this._errMsg},Zi.prototype.interfaces_=function(){return[]},Zi.prototype.getClass=function(){return Zi},ma.VERBOSE.get=function(){return!1},ma.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Zi,ma);var Ei=function(o,a,c){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=o||null,this._distance=a||null,this._result=c||null},Hu={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Ei.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Ei.prototype.checkEnvelope=function(){if(this._distance<0)return null;var o=this._distance*Ei.MAX_ENV_DIFF_FRAC;0===o&&(o=.001);var a=new Qt(this._input.getEnvelopeInternal());a.expandBy(this._distance);var c=new Qt(this._result.getEnvelopeInternal());c.expandBy(o),c.contains(a)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(c)),this.report("Envelope")},Ei.prototype.checkDistance=function(){var o=new Zi(this._input,this._distance,this._result);o.isValid()||(this._isValid=!1,this._errorMsg=o.getErrorMessage(),this._errorLocation=o.getErrorLocation(),this._errorIndicator=o.getErrorIndicator()),this.report("Distance")},Ei.prototype.checkArea=function(){var o=this._input.getArea(),a=this._result.getArea();this._distance>0&&o>a&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&o<a&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Ei.prototype.checkPolygonal=function(){this._result instanceof Xr||this._result instanceof So||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Ei.prototype.getErrorIndicator=function(){return this._errorIndicator},Ei.prototype.getErrorLocation=function(){return this._errorLocation},Ei.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Ei.prototype.report=function(o){if(!Ei.VERBOSE)return null;re.out.println("Check "+o+": "+(this._isValid?"passed":"FAILED"))},Ei.prototype.getErrorMessage=function(){return this._errorMsg},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei},Ei.isValidMsg=function(o,a,c){var h=new Ei(o,a,c);return h.isValid()?null:h.getErrorMessage()},Ei.isValid=function(o,a,c){return!!new Ei(o,a,c).isValid()},Hu.VERBOSE.get=function(){return!1},Hu.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Ei,Hu);var Ci=function(){this._pts=null,this._data=null;var a=arguments[1];this._pts=arguments[0],this._data=a};Ci.prototype.getCoordinates=function(){return this._pts},Ci.prototype.size=function(){return this._pts.length},Ci.prototype.getCoordinate=function(o){return this._pts[o]},Ci.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ci.prototype.getSegmentOctant=function(o){return o===this._pts.length-1?-1:As.octant(this.getCoordinate(o),this.getCoordinate(o+1))},Ci.prototype.setData=function(o){this._data=o},Ci.prototype.getData=function(){return this._data},Ci.prototype.toString=function(){return pr.toLineString(new nn(this._pts))},Ci.prototype.interfaces_=function(){return[Po]},Ci.prototype.getClass=function(){return Ci};var Cr=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new mt,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};Cr.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Cr.prototype.setCheckEndSegmentsOnly=function(o){this._isCheckEndSegmentsOnly=o},Cr.prototype.getIntersectionSegments=function(){return this._intSegments},Cr.prototype.count=function(){return this._intersectionCount},Cr.prototype.getIntersections=function(){return this._intersections},Cr.prototype.setFindAllIntersections=function(o){this._findAllIntersections=o},Cr.prototype.setKeepIntersections=function(o){this._keepIntersections=o},Cr.prototype.processIntersections=function(o,a,c,h){if(!this._findAllIntersections&&this.hasIntersection()||o===c&&a===h||this._isCheckEndSegmentsOnly&&!this.isEndSegment(o,a)&&!this.isEndSegment(c,h))return null;var m=o.getCoordinates()[a],E=o.getCoordinates()[a+1],D=c.getCoordinates()[h],N=c.getCoordinates()[h+1];this._li.computeIntersection(m,E,D,N),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=m,this._intSegments[1]=E,this._intSegments[2]=D,this._intSegments[3]=N,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Cr.prototype.isEndSegment=function(o,a){return 0===a||a>=o.size()-2},Cr.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Cr.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Cr.prototype.interfaces_=function(){return[Me]},Cr.prototype.getClass=function(){return Cr},Cr.createAllIntersectionsFinder=function(o){var a=new Cr(o);return a.setFindAllIntersections(!0),a},Cr.createAnyIntersectionFinder=function(o){return new Cr(o)},Cr.createIntersectionCounter=function(o){var a=new Cr(o);return a.setFindAllIntersections(!0),a.setKeepIntersections(!1),a};var wo=function(){this._li=new fo,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};wo.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},wo.prototype.getIntersections=function(){return this._segInt.getIntersections()},wo.prototype.isValid=function(){return this.execute(),this._isValid},wo.prototype.setFindAllIntersections=function(o){this._findAllIntersections=o},wo.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Cr(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var o=new br;if(o.setSegmentIntersector(this._segInt),o.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},wo.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Mo(this.getErrorMessage(),this._segInt.getInteriorIntersection())},wo.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var o=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+pr.toLineString(o[0],o[1])+" and "+pr.toLineString(o[2],o[3])},wo.prototype.interfaces_=function(){return[]},wo.prototype.getClass=function(){return wo},wo.computeIntersections=function(o){var a=new wo(o);return a.setFindAllIntersections(!0),a.isValid(),a.getIntersections()};var He=function o(){this._nv=null,this._nv=new wo(o.toSegmentStrings(arguments[0]))};He.prototype.checkValid=function(){this._nv.checkValid()},He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He},He.toSegmentStrings=function(o){for(var a=new mt,c=o.iterator();c.hasNext();){var h=c.next();a.add(new Ci(h.getCoordinates(),h))}return a},He.checkValid=function(o){new He(o).checkValid()};var ei=function(o){this._mapOp=o};ei.prototype.map=function(o){for(var a=new mt,c=0;c<o.getNumGeometries();c++){var h=this._mapOp.map(o.getGeometryN(c));h.isEmpty()||a.add(h)}return o.getFactory().createGeometryCollection(Ne.toGeometryArray(a))},ei.prototype.interfaces_=function(){return[]},ei.prototype.getClass=function(){return ei},ei.map=function(o,a){return new ei(a).map(o)};var an=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new mt,this._resultLineList=new mt;var a=arguments[1],c=arguments[2];this._op=arguments[0],this._geometryFactory=a,this._ptLocator=c};an.prototype.collectLines=function(o){for(var a=this._op.getGraph().getEdgeEnds().iterator();a.hasNext();){var c=a.next();this.collectLineEdge(c,o,this._lineEdgesList),this.collectBoundaryTouchEdge(c,o,this._lineEdgesList)}},an.prototype.labelIsolatedLine=function(o,a){var c=this._ptLocator.locate(o.getCoordinate(),this._op.getArgGeometry(a));o.getLabel().setLocation(a,c)},an.prototype.build=function(o){return this.findCoveredLineEdges(),this.collectLines(o),this.buildLines(o),this._resultLineList},an.prototype.collectLineEdge=function(o,a,c){var h=o.getLabel(),m=o.getEdge();o.isLineEdge()&&(o.isVisited()||!$e.isResultOfOp(h,a)||m.isCovered()||(c.add(m),o.setVisitedEdge(!0)))},an.prototype.findCoveredLineEdges=function(){for(var o=this._op.getGraph().getNodes().iterator();o.hasNext();)o.next().getEdges().findCoveredLineEdges();for(var a=this._op.getGraph().getEdgeEnds().iterator();a.hasNext();){var c=a.next(),h=c.getEdge();if(c.isLineEdge()&&!h.isCoveredSet()){var m=this._op.isCoveredByA(c.getCoordinate());h.setCovered(m)}}},an.prototype.labelIsolatedLines=function(o){for(var a=o.iterator();a.hasNext();){var c=a.next(),h=c.getLabel();c.isIsolated()&&(h.isNull(0)?this.labelIsolatedLine(c,0):this.labelIsolatedLine(c,1))}},an.prototype.buildLines=function(o){for(var a=this._lineEdgesList.iterator();a.hasNext();){var c=a.next(),h=this._geometryFactory.createLineString(c.getCoordinates());this._resultLineList.add(h),c.setInResult(!0)}},an.prototype.collectBoundaryTouchEdge=function(o,a,c){var h=o.getLabel();return o.isLineEdge()||o.isVisited()||o.isInteriorAreaEdge()||o.getEdge().isInResult()?null:(Ue.isTrue(!(o.isInResult()||o.getSym().isInResult())||!o.getEdge().isInResult()),void($e.isResultOfOp(h,a)&&a===$e.INTERSECTION&&(c.add(o.getEdge()),o.setVisitedEdge(!0))))},an.prototype.interfaces_=function(){return[]},an.prototype.getClass=function(){return an};var zr=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new mt;var a=arguments[1];this._op=arguments[0],this._geometryFactory=a};zr.prototype.filterCoveredNodeToPoint=function(o){var a=o.getCoordinate();if(!this._op.isCoveredByLA(a)){var c=this._geometryFactory.createPoint(a);this._resultPointList.add(c)}},zr.prototype.extractNonCoveredResultNodes=function(o){for(var a=this._op.getGraph().getNodes().iterator();a.hasNext();){var c=a.next();if(!(c.isInResult()||c.isIncidentEdgeInResult()||0!==c.getEdges().getDegree()&&o!==$e.INTERSECTION)){var h=c.getLabel();$e.isResultOfOp(h,o)&&this.filterCoveredNodeToPoint(c)}}},zr.prototype.build=function(o){return this.extractNonCoveredResultNodes(o),this._resultPointList},zr.prototype.interfaces_=function(){return[]},zr.prototype.getClass=function(){return zr};var Tn=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Tn.prototype.transformPoint=function(o,a){return this._factory.createPoint(this.transformCoordinates(o.getCoordinateSequence(),o))},Tn.prototype.transformPolygon=function(o,a){var c=!0,h=this.transformLinearRing(o.getExteriorRing(),o);null!==h&&h instanceof ps&&!h.isEmpty()||(c=!1);for(var m=new mt,E=0;E<o.getNumInteriorRing();E++){var D=this.transformLinearRing(o.getInteriorRingN(E),o);null===D||D.isEmpty()||(D instanceof ps||(c=!1),m.add(D))}if(c)return this._factory.createPolygon(h,m.toArray([]));var N=new mt;return null!==h&&N.add(h),N.addAll(m),this._factory.buildGeometry(N)},Tn.prototype.createCoordinateSequence=function(o){return this._factory.getCoordinateSequenceFactory().create(o)},Tn.prototype.getInputGeometry=function(){return this._inputGeom},Tn.prototype.transformMultiLineString=function(o,a){for(var c=new mt,h=0;h<o.getNumGeometries();h++){var m=this.transformLineString(o.getGeometryN(h),o);null!==m&&(m.isEmpty()||c.add(m))}return this._factory.buildGeometry(c)},Tn.prototype.transformCoordinates=function(o,a){return this.copy(o)},Tn.prototype.transformLineString=function(o,a){return this._factory.createLineString(this.transformCoordinates(o.getCoordinateSequence(),o))},Tn.prototype.transformMultiPoint=function(o,a){for(var c=new mt,h=0;h<o.getNumGeometries();h++){var m=this.transformPoint(o.getGeometryN(h),o);null!==m&&(m.isEmpty()||c.add(m))}return this._factory.buildGeometry(c)},Tn.prototype.transformMultiPolygon=function(o,a){for(var c=new mt,h=0;h<o.getNumGeometries();h++){var m=this.transformPolygon(o.getGeometryN(h),o);null!==m&&(m.isEmpty()||c.add(m))}return this._factory.buildGeometry(c)},Tn.prototype.copy=function(o){return o.copy()},Tn.prototype.transformGeometryCollection=function(o,a){for(var c=new mt,h=0;h<o.getNumGeometries();h++){var m=this.transform(o.getGeometryN(h));null!==m&&(this._pruneEmptyGeometry&&m.isEmpty()||c.add(m))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Ne.toGeometryArray(c)):this._factory.buildGeometry(c)},Tn.prototype.transform=function(o){if(this._inputGeom=o,this._factory=o.getFactory(),o instanceof ro)return this.transformPoint(o,null);if(o instanceof Ns)return this.transformMultiPoint(o,null);if(o instanceof ps)return this.transformLinearRing(o,null);if(o instanceof Hr)return this.transformLineString(o,null);if(o instanceof hs)return this.transformMultiLineString(o,null);if(o instanceof Xr)return this.transformPolygon(o,null);if(o instanceof So)return this.transformMultiPolygon(o,null);if(o instanceof wr)return this.transformGeometryCollection(o,null);throw new H("Unknown Geometry subtype: "+o.getClass().getName())},Tn.prototype.transformLinearRing=function(o,a){var c=this.transformCoordinates(o.getCoordinateSequence(),o);if(null===c)return this._factory.createLinearRing(null);var h=c.size();return h>0&&h<4&&!this._preserveType?this._factory.createLineString(c):this._factory.createLinearRing(c)},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn};var Ji=function o(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new _e,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Hr&&"number"==typeof arguments[1]){var c=arguments[1];o.call(this,arguments[0].getCoordinates(),c)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var h=arguments[0],m=arguments[1];this._srcPts=h,this._isClosed=o.isClosed(h),this._snapTolerance=m}};Ji.prototype.snapVertices=function(o,a){for(var c=this._isClosed?o.size()-1:o.size(),h=0;h<c;h++){var m=o.get(h),E=this.findSnapForVertex(m,a);null!==E&&(o.set(h,new T(E)),0===h&&this._isClosed&&o.set(o.size()-1,new T(E)))}},Ji.prototype.findSnapForVertex=function(o,a){for(var c=0;c<a.length;c++){if(o.equals2D(a[c]))return null;if(o.distance(a[c])<this._snapTolerance)return a[c]}return null},Ji.prototype.snapTo=function(o){var a=new ce(this._srcPts);return this.snapVertices(a,o),this.snapSegments(a,o),a.toCoordinateArray()},Ji.prototype.snapSegments=function(o,a){if(0===a.length)return null;var c=a.length;a[0].equals2D(a[a.length-1])&&(c=a.length-1);for(var h=0;h<c;h++){var m=a[h],E=this.findSegmentIndexToSnap(m,o);E>=0&&o.add(E+1,new T(m),!1)}},Ji.prototype.findSegmentIndexToSnap=function(o,a){for(var c=F.MAX_VALUE,h=-1,m=0;m<a.size()-1;m++){if(this._seg.p0=a.get(m),this._seg.p1=a.get(m+1),this._seg.p0.equals2D(o)||this._seg.p1.equals2D(o)){if(this._allowSnappingToSourceVertices)continue;return-1}var E=this._seg.distance(o);E<this._snapTolerance&&E<c&&(c=E,h=m)}return h},Ji.prototype.setAllowSnappingToSourceVertices=function(o){this._allowSnappingToSourceVertices=o},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji},Ji.isClosed=function(o){return!(o.length<=1)&&o[0].equals2D(o[o.length-1])};var In=function(o){this._srcGeom=o||null},dl={SNAP_PRECISION_FACTOR:{configurable:!0}};In.prototype.snapTo=function(o,a){var c=this.extractTargetCoordinates(o);return new $u(a,c).transform(this._srcGeom)},In.prototype.snapToSelf=function(o,a){var c=this.extractTargetCoordinates(this._srcGeom),h=new $u(o,c,!0).transform(this._srcGeom),m=h;return a&&Bt(m,ds)&&(m=h.buffer(0)),m},In.prototype.computeSnapTolerance=function(o){return this.computeMinimumSegmentLength(o)/10},In.prototype.extractTargetCoordinates=function(o){for(var a=new bt,c=o.getCoordinates(),h=0;h<c.length;h++)a.add(c[h]);return a.toArray(new Array(0).fill(null))},In.prototype.computeMinimumSegmentLength=function(o){for(var a=F.MAX_VALUE,c=0;c<o.length-1;c++){var h=o[c].distance(o[c+1]);h<a&&(a=h)}return a},In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In},In.snap=function(o,a,c){var h=new Array(2).fill(null),m=new In(o);h[0]=m.snapTo(a,c);var E=new In(a);return h[1]=E.snapTo(h[0],c),h},In.computeOverlaySnapTolerance=function(){if(1===arguments.length){var o=arguments[0],a=In.computeSizeBasedSnapTolerance(o),c=o.getPrecisionModel();if(c.getType()===fe.FIXED){var h=1/c.getScale()*2/1.415;h>a&&(a=h)}return a}if(2===arguments.length){var E=arguments[1];return Math.min(In.computeOverlaySnapTolerance(arguments[0]),In.computeOverlaySnapTolerance(E))}},In.computeSizeBasedSnapTolerance=function(o){var a=o.getEnvelopeInternal();return Math.min(a.getHeight(),a.getWidth())*In.SNAP_PRECISION_FACTOR},In.snapToSelf=function(o,a,c){return new In(o).snapToSelf(a,c)},dl.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(In,dl);var $u=function(o){function a(c,h,m){o.call(this),this._snapTolerance=c||null,this._snapPts=h||null,this._isSelfSnap=void 0!==m&&m}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.snapLine=function(c,h){var m=new Ji(c,this._snapTolerance);return m.setAllowSnappingToSourceVertices(this._isSelfSnap),m.snapTo(h)},a.prototype.transformCoordinates=function(c,h){var m=c.toCoordinateArray(),E=this.snapLine(m,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(E)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Tn),ui=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};ui.prototype.getCommon=function(){return F.longBitsToDouble(this._commonBits)},ui.prototype.add=function(o){var a=F.doubleToLongBits(o);return this._isFirst?(this._commonBits=a,this._commonSignExp=ui.signExpBits(this._commonBits),this._isFirst=!1,null):ui.signExpBits(a)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=ui.numCommonMostSigMantissaBits(this._commonBits,a),void(this._commonBits=ui.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},ui.prototype.toString=function(){if(1===arguments.length){var o=arguments[0],a=F.longBitsToDouble(o),c="0000000000000000000000000000000000000000000000000000000000000000"+F.toBinaryString(o),h=c.substring(c.length-64);return h.substring(0,1)+"  "+h.substring(1,12)+"(exp) "+h.substring(12)+" [ "+a+" ]"}},ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui},ui.getBit=function(o,a){return o&1<<a?1:0},ui.signExpBits=function(o){return o>>52},ui.zeroLowerBits=function(o,a){return o&~((1<<a)-1)},ui.numCommonMostSigMantissaBits=function(o,a){for(var c=0,h=52;h>=0;h--){if(ui.getBit(o,h)!==ui.getBit(a,h))return c;c++}return 52};var Fs=function(){this._commonCoord=null,this._ccFilter=new xr},qu={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Fs.prototype.addCommonBits=function(o){var a=new ge(this._commonCoord);o.apply(a),o.geometryChanged()},Fs.prototype.removeCommonBits=function(o){if(0===this._commonCoord.x&&0===this._commonCoord.y)return o;var a=new T(this._commonCoord);a.x=-a.x,a.y=-a.y;var c=new ge(a);return o.apply(c),o.geometryChanged(),o},Fs.prototype.getCommonCoordinate=function(){return this._commonCoord},Fs.prototype.add=function(o){o.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Fs.prototype.interfaces_=function(){return[]},Fs.prototype.getClass=function(){return Fs},qu.CommonCoordinateFilter.get=function(){return xr},qu.Translater.get=function(){return ge},Object.defineProperties(Fs,qu);var xr=function(){this._commonBitsX=new ui,this._commonBitsY=new ui};xr.prototype.filter=function(o){this._commonBitsX.add(o.x),this._commonBitsY.add(o.y)},xr.prototype.getCommonCoordinate=function(){return new T(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},xr.prototype.interfaces_=function(){return[S]},xr.prototype.getClass=function(){return xr};var ge=function(){this.trans=null,this.trans=arguments[0]};ge.prototype.filter=function(o,a){var c=o.getOrdinate(a,0)+this.trans.x,h=o.getOrdinate(a,1)+this.trans.y;o.setOrdinate(a,0,c),o.setOrdinate(a,1,h)},ge.prototype.isDone=function(){return!1},ge.prototype.isGeometryChanged=function(){return!0},ge.prototype.interfaces_=function(){return[jr]},ge.prototype.getClass=function(){return ge};var Te=function(o,a){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=o,this._geom[1]=a,this.computeSnapTolerance()};Te.prototype.selfSnap=function(o){return new In(o).snapTo(o,this._snapTolerance)},Te.prototype.removeCommonBits=function(o){this._cbr=new Fs,this._cbr.add(o[0]),this._cbr.add(o[1]);var a=new Array(2).fill(null);return a[0]=this._cbr.removeCommonBits(o[0].copy()),a[1]=this._cbr.removeCommonBits(o[1].copy()),a},Te.prototype.prepareResult=function(o){return this._cbr.addCommonBits(o),o},Te.prototype.getResultGeometry=function(o){var a=this.snap(this._geom),c=$e.overlayOp(a[0],a[1],o);return this.prepareResult(c)},Te.prototype.checkValid=function(o){o.isValid()||re.out.println("Snapped geometry is invalid")},Te.prototype.computeSnapTolerance=function(){this._snapTolerance=In.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Te.prototype.snap=function(o){var a=this.removeCommonBits(o);return In.snap(a[0],a[1],this._snapTolerance)},Te.prototype.interfaces_=function(){return[]},Te.prototype.getClass=function(){return Te},Te.overlayOp=function(o,a,c){return new Te(o,a).getResultGeometry(c)},Te.union=function(o,a){return Te.overlayOp(o,a,$e.UNION)},Te.intersection=function(o,a){return Te.overlayOp(o,a,$e.INTERSECTION)},Te.symDifference=function(o,a){return Te.overlayOp(o,a,$e.SYMDIFFERENCE)},Te.difference=function(o,a){return Te.overlayOp(o,a,$e.DIFFERENCE)};var hn=function(o,a){this._geom=new Array(2).fill(null),this._geom[0]=o,this._geom[1]=a};hn.prototype.getResultGeometry=function(o){var a=null,c=!1,h=null;try{a=$e.overlayOp(this._geom[0],this._geom[1],o),c=!0}catch(m){if(!(m instanceof bi))throw m;h=m}if(!c)try{a=Te.overlayOp(this._geom[0],this._geom[1],o)}catch(m){throw m instanceof bi?h:m}return a},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn},hn.overlayOp=function(o,a,c){return new hn(o,a).getResultGeometry(c)},hn.union=function(o,a){return hn.overlayOp(o,a,$e.UNION)},hn.intersection=function(o,a){return hn.overlayOp(o,a,$e.INTERSECTION)},hn.symDifference=function(o,a){return hn.overlayOp(o,a,$e.SYMDIFFERENCE)},hn.difference=function(o,a){return hn.overlayOp(o,a,$e.DIFFERENCE)};var Eo=function(){this.mce=null,this.chainIndex=null;var a=arguments[1];this.mce=arguments[0],this.chainIndex=a};Eo.prototype.computeIntersections=function(o,a){this.mce.computeIntersectsForChain(this.chainIndex,o.mce,o.chainIndex,a)},Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo};var l=function o(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var a=arguments[0],c=arguments[1];this._eventType=o.DELETE,this._xValue=a,this._insertEvent=c}else if(3===arguments.length){var h=arguments[0],m=arguments[1],E=arguments[2];this._eventType=o.INSERT,this._label=h,this._xValue=m,this._obj=E}},g={INSERT:{configurable:!0},DELETE:{configurable:!0}};l.prototype.isDelete=function(){return this._eventType===l.DELETE},l.prototype.setDeleteEventIndex=function(o){this._deleteEventIndex=o},l.prototype.getObject=function(){return this._obj},l.prototype.compareTo=function(o){return this._xValue<o._xValue?-1:this._xValue>o._xValue?1:this._eventType<o._eventType?-1:this._eventType>o._eventType?1:0},l.prototype.getInsertEvent=function(){return this._insertEvent},l.prototype.isInsert=function(){return this._eventType===l.INSERT},l.prototype.isSameLabel=function(o){return null!==this._label&&this._label===o._label},l.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},l.prototype.interfaces_=function(){return[V]},l.prototype.getClass=function(){return l},g.INSERT.get=function(){return 1},g.DELETE.get=function(){return 2},Object.defineProperties(l,g);var _=function(){};_.prototype.interfaces_=function(){return[]},_.prototype.getClass=function(){return _};var x=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var a=arguments[1],c=arguments[2];this._li=arguments[0],this._includeProper=a,this._recordIsolated=c};x.prototype.isTrivialIntersection=function(o,a,c,h){if(o===c&&1===this._li.getIntersectionNum()){if(x.isAdjacentSegments(a,h))return!0;if(o.isClosed()){var m=o.getNumPoints()-1;if(0===a&&h===m||0===h&&a===m)return!0}}return!1},x.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},x.prototype.setIsDoneIfProperInt=function(o){this._isDoneWhenProperInt=o},x.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},x.prototype.isBoundaryPointInternal=function(o,a){for(var c=a.iterator();c.hasNext();){var h=c.next().getCoordinate();if(o.isIntersection(h))return!0}return!1},x.prototype.hasProperIntersection=function(){return this._hasProper},x.prototype.hasIntersection=function(){return this._hasIntersection},x.prototype.isDone=function(){return this._isDone},x.prototype.isBoundaryPoint=function(o,a){return!(null===a||!this.isBoundaryPointInternal(o,a[0])&&!this.isBoundaryPointInternal(o,a[1]))},x.prototype.setBoundaryNodes=function(o,a){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=o,this._bdyNodes[1]=a},x.prototype.addIntersections=function(o,a,c,h){if(o===c&&a===h)return null;this.numTests++;var m=o.getCoordinates()[a],E=o.getCoordinates()[a+1],D=c.getCoordinates()[h],N=c.getCoordinates()[h+1];this._li.computeIntersection(m,E,D,N),this._li.hasIntersection()&&(this._recordIsolated&&(o.setIsolated(!1),c.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(o,a,c,h)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(o.addIntersections(this._li,a,0),c.addIntersections(this._li,h,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},x.prototype.interfaces_=function(){return[]},x.prototype.getClass=function(){return x},x.isAdjacentSegments=function(o,a){return 1===Math.abs(o-a)};var I=function(o){function a(){o.call(this),this.events=new mt,this.nOverlaps=null}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.prepareEvents=function(){Oe.sort(this.events);for(var c=0;c<this.events.size();c++){var h=this.events.get(c);h.isDelete()&&h.getInsertEvent().setDeleteEventIndex(c)}},a.prototype.computeIntersections=function(){if(1===arguments.length){var c=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var h=0;h<this.events.size();h++){var m=this.events.get(h);if(m.isInsert()&&this.processOverlaps(h,m.getDeleteEventIndex(),m,c),c.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof x&&Bt(arguments[0],de)&&Bt(arguments[1],de)){var E=arguments[0],D=arguments[1],N=arguments[2];this.addEdges(E,E),this.addEdges(D,D),this.computeIntersections(N)}else if("boolean"==typeof arguments[2]&&Bt(arguments[0],de)&&arguments[1]instanceof x){var Q=arguments[0],Et=arguments[1];arguments[2]?this.addEdges(Q,null):this.addEdges(Q),this.computeIntersections(Et)}},a.prototype.addEdge=function(c,h){for(var m=c.getMonotoneChainEdge(),E=m.getStartIndexes(),D=0;D<E.length-1;D++){var N=new Eo(m,D),Q=new l(h,m.getMinX(D),N);this.events.add(Q),this.events.add(new l(m.getMaxX(D),Q))}},a.prototype.processOverlaps=function(c,h,m,E){for(var D=m.getObject(),N=c;N<h;N++){var Q=this.events.get(N);if(Q.isInsert()){var Et=Q.getObject();m.isSameLabel(Q)||(D.computeIntersections(Et,E),this.nOverlaps++)}}},a.prototype.addEdges=function(){if(1===arguments.length)for(var c=arguments[0].iterator();c.hasNext();){var h=c.next();this.addEdge(h,h)}else if(2===arguments.length)for(var E=arguments[1],D=arguments[0].iterator();D.hasNext();){var N=D.next();this.addEdge(N,E)}},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(_),z=function(){this._min=F.POSITIVE_INFINITY,this._max=F.NEGATIVE_INFINITY},st={NodeComparator:{configurable:!0}};z.prototype.getMin=function(){return this._min},z.prototype.intersects=function(o,a){return!(this._min>a||this._max<o)},z.prototype.getMax=function(){return this._max},z.prototype.toString=function(){return pr.toLineString(new T(this._min,0),new T(this._max,0))},z.prototype.interfaces_=function(){return[]},z.prototype.getClass=function(){return z},st.NodeComparator.get=function(){return Ot},Object.defineProperties(z,st);var Ot=function(){};Ot.prototype.compare=function(o,a){var m=(o._min+o._max)/2,E=(a._min+a._max)/2;return m<E?-1:m>E?1:0},Ot.prototype.interfaces_=function(){return[Y]},Ot.prototype.getClass=function(){return Ot};var jt=function(o){function a(){o.call(this),this._item=null;var h=arguments[1],m=arguments[2];this._min=arguments[0],this._max=h,this._item=m}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.query=function(c,h,m){if(!this.intersects(c,h))return null;m.visitItem(this._item)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(z),Jt=function(o){function a(){o.call(this),this._node1=null,this._node2=null;var h=arguments[1];this._node1=arguments[0],this._node2=h,this.buildExtent(this._node1,this._node2)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.buildExtent=function(c,h){this._min=Math.min(c._min,h._min),this._max=Math.max(c._max,h._max)},a.prototype.query=function(c,h,m){if(!this.intersects(c,h))return null;null!==this._node1&&this._node1.query(c,h,m),null!==this._node2&&this._node2.query(c,h,m)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(z),ne=function(){this._leaves=new mt,this._root=null,this._level=0};ne.prototype.buildTree=function(){Oe.sort(this._leaves,new z.NodeComparator);for(var o=this._leaves,a=null,c=new mt;;){if(this.buildLevel(o,c),1===c.size())return c.get(0);a=o,o=c,c=a}},ne.prototype.insert=function(o,a,c){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new jt(o,a,c))},ne.prototype.query=function(o,a,c){this.init(),this._root.query(o,a,c)},ne.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},ne.prototype.printNode=function(o){re.out.println(pr.toLineString(new T(o._min,this._level),new T(o._max,this._level)))},ne.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},ne.prototype.buildLevel=function(o,a){this._level++,a.clear();for(var c=0;c<o.size();c+=2){var h=o.get(c);if(null===(c+1<o.size()?o.get(c):null))a.add(h);else{var m=new Jt(o.get(c),o.get(c+1));a.add(m)}}},ne.prototype.interfaces_=function(){return[]},ne.prototype.getClass=function(){return ne};var ke=function(){this._items=new mt};ke.prototype.visitItem=function(o){this._items.add(o)},ke.prototype.getItems=function(){return this._items},ke.prototype.interfaces_=function(){return[Zs]},ke.prototype.getClass=function(){return ke};var rn=function(){this._index=null;var o=arguments[0];if(!Bt(o,ds))throw new H("Argument must be Polygonal");this._index=new Pi(o)},Ur={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};rn.prototype.locate=function(o){var a=new cr(o),c=new Tr(a);return this._index.query(o.y,o.y,c),a.getLocation()},rn.prototype.interfaces_=function(){return[pa]},rn.prototype.getClass=function(){return rn},Ur.SegmentVisitor.get=function(){return Tr},Ur.IntervalIndexedGeometry.get=function(){return Pi},Object.defineProperties(rn,Ur);var Tr=function(){this._counter=null,this._counter=arguments[0]};Tr.prototype.visitItem=function(o){var a=o;this._counter.countSegment(a.getCoordinate(0),a.getCoordinate(1))},Tr.prototype.interfaces_=function(){return[Zs]},Tr.prototype.getClass=function(){return Tr};var Pi=function(){this._index=new ne,this.init(arguments[0])};Pi.prototype.init=function(o){for(var a=Mi.getLines(o).iterator();a.hasNext();){var c=a.next().getCoordinates();this.addLine(c)}},Pi.prototype.addLine=function(o){for(var a=1;a<o.length;a++){var c=new _e(o[a-1],o[a]),h=Math.min(c.p0.y,c.p1.y),m=Math.max(c.p0.y,c.p1.y);this._index.insert(h,m,c)}},Pi.prototype.query=function(){if(2===arguments.length){var o=arguments[0],a=arguments[1],c=new ke;return this._index.query(o,a,c),c.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi};var qr=function(o){function a(){if(o.call(this),this._parentGeom=null,this._lineEdgeMap=new Vu,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Oo,2===arguments.length){var h=arguments[1],m=O.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=h,this._boundaryNodeRule=m,null!==h&&this.add(h)}else if(3===arguments.length){var D=arguments[1],N=arguments[2];this._argIndex=arguments[0],this._parentGeom=D,this._boundaryNodeRule=N,null!==D&&this.add(D)}}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.insertBoundaryPoint=function(c,h){var m=this._nodes.addNode(h).getLabel(),E=1;m.getLocation(c,Wt.ON)===W.BOUNDARY&&E++;var D=a.determineBoundary(this._boundaryNodeRule,E);m.setLocation(c,D)},a.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var E=arguments[1],D=arguments[2],N=new x(arguments[0],!0,!1);return N.setIsDoneIfProperInt(D),this.createEdgeSetIntersector().computeIntersections(this._edges,N,E||!(this._parentGeom instanceof ps||this._parentGeom instanceof Xr||this._parentGeom instanceof So)),this.addSelfIntersectionNodes(this._argIndex),N}},a.prototype.computeSplitEdges=function(c){for(var h=this._edges.iterator();h.hasNext();)h.next().eiList.addSplitEdges(c)},a.prototype.computeEdgeIntersections=function(c,h,m){var E=new x(h,m,!0);return E.setBoundaryNodes(this.getBoundaryNodes(),c.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,c._edges,E),E},a.prototype.getGeometry=function(){return this._parentGeom},a.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},a.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},a.prototype.addPoint=function(){if(arguments[0]instanceof ro){var c=arguments[0].getCoordinate();this.insertPoint(this._argIndex,c,W.INTERIOR)}else arguments[0]instanceof T&&this.insertPoint(this._argIndex,arguments[0],W.INTERIOR)},a.prototype.addPolygon=function(c){this.addPolygonRing(c.getExteriorRing(),W.EXTERIOR,W.INTERIOR);for(var h=0;h<c.getNumInteriorRing();h++){var m=c.getInteriorRingN(h);this.addPolygonRing(m,W.INTERIOR,W.EXTERIOR)}},a.prototype.addEdge=function(c){this.insertEdge(c);var h=c.getCoordinates();this.insertPoint(this._argIndex,h[0],W.BOUNDARY),this.insertPoint(this._argIndex,h[h.length-1],W.BOUNDARY)},a.prototype.addLineString=function(c){var h=se.removeRepeatedPoints(c.getCoordinates());if(h.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=h[0],null;var m=new ys(h,new gn(this._argIndex,W.INTERIOR));this._lineEdgeMap.put(c,m),this.insertEdge(m),Ue.isTrue(h.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,h[0]),this.insertBoundaryPoint(this._argIndex,h[h.length-1])},a.prototype.getInvalidPoint=function(){return this._invalidPoint},a.prototype.getBoundaryPoints=function(){for(var c=this.getBoundaryNodes(),h=new Array(c.size()).fill(null),m=0,E=c.iterator();E.hasNext();){var D=E.next();h[m++]=D.getCoordinate().copy()}return h},a.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},a.prototype.addSelfIntersectionNode=function(c,h,m){if(this.isBoundaryNode(c,h))return null;m===W.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(c,h):this.insertPoint(c,h,m)},a.prototype.addPolygonRing=function(c,h,m){if(c.isEmpty())return null;var E=se.removeRepeatedPoints(c.getCoordinates());if(E.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=E[0],null;var D=h,N=m;le.isCCW(E)&&(D=m,N=h);var Q=new ys(E,new gn(this._argIndex,W.BOUNDARY,D,N));this._lineEdgeMap.put(c,Q),this.insertEdge(Q),this.insertPoint(this._argIndex,E[0],W.BOUNDARY)},a.prototype.insertPoint=function(c,h,m){var E=this._nodes.addNode(h),D=E.getLabel();null===D?E._label=new gn(c,m):D.setLocation(c,m)},a.prototype.createEdgeSetIntersector=function(){return new I},a.prototype.addSelfIntersectionNodes=function(c){for(var h=this._edges.iterator();h.hasNext();)for(var m=h.next(),E=m.getLabel().getLocation(c),D=m.eiList.iterator();D.hasNext();){var N=D.next();this.addSelfIntersectionNode(c,N.coord,E)}},a.prototype.add=function(){if(1!==arguments.length)return o.prototype.add.apply(this,arguments);var c=arguments[0];if(c.isEmpty())return null;if(c instanceof So&&(this._useBoundaryDeterminationRule=!1),c instanceof Xr)this.addPolygon(c);else if(c instanceof Hr)this.addLineString(c);else if(c instanceof ro)this.addPoint(c);else if(c instanceof Ns)this.addCollection(c);else if(c instanceof hs)this.addCollection(c);else if(c instanceof So)this.addCollection(c);else{if(!(c instanceof wr))throw new Error(c.getClass().getName());this.addCollection(c)}},a.prototype.addCollection=function(c){for(var h=0;h<c.getNumGeometries();h++){var m=c.getGeometryN(h);this.add(m)}},a.prototype.locate=function(c){return Bt(this._parentGeom,ds)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new rn(this._parentGeom)),this._areaPtLocator.locate(c)):this._ptLocator.locate(c,this._parentGeom)},a.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):o.prototype.findEdge.apply(this,arguments)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.determineBoundary=function(c,h){return c.isInBoundary(h)?W.BOUNDARY:W.INTERIOR},a}(Ir),Ui=function(){if(this._li=new fo,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var o=arguments[0];this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new qr(0,o)}else if(2===arguments.length){var a=arguments[0],c=arguments[1],h=O.OGC_SFS_BOUNDARY_RULE;a.getPrecisionModel().compareTo(c.getPrecisionModel())>=0?this.setComputationPrecision(a.getPrecisionModel()):this.setComputationPrecision(c.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new qr(0,a,h),this._arg[1]=new qr(1,c,h)}else if(3===arguments.length){var m=arguments[0],E=arguments[1],D=arguments[2];m.getPrecisionModel().compareTo(E.getPrecisionModel())>=0?this.setComputationPrecision(m.getPrecisionModel()):this.setComputationPrecision(E.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new qr(0,m,D),this._arg[1]=new qr(1,E,D)}};Ui.prototype.getArgGeometry=function(o){return this._arg[o].getGeometry()},Ui.prototype.setComputationPrecision=function(o){this._resultPrecisionModel=o,this._li.setPrecisionModel(this._resultPrecisionModel)},Ui.prototype.interfaces_=function(){return[]},Ui.prototype.getClass=function(){return Ui};var ns=function(){};ns.prototype.interfaces_=function(){return[]},ns.prototype.getClass=function(){return ns},ns.map=function(){if(arguments[0]instanceof Le&&Bt(arguments[1],ns.MapOp)){for(var o=arguments[0],a=arguments[1],c=new mt,h=0;h<o.getNumGeometries();h++){var m=a.map(o.getGeometryN(h));null!==m&&c.add(m)}return o.getFactory().buildGeometry(c)}if(Bt(arguments[0],Ht)&&Bt(arguments[1],ns.MapOp)){for(var E=arguments[0],D=arguments[1],N=new mt,Q=E.iterator();Q.hasNext();){var Et=Q.next(),Vt=D.map(Et);null!==Vt&&N.add(Vt)}return N}},ns.MapOp=function(){};var $e=function(o){function a(){var c=arguments[0];o.call(this,c,arguments[1]),this._ptLocator=new Oo,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new jo,this._resultPolyList=new mt,this._resultLineList=new mt,this._resultPointList=new mt,this._graph=new Ir(new Ko),this._geomFact=c.getFactory()}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.insertUniqueEdge=function(c){var h=this._edgeList.findEqualEdge(c);if(null!==h){var m=h.getLabel(),E=c.getLabel();h.isPointwiseEqual(c)||(E=new gn(c.getLabel())).flip();var D=h.getDepth();D.isNull()&&D.add(m),D.add(E),m.merge(E)}else this._edgeList.add(c)},a.prototype.getGraph=function(){return this._graph},a.prototype.cancelDuplicateResultEdges=function(){for(var c=this._graph.getEdgeEnds().iterator();c.hasNext();){var h=c.next(),m=h.getSym();h.isInResult()&&m.isInResult()&&(h.setInResult(!1),m.setInResult(!1))}},a.prototype.isCoveredByLA=function(c){return!!this.isCovered(c,this._resultLineList)||!!this.isCovered(c,this._resultPolyList)},a.prototype.computeGeometry=function(c,h,m,E){var D=new mt;return D.addAll(c),D.addAll(h),D.addAll(m),D.isEmpty()?a.createEmptyResult(E,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(D)},a.prototype.mergeSymLabels=function(){for(var c=this._graph.getNodes().iterator();c.hasNext();)c.next().getEdges().mergeSymLabels()},a.prototype.isCovered=function(c,h){for(var m=h.iterator();m.hasNext();){var E=m.next();if(this._ptLocator.locate(c,E)!==W.EXTERIOR)return!0}return!1},a.prototype.replaceCollapsedEdges=function(){for(var c=new mt,h=this._edgeList.iterator();h.hasNext();){var m=h.next();m.isCollapsed()&&(h.remove(),c.add(m.getCollapsedEdge()))}this._edgeList.addAll(c)},a.prototype.updateNodeLabelling=function(){for(var c=this._graph.getNodes().iterator();c.hasNext();){var h=c.next(),m=h.getEdges().getLabel();h.getLabel().merge(m)}},a.prototype.getResultGeometry=function(c){return this.computeOverlay(c),this._resultGeom},a.prototype.insertUniqueEdges=function(c){for(var h=c.iterator();h.hasNext();){var m=h.next();this.insertUniqueEdge(m)}},a.prototype.computeOverlay=function(c){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var h=new mt;this._arg[0].computeSplitEdges(h),this._arg[1].computeSplitEdges(h),this.insertUniqueEdges(h),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),He.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(c),this.cancelDuplicateResultEdges();var m=new Fi(this._geomFact);m.add(this._graph),this._resultPolyList=m.getPolygons();var E=new an(this,this._geomFact,this._ptLocator);this._resultLineList=E.build(c);var D=new zr(this,this._geomFact,this._ptLocator);this._resultPointList=D.build(c),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,c)},a.prototype.labelIncompleteNode=function(c,h){var m=this._ptLocator.locate(c.getCoordinate(),this._arg[h].getGeometry());c.getLabel().setLocation(h,m)},a.prototype.copyPoints=function(c){for(var h=this._arg[c].getNodeIterator();h.hasNext();){var m=h.next();this._graph.addNode(m.getCoordinate()).setLabel(c,m.getLabel().getLocation(c))}},a.prototype.findResultAreaEdges=function(c){for(var h=this._graph.getEdgeEnds().iterator();h.hasNext();){var m=h.next(),E=m.getLabel();E.isArea()&&!m.isInteriorAreaEdge()&&a.isResultOfOp(E.getLocation(0,Wt.RIGHT),E.getLocation(1,Wt.RIGHT),c)&&m.setInResult(!0)}},a.prototype.computeLabelsFromDepths=function(){for(var c=this._edgeList.iterator();c.hasNext();){var h=c.next(),m=h.getLabel(),E=h.getDepth();if(!E.isNull()){E.normalize();for(var D=0;D<2;D++)m.isNull(D)||!m.isArea()||E.isNull(D)||(0===E.getDelta(D)?m.toLine(D):(Ue.isTrue(!E.isNull(D,Wt.LEFT),"depth of LEFT side has not been initialized"),m.setLocation(D,Wt.LEFT,E.getLocation(D,Wt.LEFT)),Ue.isTrue(!E.isNull(D,Wt.RIGHT),"depth of RIGHT side has not been initialized"),m.setLocation(D,Wt.RIGHT,E.getLocation(D,Wt.RIGHT))))}}},a.prototype.computeLabelling=function(){for(var c=this._graph.getNodes().iterator();c.hasNext();)c.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},a.prototype.labelIncompleteNodes=function(){for(var c=this._graph.getNodes().iterator();c.hasNext();){var h=c.next(),m=h.getLabel();h.isIsolated()&&(m.isNull(0)?this.labelIncompleteNode(h,0):this.labelIncompleteNode(h,1)),h.getEdges().updateLabelling(m)}},a.prototype.isCoveredByA=function(c){return!!this.isCovered(c,this._resultPolyList)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Ui);$e.overlayOp=function(o,a,c){return new $e(o,a).getResultGeometry(c)},$e.intersection=function(o,a){if(o.isEmpty()||a.isEmpty())return $e.createEmptyResult($e.INTERSECTION,o,a,o.getFactory());if(o.isGeometryCollection()){var c=a;return ei.map(o,{interfaces_:function(){return[ns.MapOp]},map:function(h){return h.intersection(c)}})}return o.checkNotGeometryCollection(o),o.checkNotGeometryCollection(a),hn.overlayOp(o,a,$e.INTERSECTION)},$e.symDifference=function(o,a){if(o.isEmpty()||a.isEmpty()){if(o.isEmpty()&&a.isEmpty())return $e.createEmptyResult($e.SYMDIFFERENCE,o,a,o.getFactory());if(o.isEmpty())return a.copy();if(a.isEmpty())return o.copy()}return o.checkNotGeometryCollection(o),o.checkNotGeometryCollection(a),hn.overlayOp(o,a,$e.SYMDIFFERENCE)},$e.resultDimension=function(o,a,c){var h=a.getDimension(),m=c.getDimension(),E=-1;switch(o){case $e.INTERSECTION:E=Math.min(h,m);break;case $e.UNION:E=Math.max(h,m);break;case $e.DIFFERENCE:E=h;break;case $e.SYMDIFFERENCE:E=Math.max(h,m)}return E},$e.createEmptyResult=function(o,a,c,h){var m=null;switch($e.resultDimension(o,a,c)){case-1:m=h.createGeometryCollection(new Array(0).fill(null));break;case 0:m=h.createPoint();break;case 1:m=h.createLineString();break;case 2:m=h.createPolygon()}return m},$e.difference=function(o,a){return o.isEmpty()?$e.createEmptyResult($e.DIFFERENCE,o,a,o.getFactory()):a.isEmpty()?o.copy():(o.checkNotGeometryCollection(o),o.checkNotGeometryCollection(a),hn.overlayOp(o,a,$e.DIFFERENCE))},$e.isResultOfOp=function(){if(2===arguments.length){var o=arguments[0],a=arguments[1],c=o.getLocation(0),h=o.getLocation(1);return $e.isResultOfOp(c,h,a)}if(3===arguments.length){var m=arguments[0],E=arguments[1];switch(m===W.BOUNDARY&&(m=W.INTERIOR),E===W.BOUNDARY&&(E=W.INTERIOR),arguments[2]){case $e.INTERSECTION:return m===W.INTERIOR&&E===W.INTERIOR;case $e.UNION:return m===W.INTERIOR||E===W.INTERIOR;case $e.DIFFERENCE:return m===W.INTERIOR&&E!==W.INTERIOR;case $e.SYMDIFFERENCE:return m===W.INTERIOR&&E!==W.INTERIOR||m!==W.INTERIOR&&E===W.INTERIOR}return!1}},$e.INTERSECTION=1,$e.UNION=2,$e.DIFFERENCE=3,$e.SYMDIFFERENCE=4;var un=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Oo,this._seg=new _e;var o=arguments[0],a=arguments[1];this._g=o,this._boundaryDistanceTolerance=a,this._linework=this.extractLinework(o)};un.prototype.isWithinToleranceOfBoundary=function(o){for(var a=0;a<this._linework.getNumGeometries();a++)for(var c=this._linework.getGeometryN(a).getCoordinateSequence(),h=0;h<c.size()-1;h++)if(c.getCoordinate(h,this._seg.p0),c.getCoordinate(h+1,this._seg.p1),this._seg.distance(o)<=this._boundaryDistanceTolerance)return!0;return!1},un.prototype.getLocation=function(o){return this.isWithinToleranceOfBoundary(o)?W.BOUNDARY:this._ptLocator.locate(o,this._g)},un.prototype.extractLinework=function(o){var a=new Ya;o.apply(a);var c=a.getLinework(),h=Ne.toLineStringArray(c);return o.getFactory().createMultiLineString(h)},un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un};var Ya=function(){this._linework=null,this._linework=new mt};Ya.prototype.getLinework=function(){return this._linework},Ya.prototype.filter=function(o){if(o instanceof Xr){var a=o;this._linework.add(a.getExteriorRing());for(var c=0;c<a.getNumInteriorRing();c++)this._linework.add(a.getInteriorRingN(c))}},Ya.prototype.interfaces_=function(){return[kr]},Ya.prototype.getClass=function(){return Ya};var ks=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};ks.prototype.extractPoints=function(o,a,c){for(var h=o.getCoordinates(),m=0;m<h.length-1;m++)this.computeOffsetPoints(h[m],h[m+1],a,c)},ks.prototype.setSidesToGenerate=function(o,a){this._doLeft=o,this._doRight=a},ks.prototype.getPoints=function(o){for(var a=new mt,c=Mi.getLines(this._g).iterator();c.hasNext();){var h=c.next();this.extractPoints(h,o,a)}return a},ks.prototype.computeOffsetPoints=function(o,a,c,h){var m=a.x-o.x,E=a.y-o.y,D=Math.sqrt(m*m+E*E),N=c*m/D,Q=c*E/D,Et=(a.x+o.x)/2,Vt=(a.y+o.y)/2;if(this._doLeft){var zt=new T(Et-Q,Vt+N);h.add(zt)}if(this._doRight){var ae=new T(Et+Q,Vt-N);h.add(ae)}},ks.prototype.interfaces_=function(){return[]},ks.prototype.getClass=function(){return ks};var to=function o(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=o.TOLERANCE,this._testCoords=new mt;var a=arguments[0],c=arguments[1],h=arguments[2];this._boundaryDistanceTolerance=o.computeBoundaryDistanceTolerance(a,c),this._geom=[a,c,h],this._locFinder=[new un(this._geom[0],this._boundaryDistanceTolerance),new un(this._geom[1],this._boundaryDistanceTolerance),new un(this._geom[2],this._boundaryDistanceTolerance)]},mr={TOLERANCE:{configurable:!0}};to.prototype.reportResult=function(o,a,c){re.out.println("Overlay result invalid - A:"+W.toLocationSymbol(a[0])+" B:"+W.toLocationSymbol(a[1])+" expected:"+(c?"i":"e")+" actual:"+W.toLocationSymbol(a[2]))},to.prototype.isValid=function(o){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(o)},to.prototype.checkValid=function(){if(1===arguments.length){for(var o=arguments[0],a=0;a<this._testCoords.size();a++){var c=this._testCoords.get(a);if(!this.checkValid(o,c))return this._invalidLocation=c,!1}return!0}if(2===arguments.length){var h=arguments[0],m=arguments[1];return this._location[0]=this._locFinder[0].getLocation(m),this._location[1]=this._locFinder[1].getLocation(m),this._location[2]=this._locFinder[2].getLocation(m),!!to.hasLocation(this._location,W.BOUNDARY)||this.isValidResult(h,this._location)}},to.prototype.addTestPts=function(o){var a=new ks(o);this._testCoords.addAll(a.getPoints(5*this._boundaryDistanceTolerance))},to.prototype.isValidResult=function(o,a){var c=$e.isResultOfOp(a[0],a[1],o),h=!(c^a[2]===W.INTERIOR);return h||this.reportResult(o,a,c),h},to.prototype.getInvalidLocation=function(){return this._invalidLocation},to.prototype.interfaces_=function(){return[]},to.prototype.getClass=function(){return to},to.hasLocation=function(o,a){for(var c=0;c<3;c++)if(o[c]===a)return!0;return!1},to.computeBoundaryDistanceTolerance=function(o,a){return Math.min(In.computeSizeBasedSnapTolerance(o),In.computeSizeBasedSnapTolerance(a))},to.isValid=function(o,a,c,h){return new to(o,a,h).isValid(c)},mr.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(to,mr);var xi=function o(a){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=o.extractFactory(a),this._inputGeoms=a};xi.prototype.extractElements=function(o,a){if(null===o)return null;for(var c=0;c<o.getNumGeometries();c++){var h=o.getGeometryN(c);this._skipEmpty&&h.isEmpty()||a.add(h)}},xi.prototype.combine=function(){for(var o=new mt,a=this._inputGeoms.iterator();a.hasNext();){var c=a.next();this.extractElements(c,o)}return 0===o.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(o)},xi.prototype.interfaces_=function(){return[]},xi.prototype.getClass=function(){return xi},xi.combine=function(){return 1===arguments.length?new xi(arguments[0]).combine():2===arguments.length?new xi(xi.createList(arguments[0],arguments[1])).combine():3===arguments.length?new xi(xi.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},xi.extractFactory=function(o){return o.isEmpty()?null:o.iterator().next().getFactory()},xi.createList=function(){if(2===arguments.length){var o=arguments[0],a=arguments[1],c=new mt;return c.add(o),c.add(a),c}if(3===arguments.length){var h=arguments[0],m=arguments[1],E=arguments[2],D=new mt;return D.add(h),D.add(m),D.add(E),D}};var Dr=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new mt)},Xa={STRTREE_NODE_CAPACITY:{configurable:!0}};Dr.prototype.reduceToGeometries=function(o){for(var a=new mt,c=o.iterator();c.hasNext();){var h=c.next(),m=null;Bt(h,de)?m=this.unionTree(h):h instanceof Le&&(m=h),a.add(m)}return a},Dr.prototype.extractByEnvelope=function(o,a,c){for(var h=new mt,m=0;m<a.getNumGeometries();m++){var E=a.getGeometryN(m);E.getEnvelopeInternal().intersects(o)?h.add(E):c.add(E)}return this._geomFactory.buildGeometry(h)},Dr.prototype.unionOptimized=function(o,a){var c=o.getEnvelopeInternal(),h=a.getEnvelopeInternal();if(!c.intersects(h))return xi.combine(o,a);if(o.getNumGeometries()<=1&&a.getNumGeometries()<=1)return this.unionActual(o,a);var m=c.intersection(h);return this.unionUsingEnvelopeIntersection(o,a,m)},Dr.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var o=new Uo(Dr.STRTREE_NODE_CAPACITY),a=this._inputPolys.iterator();a.hasNext();){var c=a.next();o.insert(c.getEnvelopeInternal(),c)}this._inputPolys=null;var h=o.itemsTree();return this.unionTree(h)},Dr.prototype.binaryUnion=function(){if(1===arguments.length){var o=arguments[0];return this.binaryUnion(o,0,o.size())}if(3===arguments.length){var a=arguments[0],c=arguments[1],h=arguments[2];if(h-c<=1){var m=Dr.getGeometry(a,c);return this.unionSafe(m,null)}if(h-c==2)return this.unionSafe(Dr.getGeometry(a,c),Dr.getGeometry(a,c+1));var E=Math.trunc((h+c)/2),D=this.binaryUnion(a,c,E),N=this.binaryUnion(a,E,h);return this.unionSafe(D,N)}},Dr.prototype.repeatedUnion=function(o){for(var a=null,c=o.iterator();c.hasNext();){var h=c.next();a=null===a?h.copy():a.union(h)}return a},Dr.prototype.unionSafe=function(o,a){return null===o&&null===a?null:null===o?a.copy():null===a?o.copy():this.unionOptimized(o,a)},Dr.prototype.unionActual=function(o,a){return Dr.restrictToPolygons(o.union(a))},Dr.prototype.unionTree=function(o){var a=this.reduceToGeometries(o);return this.binaryUnion(a)},Dr.prototype.unionUsingEnvelopeIntersection=function(o,a,c){var h=new mt,m=this.extractByEnvelope(c,o,h),E=this.extractByEnvelope(c,a,h),D=this.unionActual(m,E);return h.add(D),xi.combine(h)},Dr.prototype.bufferUnion=function(){if(1===arguments.length){var o=arguments[0];return o.get(0).getFactory().buildGeometry(o).buffer(0)}if(2===arguments.length){var a=arguments[0],c=arguments[1];return a.getFactory().createGeometryCollection([a,c]).buffer(0)}},Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr},Dr.restrictToPolygons=function(o){if(Bt(o,ds))return o;var a=Lo.getPolygons(o);return 1===a.size()?a.get(0):o.getFactory().createMultiPolygon(Ne.toPolygonArray(a))},Dr.getGeometry=function(o,a){return a>=o.size()?null:o.get(a)},Dr.union=function(o){return new Dr(o).union()},Xa.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Dr,Xa);var Di=function(){};Di.prototype.interfaces_=function(){return[]},Di.prototype.getClass=function(){return Di},Di.union=function(o,a){if(o.isEmpty()||a.isEmpty()){if(o.isEmpty()&&a.isEmpty())return $e.createEmptyResult($e.UNION,o,a,o.getFactory());if(o.isEmpty())return a.copy();if(a.isEmpty())return o.copy()}return o.checkNotGeometryCollection(o),o.checkNotGeometryCollection(a),hn.overlayOp(o,a,$e.UNION)},A.GeoJSONReader=qs,A.GeoJSONWriter=ja,A.OverlayOp=$e,A.UnionOp=Di,A.BufferOp=ti,Object.defineProperty(A,"__esModule",{value:!0})}(vt)}},Dt=>{Dt(Dt.s=476)}]);